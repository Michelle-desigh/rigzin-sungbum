<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ‰æ—ºè«¾å¸ƒå…¨é›†é–±è®€ç³»çµ±</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            min-height: 100vh;
            color: #333;
            /* background for #appContainer is set separately */
        }

        /* Mode Selector Screen */
        #modeSelectorScreen {
            display: flex; 
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            background-image: url('https://www.designwant.com/images/meta_og/6309_1200_630.jpg'); /* Using web URL */
            background-size: cover;
            background-position: center;
            color: white;
            text-align: center;
            position: relative; 
        }
        #modeSelectorScreen::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(40, 40, 70, 0.55); /* Darker overlay for better text contrast */
            z-index: 1;
        }
        #modeSelectorScreen > * { /* Target direct children: h1, p, div with buttons */
            position: relative;
            z-index: 2; /* Ensure content is above overlay */
        }
        #modeSelectorScreen h1 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
             font-family: "Noto Serif TC", "Songti SC", serif; 
        }
        #modeSelectorScreen p {
            font-size: 1.2rem;
            margin-bottom: 2.5rem;
            opacity: 0.9;
        }
        .mode-button {
            padding: 1rem 2.5rem;
            font-size: 1.2rem;
            margin: 0.5rem;
            border: 2px solid white;
            background-color: transparent;
            color: white;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
        }
        .mode-button:hover {
            background-color: white;
            color: #764ba2;
            transform: translateY(-3px);
        }

        /* Main App Container (hidden initially) */
        #appContainer {
            display: none; /* Initially hidden, JS will show it */
            width: 100%;
            min-height: 100vh;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); /* Background for the app itself */
        }
        body.app-active #appContainer { display: flex; } /* Activate flex when app is shown */


        /* Left Sidebar */
        .sidebar {
            width: 280px;
            background: rgba(255,255,255,0.98);
            backdrop-filter: blur(20px);
            overflow-y: auto;
            position: fixed;
            height: 100vh;
            left: 0;
            top: 0;
            z-index: 100;
            box-shadow: 2px 0 15px rgba(0,0,0,0.1);
            border-right: 1px solid rgba(255,255,255,0.2);
            transition: transform 0.3s ease; /* For mobile toggle */
        }
        .sidebar-header { padding: 2rem 1.5rem; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; text-align: center; }
        .sidebar-title {
            font-size: 1.2rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
            font-family: "Noto Serif TC", "Songti SC", serif; 
        }
        .sidebar-subtitle { font-size: 0.9rem; opacity: 0.9; font-style: italic; }
        .course-menu { padding: 1rem 0; }
        .course-category { margin-bottom: 1rem; }
        .category-header { padding: 1rem 1.5rem; background: linear-gradient(90deg, rgba(102, 126, 234, 0.1) 0%, rgba(102, 126, 234, 0.05) 100%); font-weight: 600; color: #4c51bf; font-size: 0.9rem; cursor: pointer; display: flex; justify-content: space-between; align-items: center; transition: all 0.3s ease; border-left: 4px solid transparent; }
        .category-header:hover { background: linear-gradient(90deg, rgba(102, 126, 234, 0.15) 0%, rgba(102, 126, 234, 0.08) 100%); border-left-color: #667eea; }
        .category-toggle { font-size: 0.8rem; transition: transform 0.3s ease; }
        .category-header.collapsed .category-toggle { transform: rotate(-90deg); }
        .course-list { background: white; max-height: 500px; overflow-y: auto; overflow-x: hidden; transition: max-height 0.3s ease; }
        .course-list.collapsed { max-height: 0; overflow: hidden;}
        .course-item { padding: 0.8rem 1.5rem 0.8rem 2rem; cursor: pointer; transition: all 0.3s ease; border-left: 3px solid transparent; display: flex; justify-content: space-between; align-items: center; font-size: 0.85rem; /* white-space: nowrap; /* Removed for status to not overflow */ /* overflow: hidden; text-overflow: ellipsis; */ }
        .course-item span:first-child { white-space: nowrap; overflow: hidden; text-overflow: ellipsis; flex-grow: 1; margin-right: 10px; }
        .course-item:hover { background: rgba(102, 126, 234, 0.05); border-left-color: #667eea; transform: translateX(5px); }
        .course-item.active { background: rgba(102, 126, 234, 0.1); border-left-color: #667eea; font-weight: 600; color: #4c51bf; }
        
        .course-status { font-size: 0.7rem; padding: 0.2rem 0.5rem; border-radius: 12px; font-weight: 500; flex-shrink: 0; margin-left: auto; /* Push to the right */ }
        .course-status.completed { background: #d1fae5; color: #065f46; } /* Kept if used for read progress later */
        .course-status.current { background: #dbeafe; color: #1e40af; }
        .course-status.pending { background: #f3f4f6; color: #6b7280; }
        .course-status.published { background: #c6f6d5; color: #22543d; }
        .course-status.draft { background: #feebc8; color: #9c4221; }


        /* Main content area */
        .main-content {
            flex: 1;
            margin-left: 280px; /* Default for when left sidebar is present */
            min-height: 100vh;
            position: relative; /* For right sidebar positioning */
            padding-right: 0; /* Will be adjusted if right sidebar is active */
            transition: margin-left 0.3s ease, padding-right 0.3s ease;
        }
         .main-content.no-left-sidebar { margin-left: 0; }
         .main-content.with-right-sidebar { padding-right: 280px; } /* Space for right sidebar */


        /* Right Utility Sidebar */
        .utility-sidebar {
            width: 280px;
            overflow-y: auto;
            position: fixed;
            height: 100vh;
            right: -280px; 
            top: 0;
            z-index: 90; 
            box-shadow: -2px 0 15px rgba(0,0,0,0.1);
            border-left: 1px solid rgba(255,255,255,0.15); 
            transition: right 0.3s ease;
            padding: 0; 
            background-image: url('https://www.designwant.com/images/meta_og/6309_1200_630.jpg');
            background-size: cover;
            background-position: center;
            display: flex; 
            flex-direction: column; 
        }
        .utility-sidebar::before { 
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background-color: rgba(255, 255, 255, 0.55); 
            backdrop-filter: blur(3px); 
            z-index: 1; 
        }
        .utility-sidebar.open { right: 0; }
        .utility-sidebar-header {
            padding: 1.5rem 1rem;
            background: rgba(102, 126, 234, 0.75); 
            color: white;
            text-align: center;
            border-bottom: 1px solid rgba(255,255,255,0.2);
            position: relative; 
            z-index: 2;
            flex-shrink: 0; 
        }
        .utility-sidebar-title { font-size: 1.1rem; font-weight: 600; } 
        .utility-sidebar-content { 
            padding: 1rem;
            overflow-y: auto; 
            flex-grow: 1; 
            position: relative; 
            z-index: 2;
        }
        .utility-item {
            padding: 0.8rem 1rem;
            margin-bottom: 0.8rem;
            background: rgba(255, 255, 255, 0.85); 
            border-radius: 8px;
            color: #4c51bf; 
            font-weight: 500;
            cursor: pointer;
            transition: background 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.75rem;
            border: 1px solid rgba(0,0,0,0.05);
        }
        .utility-item:hover { background: rgba(230, 230, 245, 0.9); } 
        .utility-item-icon { font-size: 1.2rem; }
        
        #favoritesListContainerEl { 
            margin-top: 0.5rem;
            font-size: 0.9rem;
            padding: 0.8rem 1rem; 
            background: rgba(255, 255, 255, 0.85); 
            border-radius: 8px;
            margin-bottom: 0.8rem;
        }
        #favoritesListContainerEl .favorite-item { padding: 0.5rem 0; border-bottom: 1px dashed #ccc; color: #5c5c8a; cursor: pointer; }
        #favoritesListContainerEl .favorite-item:last-child { border-bottom: none; }
        #favoritesListContainerEl .favorite-item:hover { color: #667eea; }
        #favoritesListContainerEl p { color: #777; font-style: italic; }


        /* Top Bar */
        .top-bar { background: rgba(255,255,255,0.1); backdrop-filter: blur(20px); padding: 1rem 2rem; display: flex; justify-content: space-between; align-items: center; color: white; border-bottom: 1px solid rgba(255,255,255,0.1); position: sticky; top: 0; z-index: 50; }
        .breadcrumb { font-size: 0.9rem; opacity: 0.9; display: flex; align-items: center; gap: 0.5rem; }
        .user-section { display: flex; align-items: center; gap: 1rem; }
        .admin-btn, .utility-toggle-btn { padding: 0.6rem 1.2rem; background: rgba(255, 255, 255, 0.25); border: 1px solid rgba(255, 255, 255, 0.35); color: white; border-radius: 25px; cursor: pointer; font-weight: 500; transition: all 0.3s ease; font-size: 0.85rem; }
        .admin-btn:hover, .utility-toggle-btn:hover { background: rgba(255,255,255,0.9); color: #333; }
        .login-btn { padding: 0.6rem 1.5rem; background: rgba(255,255,255,0.2); border: 1px solid rgba(255,255,255,0.3); color: white; border-radius: 25px; cursor: pointer; font-weight: 500; transition: all 0.3s ease; display: flex; align-items: center; gap: 0.5rem; text-decoration: none; }
        .login-btn:hover { background: rgba(255,255,255,0.9); color: #333; transform: translateY(-2px); box-shadow: 0 4px 15px rgba(0,0,0,0.2); }
        .user-info { display: flex; align-items: center; gap: 1rem; color: white; }
        .user-avatar { width: 35px; height: 35px; border-radius: 50%; background: linear-gradient(45deg, #667eea, #764ba2); display: flex; align-items: center; justify-content: center; color: white; font-weight: 600; cursor: pointer; transition: all 0.3s ease; border: 2px solid rgba(255,255,255,0.3); }
        .user-avatar:hover { transform: scale(1.1); border-color: rgba(255,255,255,0.6); }

        .container { padding: 2rem; max-width: 1200px; margin: 0 auto; }
        .header { text-align: center; margin-bottom: 3rem; color: white; }
        .header h1 {
            font-size: 3rem;
            font-weight: 800;
            margin-bottom: 1rem;
            text-shadow: 0 4px 20px rgba(0,0,0,0.3);
            background: linear-gradient(45deg, #fff, #f0f0f0);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-family: "Noto Serif TC", "Songti SC", serif; 
        }
        .header p { font-size: 1.2rem; opacity: 0.9; margin-bottom: 2rem; font-style: italic; }
        .search-section { max-width: 600px; margin: 0 auto 3rem; position: relative; }
        .search-input { width: 100%; padding: 1rem 1.5rem 1rem 3rem; border: none; border-radius: 50px; font-size: 1.1rem; background: rgba(255,255,255,0.95); box-shadow: 0 8px 32px rgba(0,0,0,0.1); transition: all 0.3s ease; backdrop-filter: blur(10px); }
        .search-input:focus { outline: none; box-shadow: 0 12px 40px rgba(0,0,0,0.2); transform: translateY(-2px); }
        .search-icon { position: absolute; left: 1rem; top: 50%; transform: translateY(-50%); color: #666; font-size: 1.2rem; }
        .stats-bar { display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem; background: rgba(255,255,255,0.1); backdrop-filter: blur(10px); padding: 1rem 1.5rem; border-radius: 15px; color: white; }
        .view-controls { display: flex; gap: 0.5rem; }
        .view-btn { padding: 0.5rem 1rem; border: none; border-radius: 8px; background: rgba(255,255,255,0.2); color: white; cursor: pointer; transition: all 0.3s ease; font-size: 0.85rem; }
        .view-btn.active { background: rgba(255,255,255,0.9); color: #333; }
        
        .documents-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); gap: 2rem; margin-bottom: 3rem; }
        .document-card { background: rgba(255,255,255,0.95); border-radius: 20px; padding: 2rem; box-shadow: 0 8px 32px rgba(0,0,0,0.1); transition: all 0.4s ease; border: 1px solid rgba(255,255,255,0.2); position: relative; overflow: hidden; }
        .document-card::before { content: ''; position: absolute; top: 0; left: 0; right: 0; height: 4px; background: linear-gradient(90deg, #667eea, #764ba2); }
        .document-card:hover { transform: translateY(-8px) scale(1.02); box-shadow: 0 20px 60px rgba(0,0,0,0.15); }
        .document-title { font-family: "Tibetan Machine Uni", "Noto Sans Tibetan", "Noto Serif Tibetan", serif; font-size: 1.3rem; font-weight: 600; margin-bottom: 0.5rem; color: #2d3748; line-height: 1.6; }
        .document-subtitle { 
            font-family: "Noto Serif TC", "Songti SC", serif; 
            font-size: 1.1rem; 
            color: #4a5568; 
            margin-bottom: 1rem; 
            font-style: normal; 
        }
        .document-meta { display: flex; flex-direction: column; gap: 0.5rem; margin-bottom: 1.5rem; font-size: 0.9rem; color: #666; }
        .meta-item { display: flex; align-items: center; gap: 0.5rem; }
        .document-preview { font-family: "Tibetan Machine Uni", "Noto Sans Tibetan", "Noto Serif Tibetan", serif; font-size: 1rem; line-height: 1.8; color: #4a5568; margin-bottom: 1.5rem; max-height: 100px; overflow: hidden; position: relative; background: rgba(249, 250, 251, 0.5); padding: 0.8rem; border-radius: 8px; border-left: 3px solid #667eea; }
        .document-preview::after { content: ''; position: absolute; bottom: 0; left: 0; right: 0; height: 30px; background: linear-gradient(transparent, rgba(255,255,255,0.95)); }
        
        .document-actions { 
            display: flex; 
            gap: 0.75rem; /* Adjusted gap for potentially more buttons */
            justify-content: flex-start; /* Align buttons to the start for LTR context */
            flex-wrap: wrap; /* Allow buttons to wrap if space is tight */
            margin-top: 1rem; /* Add some space above actions */
        }
        .document-actions .btn {
            margin-bottom: 0.5rem; /* Add some bottom margin if they wrap */
        }

        .btn { padding: 0.75rem 1.5rem; border: none; border-radius: 12px; font-weight: 600; cursor: pointer; transition: all 0.3s ease; text-decoration: none; display: inline-flex; align-items: center; gap: 0.5rem; font-size: 0.9rem; }
        .btn-primary { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3); }
        .btn-primary:hover { transform: translateY(-2px); box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4); }
        .btn-secondary { background: rgba(0,0,0,0.05); color: #666; border: 1px solid rgba(0,0,0,0.1); }
        .btn-secondary:hover { background: rgba(0,0,0,0.1); transform: translateY(-1px); }
        
        .btn-danger { background-color: #f56565; color: white; box-shadow: 0 4px 15px rgba(229, 62, 62, 0.3); }
        .btn-danger:hover { background-color: #e53e3e; transform: translateY(-2px); box-shadow: 0 8px 25px rgba(229, 62, 62, 0.4); }
        .btn-success { background-color: #48bb78; color: white; box-shadow: 0 4px 15px rgba(72, 187, 120, 0.3); }
        .btn-success:hover { background-color: #38a169; transform: translateY(-2px); box-shadow: 0 8px 25px rgba(72, 187, 120, 0.4); }
        .btn-warning { background-color: #ecc94b; color: #1a202c; box-shadow: 0 4px 15px rgba(236, 201, 75, 0.3); }
        .btn-warning:hover { background-color: #d69e2e; transform: translateY(-2px); box-shadow: 0 8px 25px rgba(236, 201, 75, 0.4); }


        /* Modal styles */
        .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); backdrop-filter: blur(5px); z-index: 1000; align-items: center; justify-content: center; animation: fadeIn 0.3s ease; }
        .modal.active { display: flex; }
        .modal-content { background: white; border-radius: 20px; max-width: 90vw; max-height: 90vh; overflow-y: auto; position: relative; margin: 2rem; box-shadow: 0 20px 80px rgba(0,0,0,0.3); animation: slideIn 0.3s ease; }
        #articleFormModalEl .modal-content { max-width: 700px; } 
        #utilityModalEl .modal-content { max-width: 500px; } 
        .modal-header { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 1.5rem 2rem; border-radius: 20px 20px 0 0; position: sticky; top: 0; z-index: 10; display: flex; justify-content: space-between; align-items: center; }
        .modal-header h2 { 
            margin: 0; 
            font-size: 1.3rem; 
            font-family: "Noto Serif TC", "Songti SC", serif; 
        }
        .modal-header .modal-title-tibetan { font-family: "Tibetan Machine Uni", "Noto Sans Tibetan", "Noto Serif Tibetan", serif; font-size: 1.1rem; opacity: 0.8; margin-top: 0.3rem; }
        .close-btn { background: none; border: none; color: white; font-size: 2rem; cursor: pointer; opacity: 0.8; transition: opacity 0.3s ease; width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; }
        .close-btn:hover { opacity: 1; background: rgba(255,255,255,0.1); }
        .modal-body { padding: 2rem; }
        .modal-body h3 { color: #6a0dad; font-size: 1.5em; margin-top: 20px; margin-bottom: 10px; border-left: 4px solid #6a0dad; padding-left: 8px; } 
        .form-group { margin-bottom: 1.5rem; }
        .form-group label { display: block; margin-bottom: 0.5rem; font-weight: 600; color: #2d3748; }
        .form-control, .form-select, .form-textarea { width: 100%; padding: 0.8rem; border: 2px solid #e2e8f0; border-radius: 10px; font-size: 1rem; transition: all 0.3s ease; }
        .form-textarea { min-height: 150px; resize: vertical; font-family: "Tibetan Machine Uni", "Noto Sans Tibetan", "Noto Serif TC", serif; }
        .form-control:focus, .form-select:focus, .form-textarea:focus { outline: none; border-color: #667eea; box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1); }
        
        .text-content-base { font-family: "Noto Serif TC", "Songti SC", serif; line-height: 1.8; color: #333; }
        .tibetan-text { font-family: "Tibetan Machine Uni", "Noto Sans Tibetan", "Noto Serif Tibetan", serif; font-size: 1.1em; line-height: 2; direction: ltr; text-align: left; margin-bottom: 1em; white-space: pre-wrap; }
        .chinese-text { font-family: "Noto Serif TC", "Songti SC", serif; font-size: 1.05em; text-align: justify; margin-bottom: 1em; white-space: pre-wrap; }
        .colophon { font-style: italic; font-size: 0.9em; color: #666; margin-top: 20px; border-top: 1px dashed #ccc; padding-top: 15px; white-space: pre-wrap; }

        #modalEditableTitleContainer .form-control { 
            margin-bottom: 0.5rem; 
            font-family: "Noto Serif TC", "Songti SC", serif; 
        }
        #editableModalTibetanTitle.form-control { 
            font-family: "Tibetan Machine Uni", "Noto Sans Tibetan", "Noto Serif Tibetan", serif; 
        }
        #saveModalTitleBtn { 
            padding: 0.5rem 1rem; 
            font-size: 0.85rem; 
            margin-top: 0.5rem; 
            background: #5cb85c; 
            border-color: #4cae4c;
            color: white;
        }
         #saveModalTitleBtn:hover {
            background: #4cae4c;
        }


        .message { position: fixed; top: 20px; right: 20px; padding: 1rem 1.5rem; border-radius: 10px; color: white; font-weight: 500; z-index: 1001; box-shadow: 0 4px 20px rgba(0,0,0,0.2); animation: slideInRight 0.3s ease; }
        .message.success { background: linear-gradient(135deg, #48bb78, #38a169); }
        .message.error { background: linear-gradient(135deg, #f56565, #e53e3e); }
        .message.info { background: linear-gradient(135deg, #4299e1, #3182ce); }

        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes slideIn { from { opacity: 0; transform: translateY(-50px) scale(0.95); } to { opacity: 1; transform: translateY(0) scale(1); } }
        @keyframes slideInRight { from { opacity: 0; transform: translateX(100px); } to { opacity: 1; transform: translateX(0); } }

        @media (max-width: 768px) {
            .sidebar { transform: translateX(-100%); }
            .sidebar.open { transform: translateX(0); }
            .utility-sidebar { width: 250px; right: -250px; transform: none; }
            .utility-sidebar.open { right: 0; }
            .main-content { margin-left: 0; padding-right: 0 !important; }
            .top-bar { padding: 1rem; }
            .container { padding: 1rem; }
            .header h1 { font-size: 2rem; }
            .documents-grid { grid-template-columns: 1fr; gap: 1rem; }
            .stats-bar { flex-direction: column; gap: 1rem; }
            .modal-content { margin: 1rem; max-width: calc(100vw - 2rem); }
            #articleFormModalEl .modal-content { max-width: calc(100vw - 2rem); } 
            .menu-toggle { display: block !important; }
        }

        .menu-toggle { display: none; background: none; border: none; color: white; font-size: 1.5rem; cursor: pointer; padding: 0.5rem; border-radius: 5px; transition: background 0.3s ease; }
        .menu-toggle:hover { background: rgba(255,255,255,0.1); }
        
        .floating-elements { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: -1; }
        .floating-element { position: absolute; width: 20px; height: 20px; background: rgba(255,255,255,0.1); border-radius: 50%; animation: float 6s ease-in-out infinite; }
        @keyframes float { 0%, 100% { transform: translateY(0px) rotate(0deg); } 50% { transform: translateY(-20px) rotate(180deg); } }

        .admin-only { display: none !important; } 
        .reader-only { display: none !important; }
        body.edit-mode .admin-only { display: inline-flex !important; }
        body.edit-mode .admin-btn.admin-only { display: inline-flex !important; }
        body.edit-mode .user-info.admin-only { display: flex !important; }
        body.edit-mode #saveModalTitleBtn.admin-only { display: inline-block !important; }


        body.read-mode .reader-only { display: block !important; }
        body.read-mode .utility-toggle-btn.reader-only { display: inline-flex !important; }
        body.read-mode .utility-sidebar.reader-only { display: flex !important; } 
        body.read-mode .btn-secondary.reader-only { display: inline-flex !important; }

    </style>
</head>
<body class="">
    <div class="floating-elements">
        <div class="floating-element" style="top: 20%; left: 10%; animation-delay: 0s;"></div>
        <div class="floating-element" style="top: 60%; left: 80%; animation-delay: 2s;"></div>
        <div class="floating-element" style="top: 80%; left: 20%; animation-delay: 4s;"></div>
    </div>

    <div id="modeSelectorScreen">
        <h1>æ‰æ—ºè«¾å¸ƒå…¨é›†é–±è®€ç³»çµ±</h1>
        <p>à½šà½ºà¼‹à½‘à½–à½„à¼‹à½“à½¼à½¢à¼‹à½–à½´à½ à½²à¼‹à½‚à½¦à½´à½„à¼‹à½ à½–à½´à½˜à¼‹à½€à¾³à½¼à½‚à¼‹à½¦à¾Ÿà½ºà½‚à½¦à¼</p>
        <div>
            <button class="mode-button" onclick="enterMode('read')">ğŸ“– é€²å…¥é–±è®€æ¨¡å¼</button>
            <button class="mode-button" onclick="enterMode('edit')">ğŸ” é€²å…¥ç·¨è¼¯æ¨¡å¼</button>
        </div>
    </div>

    <div id="appContainer">
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <h2 class="sidebar-title">èª²ç¨‹ç›®éŒ„</h2>
                <p class="sidebar-subtitle">à½¦à¾³à½¼à½–à¼‹à½šà½“à¼‹à½‚à¾±à½²à¼‹à½‘à½€à½¢à¼‹à½†à½‚</p>
            </div>
            <nav class="course-menu" id="courseMenuContainer"></nav>
        </aside>

        <main class="main-content" id="mainContentArea">
            <div class="top-bar">
                <div style="display: flex; align-items: center; gap: 1rem;">
                    <button class="menu-toggle" id="leftSidebarToggle" onclick="toggleSidebar('sidebar')">â˜°</button>
                    <div class="breadcrumb" id="breadcrumbPath">
                        <span>ğŸ  é¦–é </span>
                        <span>></span>
                        <span id="currentDocCategory"></span>
                        <span>></span>
                        <span id="currentDocTitle"></span>
                    </div>
                </div>
                <div class="user-section" id="userSectionEl"></div>
            </div>

            <div class="container">
                <header class="header">
                    <h1>æ‰æ—ºè«¾å¸ƒå…¨é›†é–±è®€ç³»çµ±</h1>
                    <p>à½šà½ºà¼‹à½‘à½–à½„à¼‹à½“à½¼à½¢à¼‹à½–à½´à½ à½²à¼‹à½‚à½¦à½´à½„à¼‹à½ à½–à½´à½˜à¼‹à½€à¾³à½¼à½‚à¼‹à½¦à¾Ÿà½ºà½‚à½¦à¼ | Tsewang Norbu Complete Works Reading System</p>
                </header>
                <div class="search-section">
                    <div style="position: relative;">
                        <span class="search-icon">ğŸ”</span>
                        <input type="text" class="search-input" placeholder="æœå°‹æ–‡ç»æ¨™é¡Œã€å…§å®¹æˆ–ä½œè€…..." id="searchInputEl">
                    </div>
                </div>
                <div class="stats-bar">
                    <div class="view-controls">
                        <button class="view-btn active" id="gridViewBtn">ğŸ“‡ å¡ç‰‡æª¢è¦–</button>
                        <button class="view-btn" id="listViewBtn">ğŸ“‹ æ¸…å–®æª¢è¦–</button>
                    </div>
                    <div style="font-size: 0.9rem; opacity: 0.9;">
                        ç¸½è¨ˆ <strong id="totalCountEl">0</strong> éƒ¨æ–‡ç»
                    </div>
                </div>
                <div class="documents-grid" id="documentsGridEl"></div>
            </div>
        </main>

        <aside class="utility-sidebar reader-only" id="utilitySidebarEl">
            <div class="utility-sidebar-header">
                <h3 class="utility-sidebar-title">å·¥å…·é¸å–®</h3>
            </div>
            <div class="utility-sidebar-content"> 
                <div class="utility-item" onclick="showFavorites()">
                    <span class="utility-item-icon">â¤ï¸</span> å·²æ”¶è—æ–‡ç« 
                </div>
                <div id="favoritesListContainerEl" style="display:none;">
                    <p>æš«ç„¡æ”¶è—ã€‚</p>
                </div>
                <div class="utility-item" onclick="showUtilityModal('reportErrorModal', 'å›å ±éŒ¯å­—')">
                    <span class="utility-item-icon">ğŸ</span> å›å ±éŒ¯å­—
                </div>
                <div class="utility-item" onclick="showUtilityModal('donateModal', 'è­·æŒè´ŠåŠ©')">
                    <span class="utility-item-icon">ğŸ’–</span> è­·æŒè´ŠåŠ©
                </div>
            </div>
        </aside>
    </div>

    <div class="modal" id="documentModalEl">
        <div class="modal-content">
            <div class="modal-header">
                 <div style="width: calc(100% - 50px);"> 
                    <div id="modalStaticTitleContainer">
                        <h2 id="modalTitleEl">Document Title</h2>
                        <div id="modalTitleTibetanEl" class="modal-title-tibetan">Tibetan Title</div>
                    </div>
                    <div id="modalEditableTitleContainer" style="display:none; width:100%;">
                        <div class="form-group" style="margin-bottom: 0.5rem;">
                            <input type="text" id="editableModalChineseTitle" class="form-control" placeholder="æ ¡æ­£ç¯‡ç« çš„æ¨™é¡Œ (ä¸­æ–‡)">
                        </div>
                        <div class="form-group" style="margin-bottom: 0.5rem;">
                            <input type="text" id="editableModalTibetanTitle" class="form-control" placeholder="æ ¡æ­£ç¯‡ç« çš„æ¨™é¡Œ (è—æ–‡)">
                        </div>
                        <button id="saveModalTitleBtn" class="btn btn-sm admin-only">å„²å­˜æ¨™é¡Œ</button>
                    </div>
                </div>
                <button class="close-btn" onclick="closeModal('documentModalEl')">Ã—</button>
            </div>
            <div class="modal-body text-content-base" id="modalBodyEl">
                 <div id="modalTibetanContentEl"></div>
                 <hr style="margin: 30px 0; border: 0; border-top: 1px dashed #ccc;">
                 <div id="modalChineseContentEl"></div>
            </div>
        </div>
    </div>

    <div class="modal" id="adminLoginModalEl">
        <div class="modal-content" style="max-width: 450px;">
            <div class="modal-header">
                <h2>ğŸ”’ ç®¡ç†å“¡ç™»å…¥</h2>
                <button class="close-btn" onclick="closeModal('adminLoginModalEl'); showModeSelectorScreen();">Ã—</button>
            </div>
            <div class="modal-body">
                <form id="adminLoginFormEl">
                    <div class="form-group">
                        <label for="adminUsername">ç”¨æˆ¶å</label>
                        <input type="text" id="adminUsername" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label for="adminPassword">å¯†ç¢¼</label>
                        <input type="password" id="adminPassword" class="form-control" required>
                    </div>
                    <button type="submit" class="btn btn-primary" style="width: 100%;">ç™»å…¥</button>
                </form>
            </div>
        </div>
    </div>

    <div class="modal" id="articleFormModalEl">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="articleFormModalTitleEl">ğŸ“ æ–°å¢/ç·¨è¼¯æ–‡ç»</h2>
                <button class="close-btn" onclick="closeModal('articleFormModalEl')">Ã—</button>
            </div>
            <div class="modal-body">
                <form id="articleFormEl">
                    <input type="hidden" id="articleId">
                    <div class="form-group">
                        <label for="articleTibetanTitle">è—æ–‡æ¨™é¡Œ</label>
                        <input type="text" id="articleTibetanTitle" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label for="articleChineseTitle">ä¸­æ–‡æ¨™é¡Œ</label>
                        <input type="text" id="articleChineseTitle" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label for="articleAuthor">ä½œè€…</label>
                        <input type="text" id="articleAuthor" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label for="articleCategory">åˆ†é¡</label>
                        <input type="text" id="articleCategory" class="form-control" placeholder="ä¾‹å¦‚ï¼šç¥ˆè«‹æ–‡ã€è‡ªå‚³" required>
                    </div>
                    <div class="form-group">
                        <label for="articleTags">æ¨™ç±¤ (é€—è™Ÿåˆ†éš”)</label>
                        <input type="text" id="articleTags" class="form-control" placeholder="ä¾‹å¦‚ï¼šé•·å£½, é‡‘å‰›çµ">
                    </div>
                    <div class="form-group">
                        <label for="articleFullContentTibetan">è—æ–‡å…§å®¹</label>
                        <textarea id="articleFullContentTibetan" class="form-textarea" required></textarea>
                    </div>
                    <div class="form-group">
                        <label for="articleFullContentChinese">ä¸­æ–‡å…§å®¹</label>
                        <textarea id="articleFullContentChinese" class="form-textarea" required></textarea>
                    </div>
                    <button type="submit" class="btn btn-primary" style="width: 100%;">å„²å­˜æ–‡ç»</button>
                </form>
            </div>
        </div>
    </div>

    <div class="modal" id="utilityModalEl">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="utilityModalTitleEl">å·¥å…·è¦–çª—</h2>
                <button class="close-btn" onclick="closeModal('utilityModalEl')">Ã—</button>
            </div>
            <div class="modal-body" id="utilityModalBodyEl">
            </div>
        </div>
    </div>

    <div id="messageAreaEl"></div>

    <script>
        let documentsData = []; 
        const initialDocuments = [ 
            { id: 'mamo_secret', tibetanTitle: 'à½˜à¼‹à½˜à½¼à¼‹à½‚à½¦à½„à¼‹à½–à¼‹à½£à½¦à¼‹à½€à¾±à½²à¼‹à½à½²à½‚à¼‹à½£à½ºà¼', chineseTitle: 'åª½å««ç§˜å¯†æ¥­ä¹‹æ˜é»', author: 'è“®èŠ±ç”Ÿå¤§å¸« (à½¦à¾³à½¼à½–à¼‹à½‘à½”à½¼à½“à¼‹à½”à½‘à¾¨à¼‹à½¦à½¾à¼‹à½–à¾·à½±à¼‹à½–)', category: 'è‡ªå‚³', preview: '', tags: ['å¯†çºŒ', 'ç©ºè¡Œæ¯', 'å„€è»Œ'], meta: { words: '', pages: '', readTime: '' }, status: 'published', fullContentTibetan: `<p class="tibetan-text">à½‘à½”à½£à¼‹à½£à¾¡à½“à¼‹à½˜à½à½ à¼‹à½ à½‚à¾²à½¼à½ à½²à¼‹à½šà½¼à½‚à½¦à¼‹à½–à½…à½¦à¼‹à½£à¼ à¼à½¢à¾£à½˜à¼‹à½”à½¢à¼‹à½–à½à½´à½‘à¼‹à½‘à½ºà¼‹à½•à¾±à½‚à¼‹à½ à½šà½£à¼‹à½£à½¼à¼ à¼à½‘à½–à¾±à½²à½„à½¦à¼‹à½‘à½„à¼‹à½¡à½ºà¼‹à½¤à½ºà½¦à¼‹à½‘à½–à¾±à½ºà½¢à¼‹à½˜à½ºà½‘à¼‹à½”à½ à½²à¼ à¼à½˜à½à½ à¼‹à½ à½‚à¾²à½¼à¼‹à½‘à¾²à½´à½‚à¼‹à½…à½´à¼‹à½¢à¾©à¼‹à½–à½¢à¾’à¾±à½‘à¼‹à½€à¾±à½²à¼ à¼à½‚à½™à½¼à¼‹à½˜à½¼à¼‹à½¦à¾²à½²à½‘à¼‹à½”à¼‹à½–à½‘à½ºà¼‹à½ à½‚à¾²à½¼à½ à½²à¼‹à½à½´à½‚à½¦à¼ à¼à½‚à½“à½¦à¼‹à½£à½´à½‚à½¦à¼‹à½à½–à½¦à¼‹à½‘à½„à¼‹à½¤à½ºà½¦à¼‹à½¢à½–à¼‹à½€à¾±à½²à½¦à¼ à¼à½ à½‚à¾²à½¼à¼‹à½–à¼‹à½ à½‘à¾²à½ºà½“à¼‹à½˜à½›à½‘à¼‹à½¡à½´à½˜à¼‹à½†à½ºà½“à¼‹à½£à¼ à¼à½‚à½¦à½¼à½£à¼‹à½–à¼‹à½ à½‘à½ºà½–à½¦à¼‹à½¦à½¼à¼‹à½–à¾±à½²à½“à¼‹à½‚à¾±à½²à½¦à¼‹à½¢à¾³à½¼à½–à½¦à¼ à¼</p>`, fullContentChinese: `<p class="chinese-text">å‘å…·å¾·ç©ºè¡Œæ¯åŠçœ·å±¬ï¼Œæ­æ•¬é ‚ç¦®ï¼<br>æ³•ç•Œèˆ‡æ™ºæ…§ç„¡äºŒèåˆä¸­ï¼Œå…­åå…«ç©ºè¡Œæ¯ä¹‹ä¸»å°Šï¼Œè¼ªè¿´å–„è¶£å¿ƒè¦ä¹‹æ‰€åœ¨ï¼Œä»¥å¯¦ç›¸æ–¹ä¾¿èˆ‡æ™ºæ…§ï¼Œå¼•å°çœ¾ç”Ÿä¹‹å¤§ä½›æ¯å‰ï¼Œç¥ˆè«‹åŠ æŒï¼</p>`},
            { id: 'prayer1', tibetanTitle: ' à¼ˆ à½šà½ºà¼‹à½¦à¾’à¾²à½´à½–à¼‹à½¢à¾¡à½¼à¼‹à½¢à¾—à½ºà¼‹à½¢à¾’à¾±à¼‹à½˜à½‘à½´à½‘à¼‹à½€à¾±à½²à¼‹à½‚à½¦à½¼à½£à¼‹à½ à½‘à½ºà½–à½¦à¼‹à½˜à½²à¼‹à½¤à½²à½‚à½¦à¼‹à½‘à¾­à½„à½¦à¼‹à½˜à½ à½²à¼‹à½‘à½„à½¼à½¦à¼‹à½‚à¾²à½´à½–à¼‹à½…à½ºà½¦à¼‹à½–à¾±à¼‹à½–à¼‹à½–à½à½´à½‚à½¦à¼‹à½¦à½¼à¼ à¼', chineseTitle: 'å£½ä¿®é‡‘å‰›çµä¹‹ç¥ˆè«‹æ–‡ã€ˆä¸æ»…ç²¾ç²¹æˆå°±ã€‰', author: 'ä»çæ‰æ—ºè«¾å¸ƒ', category: 'ç¥ˆè«‹æ–‡', preview: '', tags: ['é•·å£½', 'é‡‘å‰›çµ', 'ç¥ˆè«‹'], meta: { words: '', pages: '', readTime: '' }, status: 'published', fullContentTibetan: `<p class="tibetan-text">à¼ˆ à½šà½ºà¼‹à½¦à¾’à¾²à½´à½–à¼‹à½¢à¾¡à½¼à¼‹à½¢à¾—à½ºà¼‹à½¢à¾’à¾±à¼‹à½˜à½‘à½´à½‘à¼‹à½€à¾±à½²à¼‹à½‚à½¦à½¼à½£à¼‹à½ à½‘à½ºà½–à½¦à¼‹à½˜à½²à¼‹à½¤à½²à½‚à½¦à¼‹à½‘à¾­à½„à½¦à¼‹à½˜à½ à½²à¼‹à½‘à½„à½¼à½¦à¼‹à½‚à¾²à½´à½–à¼‹à½…à½ºà½¦à¼‹à½–à¾±à¼‹à½–à¼‹à½–à½à½´à½‚à½¦à¼‹à½¦à½¼à¼ à¼<br>à½¨à½¼à½¾à¼‹à½¨à½±à¼‹à½§à½±à½´à¾ƒà¼‹à½§à¾²à½±à½²à½¿ à½˜à½²à¼‹à½¤à½²à½‚à¼‹à½‘à¾­à½„à½¦à¼‹à½˜à¼‹à½¢à¾Ÿà½‚à¼‹à½–à½¢à¾Ÿà½“à¼‹à½‚à½¡à½´à½„à¼‹à½‘à¾²à½´à½„à¼‹à½‚à½² à¼à½„à½¼à¼‹à½–à½¼à½¢à¼‹à½¢à½–à¼‹à½–à½à½´à½‚à½¦à¼‹à½–à½‘à½ºà¼‹à½†à½ºà½“à¼‹à½ à½à½¼à½¢à¼‹à½£à½¼à½¦à¼‹à½–à½¦à¾’à¾±à½´à½¢à¼ à¼à½¢à¾’à¾±à½£à¼‹à½–à¼‹à½¢à¾’à¾±à¼‹à½˜à½šà½¼à½ à½²à¼‹à½¦à¾¤à¾²à½´à½£à¼‹à½–à½à½²à¼‹à½ à½¼à½‘à¼‹à½‘à½”à½‚à¼‹à½˜à½ºà½‘à¼ à¼à½šà½ºà¼‹à½–à½‘à½‚à¼‹à½˜à½‚à½¼à½“à¼‹à½”à½¼à¼‹à½˜à½†à½¼à½‚à¼‹à½‘à½ºà½¢à¼‹à½‚à½¦à½¼à½£à¼‹à½–à¼‹à½ à½‘à½ºà½–à½¦à¼ à¼à½”à½‘à¾¨à½ à½²à¼‹à½¢à½²à½‚à½¦à¼‹à½…à½“à¼‹à½¡à½¼à½„à½¦à¼‹à½€à¾±à½²à¼‹à½–à½‘à½‚à¼‹à½”à½¼à¼‹à½†à½ºà¼ à¼à½¢à¾’à¾±à½£à¼‹à½–à¼‹à½¦à¾²à½¦à¼‹à½–à½…à½¦à¼‹à½à½´à½‚à½¦à¼‹à½¢à¾—à½ºà¼‹à½‚à½…à½²à½‚à¼‹à½–à½¦à¾¡à½´à½¦à¼‹à½‘à½”à½£à¼ à¼à½£à½‚à¼‹à½“à¼‹à½”à½‘à¾¨à½¼à½¦à¼‹à½–à½¢à¾’à¾±à½“à¼‹à½”à¼‹à½¦à¾¤à¾±à½“à¼‹à½¢à½¦à¼‹à½‚à½Ÿà½²à½‚à½¦à¼ à¼à½ à½‡à½²à½‚à¼‹à½¢à¾Ÿà½ºà½“à¼‹à½‘à½–à½„à¼‹à½•à¾±à½´à½‚à¼‹à½˜à½†à½¼à½‚à¼‹à½‘à½ºà½¢à¼‹à½‚à½¦à½¼à½£à¼‹à½–à¼‹à½ à½‘à½ºà½–à½¦à¼ à¼à½•à¾±à½¼à½‚à½¦à¼‹à½‘à½´à½¦à¼‹à½¢à¾’à¾±à½£à¼‹à½–à¼‹à½¡à½¼à½„à½¦à¼‹à½‘à½„à¼‹à½¦à½„à½¦à¼‹à½¢à¾’à¾±à½¦à¼‹à½¦à¾Ÿà½¼à½„à¼‹à¼ à¼à½˜à½à½´à¼‹à½¦à¾Ÿà½¼à½–à½¦à¼‹à½–à¾±à½²à½“à¼‹à½¢à¾³à½–à½¦à¼‹à½‚à½…à½²à½‚à¼‹à½–à½¦à¾¡à½´à½¦à¼‹à½€à½¼à¼‹à½¥à½ à½²à¼‹à½˜à½šà½¼à½¢à¼ à¼à½¢à½„à¼‹à½–à¾±à½´à½„à¼‹à½¢à¾¡à½¼à¼‹à½¢à¾—à½ºà¼‹à½¦à¾à½´à¼‹à½–à½¢à¾™à½ºà½¦à¼‹à½”à½‘à¾¨à¼‹à½ à½–à¾±à½´à½„à¼‹à¼ à¼à½˜à¼‹à½“à½¼à½¢à¼‹à½–à¾³à¼‹à½˜à¼‹à½˜à½†à½¼à½‚à¼‹à½‘à½ºà½¢à¼‹à½‚à½¦à½¼à½£à¼‹à½–à¼‹à½ à½‘à½ºà½–à½¦à¼ à¼à½à¼‹à½¦à¾¦à¾±à½¼à½¢à¼‹à½¡à½“à¼‹à½£à½‚à¼‹à½–à½‘à½ºà¼‹à½–à¼‹à½†à½ºà½“à¼‹à½”à½¼à½ à½²à¼‹à½¦à¾à½´à¼ à¼à½‚à¾²à½´à½–à¼‹à½”à½ à½²à¼‹à½¢à¾’à¾±à½£à¼‹à½˜à½¼à¼‹à½¡à½ºà¼‹à½¤à½ºà½¦à¼‹à½˜à½šà½¼à¼‹à½¢à¾’à¾±à½£à¼‹à½˜à¼ à¼à½¦à¾Ÿà½¼à½„à¼‹à½‰à½²à½‘à¼‹à½˜à½à½ à¼‹à½£à¼‹à½¦à¾™à½²à½„à¼‹à½¢à¾—à½ºà½ à½²à¼‹à½‚à½à½ºà½¢à¼‹à½ à½‚à¾²à½¼à¼‹à½–à¼ à¼à½˜à½à½ à¼‹à½ à½‚à¾²à½¼à¼‹à½¡à½²à½‘à¼‹à½–à½à½²à½“à¼‹à½“à½¼à½¢à¼‹à½–à½´à½¢à¼‹à½‚à½¦à½¼à½£à¼‹à½–à¼‹à½ à½‘à½ºà½–à½¦à¼ à¼à½¦à¾¤à½„à¼‹à½¢à¾Ÿà½¼à½‚à½¦à¼‹à½˜à½à½¢à¼‹à½•à¾±à½²à½“à¼‹à½¢à¾’à¾±à½£à¼‹à½–à½¢à¼‹à½¡à½¼à½„à½¦à¼‹à½‚à¾²à½´à½–à¼‹à½€à¾±à½„à¼‹à¼ à¼à½‚à½‘à½´à½£à¼‹à½–à¾±à½¢à¼‹à½¦à¾¨à½“à¼‹à½”à½ à½²à¼‹à½‚à½Ÿà½´à½‚à½¦à¼‹à½¦à¾à½´à½¢à¼‹à½…à½²à½¢à¼‹à½¡à½„à¼‹à½ à½†à½¢à¼ à¼à½ à½‘à¾²à½ºà½“à¼‹à½”à¼‹à½¡à½¼à½„à½¦à¼‹à½€à¾±à½²à¼‹à½‚à½™à½¼à¼‹à½˜à½†à½¼à½‚à¼‹à½–à½‘à½ºà¼‹à½†à½ºà½“à¼‹à½‚à¾³à½²à½„à¼‹à¼ à¼à½¢à½²à½‚à¼‹à½ à½›à½²à½“à¼‹à½ à½à½¼à½¢à¼‹à½£à½¼à½¦à¼‹à½‚à¾±à½´à½¢à¼‹à½‘à½ºà½¢à¼‹à½‚à½¦à½¼à½£à¼‹à½–à¼‹à½ à½‘à½ºà½–à½¦à¼ à¼à½‚à½„à¼‹à½‚à½²à½¦à¼‹à½¢à¾—à½ºà½¦à¼‹à½–à½Ÿà½´à½„à¼‹à½à½´à½‚à½¦à¼‹à½£à½¦à¼‹à½¦à¾à¾±à½ºà½¦à¼‹à½”à½ à½²à¼‹à½¦à¾²à½¦à¼ à¼à½£à½´à½„à¼‹à½¢à¾Ÿà½¼à½‚à½¦à¼‹à½†à½¼à½¦à¼‹à½€à¾±à½²à¼‹à½‘à½˜à¼‹à½”à½ à½²à¼‹à½‚à½‘à½´à½„à¼‹à½ à½šà½¼à½–à¼‹à½–à¼ à¼à½¢à¾£à½£à¼‹à½ à½–à¾±à½¼à½¢à¼‹à½¢à¾¡à½¼à¼‹à½¢à¾—à½ºà¼‹à½šà½ºà¼‹à½‘à½”à½‚à¼‹à½“à½¼à½¢à¼‹à½–à½´à½ à½²à¼‹à½¦à¾¡à½ºà¼ à¼à½‘à¾²à½²à½“à¼‹à½†à½ºà½“à¼‹à½–à¾³à¼‹à½˜à¼‹à½˜à½†à½¼à½‚à¼‹à½‘à½ºà½¢à¼‹à½‚à½¦à½¼à½£à¼‹à½–à¼‹à½ à½‘à½ºà½–à½¦à¼ à¼à½¦à¾¨à½²à½“à¼‹à½‘à½–à½„à¼‹à½†à½´à¼‹à½¢à¾’à¾±à½´à½“à¼‹à½‚à¾²à½¼à½£à¼‹à½–à¾±à½ºà½‘à¼‹à½‚à½‘à½˜à½¦à¼‹à½”à½ à½²à¼‹à½‚à½à½ºà½¢à¼ à¼à½£à½ºà½‚à½¦à¼‹à½”à½¢à¼‹à½¦à¾©à½¼à½£à¼‹à½“à½¦à¼‹à½à½¢à¼‹à½”à¼‹à½˜à½†à½¼à½‚à¼‹à½¦à¾¦à¾±à½²à½“à¼‹à½˜à½›à½‘à¼ à¼à½ à½‚à¾²à½¼à¼‹à½–à½ à½²à¼‹à½ à½‘à¾²à½ºà½“à¼‹à½˜à½†à½¼à½‚à¼‹à½–à½€à½ à¼‹à½‘à¾²à½²à½“à¼‹à½Ÿà¾³à¼‹à½˜à½ºà½‘à¼‹à½˜à½‚à½¼à½“à¼ à¼à½ à½‘à¾²à½ºà½“à¼‹à½˜à½†à½¼à½‚à¼‹à½¢à¾©à¼‹à½–à½ à½²à¼‹à½–à¾³à¼‹à½˜à½¢à¼‹à½‚à½¦à½¼à½£à¼‹à½–à¼‹à½ à½‘à½ºà½–à½¦à¼ à¼à½¡à½²à¼‹à½‘à½˜à¼‹à½‘à½€à¾±à½²à½£à¼‹à½ à½à½¼à½¢à¼‹à½¡à½¼à½„à½¦à¼‹à½€à¾±à½²à¼‹à½‚à½™à½¼à¼‹à½–à½¼à¼‹à½˜à½†à½¼à½‚ à¼à½€à½´à½“à¼‹à½¢à¾«à½¼à½–à¼‹à½‘à½¼à½“à¼‹à½‘à½˜à¼‹à½ à½†à½²à¼‹à½˜à½ºà½‘à¼‹à½¢à¾¡à½¼à¼‹à½¢à¾—à½ºà¼‹à½šà½ºà¼ à¼à½ à½‚à¾±à½´à½¢à¼‹à½˜à½ºà½‘à¼‹à½‘à½„à½¼à½¦à¼‹à½‚à¾²à½´à½–à¼‹à½¦à¾©à½¼à½£à¼‹à½˜à½›à½‘à¼‹à½šà½ºà¼‹à½‘à½”à½‚à¼‹à½˜à½ºà½‘à¼ à¼à½‚à½¼à½¦à¼‹à½‘à½€à½¢à¼‹à½˜à½‚à¾±à½¼à½‚à½¦à¼‹à½˜à½¢à¼‹à½–à½…à½¦à¼‹à½£à¼‹à½‚à½¦à½¼à½£à¼‹à½–à¼‹à½ à½‘à½ºà½–à½¦à¼ à¼à½šà½ºà¼‹à½¡à½²à¼‹à½–à½¢à¼‹à½†à½‘à¼‹à½¦à½ºà½£à¼‹à½à½²à½„à¼‹à½ à½•à¾²à½²à½“à¼‹à½£à½¦à¼‹à½–à½¦à¾’à¾²à½´à½–à¼ à¼à½šà½„à½¦à¼‹à½”à¼‹à½–à½¢à¾’à¾±à¼‹à½–à¾±à½²à½“à¼‹à½•à¾±à½¼à½‚à½¦à¼‹à½¦à¾à¾±à½¼à½„à¼‹à½¢à¾’à¾±à½£à¼‹à½†à½ºà½“à¼‹à½–à½à½²à¼ à¼à½–à½‘à½‚à¼‹à½¦à¾à¾±à½¼à½–à½¦à¼‹à½£à¾·à¼‹à½‘à½„à¼‹à½‘à½€à½¢à¼‹à½”à½¼à½ à½²à¼‹à½†à½¼à½¦à¼‹à½–à½¦à¾²à½´à½„à¼‹à½–à½ à½²à¼ à¼à½‘à½˜à¼‹à½…à½“à¼‹à½¢à¾’à¾±à¼‹à½˜à½šà½¼à½ à½²à¼‹à½šà½¼à½‚à½¦à¼‹à½£à¼‹à½‚à½¦à½¼à½£à¼‹à½–à¼‹à½ à½‘à½ºà½–à½¦à¼ à¼à½‘à½ºà¼‹à½£à¾Ÿà½¢à¼‹à½šà½ºà¼‹à½¡à½²à¼‹à½‘à½€à¾±à½²à½£à¼‹à½ à½à½¼à½¢à¼‹à½–à¾³à¼‹à½˜à¼‹à½£à¾·à½¢à¼ à¼à½¢à¾©à½ºà¼‹à½‚à½…à½²à½‚à¼‹à½‚à½¦à½¼à½£à¼‹à½–à¼‹à½–à½à½–à¼‹à½”à½ à½²à¼‹à½–à¾±à½²à½“à¼‹à½¢à¾³à½–à½¦à¼‹à½€à¾±à½²à½¦à¼ à¼à½–à½‘à½‚à¼‹à½¦à½¼à½‚à½¦à¼‹à½¦à¾à¾±à½ºà¼‹à½–à¼‹à½šà½ºà¼‹à½¢à½–à½¦à¼‹à½à½˜à½¦à¼‹à½…à½‘à¼‹à½‘à½´à¼ à¼à½˜à½à½¼à¼‹à½¢à½²à½¦à¼‹à½¡à½¼à½“à¼‹à½à½“à¼‹à½ à½•à½‚à½¦à¼‹à½“à½¼à½¢à¼‹à½–à½‘à½´à½“à¼‹à½‚à¾±à½²à½¦à¼‹à½•à¾±à½´à½‚ à¼à½‘à½£à¼‹à½ à½–à¾±à½¼à½¢à¼‹à½¢à¾Ÿà½ºà½“à¼‹à½à½¼à½–à¼‹à½–à½¤à½ºà½¦à¼‹à½‚à½‰à½ºà½“à¼‹à½‘à½˜à¼‹à½”à½¦à¼‹à½–à½Ÿà½´à½„à¼‹à¼ à¼à½–à½¦à¾³à½–à¼‹à½‚à½¦à½´à½˜à¼‹à½¢à¾£à½˜à¼‹à½‘à½‚à¼‹à½à½ºà½‚à¼‹à½†à½ºà½“à¼‹à½¦à¼‹à½£à½˜à¼‹à½‚à¾±à½²à½¦à¼ à¼à½¡à½¼à½“à¼‹à½à½“à¼‹à½˜à¼‹à½£à½´à½¦à¼‹à½˜à¾±à½´à½¢à¼‹à½à½¼à½–à¼‹à½¢à¾©à½£à¼‹à½†à½ºà½“à¼‹à½¢à¾«à½¼à½‚à½¦à¼ à¼à½‘à½¼à½“à¼‹à½‚à½‰à½²à½¦à¼‹à½•à½´à½“à¼‹à½šà½¼à½‚à½¦à¼‹à½¢à¾’à¾±à½£à¼‹à½–à½ à½²à¼‹à½‚à½“à½¦à¼‹à½‘à½˜à¼‹à½”à¼ à¼à½–à½‘à½´à½‘à¼‹à½¦à¾¡à½ºà½ à½²à¼‹à½–à½à½²à¼‹à½–à½…à½¼à½˜à¼‹à½ à½†à½²à¼‹à½˜à½ºà½‘à¼‹à½¢à¾¡à½¼à¼‹à½¢à¾—à½ºà½ à½²à¼‹à½¦à¾à½´à¼ à¼à½¦à¾à½£à¼‹à½”à¼‹à½‘à¾²à½´à½‚à¼‹à½£à¾¡à½“à¼‹à½˜à½à½ à¼‹à½¡à½¦à¼‹à½ à½‚à¾²à½¼à¼‹à½–à½ à½²à¼‹à½‘à½”à½£à¼ à¼à½¦à¾²à½²à½‘à¼‹à½à½²à¼‹à½£à½¦à¼‹à½ à½‘à½¦à¼‹à½‘à½ºà¼‹à½–à½à½²à½“à¼‹à½‚à½¤à½ºà½‚à½¦à¼‹à½”à½ à½²à¼‹à½‚à½“à½¦à¼ à¼à½–à½‘à½ºà¼‹à½†à½ºà½“à¼‹à½˜à½‚à½¼à½“à¼‹à½”à½¼à½ à½²à¼‹à½‚à½¼à¼‹à½ à½•à½„à¼‹à½£à¼‹à½ à½à½¼à½‘à¼‹à½¤à½¼à½‚ à¼<br>à½‘à½ºà¼‹à½£à¾Ÿà½¢à¼‹à½šà½ºà¼‹à½‘à½„à¼‹à½¡à½ºà¼‹à½¤à½ºà½¦à¼‹à½‘à½”à½‚à¼‹à½à½´à¼‹à½˜à½ºà½‘à¼‹à½”à½ à½²à¼‹à½˜à½“à¼‹à½„à½‚à¼‹à½ à½†à½²à¼‹à½˜à½ºà½‘à¼‹à½¢à¾¡à½¼à¼‹à½¢à¾—à½ºà½ à½²à¼‹à½¢à¾’à¾±à¼‹à½˜à½‘à½´à½‘à¼‹à½€à¾±à½²à¼‹à½¢à¾’à¾±à½´à½‘à¼‹à½”à½ à½²à¼‹à½‚à½¦à½¼à½£à¼‹à½ à½‘à½ºà½–à½¦à¼‹à½˜à½²à¼‹à½¤à½²à½‚à¼‹à½‘à½„à¼‹à½˜à¼‹à½¡à½¼à½„à½¦à¼‹à½ à½‚à¾²à½´à½–à¼‹à½…à½ºà½¦à¼‹à½–à¾±à¼‹à½–à¼‹à½ à½‘à½²à¼‹à½“à½²à¼‹à½à¼‹à½£à½´à¼‹à½‘à½‚à½ºà¼‹à½¦à¾³à½¼à½„à¼‹à½¢à¾¡à½¼à¼‹à½¢à¾—à½ºà¼‹à½ à½›à½²à½“à¼‹à½”à¼‹à½¢à½²à½“à¼‹à½†à½ºà½“à¼‹à½ à½‡à½˜à¼‹à½‘à½”à½£à¼‹à½†à½¼à½¦à¼‹à½‘à½¢à¼‹à½‚à¾±à½²à½¦à¼‹à½¡à½„à¼‹à½“à½¦à¼‹à½¡à½„à¼‹à½‘à½´à¼‹à½‚à½¦à½´à½„à¼‹à½‚à½²à½¦à¼‹à½–à½¦à¾à½´à½£à¼‹à½–à½¢à¼‹à½¢à¾Ÿà½ºà½“à¼‹à½¢à½²à½‚à¼‹à½ à½›à½²à½“à¼‹à½šà½ºà¼‹à½‘à½–à½„à¼‹à½“à½¼à½¢à¼‹à½–à½´à½¦à¼‹à½‘à¾²à½‚à¼‹à½”à½¼à¼‹à½£à¾•à½‚à½¦à¼‹à½¦à¾¤à¾²à½ºà½£à¼‹à½†à½¼à¼‹à½ à½•à¾²à½´à½£à¼‹à½Ÿà¾³à¼‹à½–à½ à½²à¼‹à½‘à½˜à½¢à¼‹à½•à¾±à½¼à½‚à½¦à¼‹à½šà½ºà½¦à¼‹à½–à½…à½´à½ à½²à¼‹à½à½´à½“à¼‹à½†à¼‹à½¤à½¦à¼‹à½‚à½…à½²à½‚à¼‹à½à½´à¼‹à½‚à¾³à½¼à¼‹à½£à½˜à¼‹à½‘à½€à½¢à¼‹à½“à½‚à¼‹à½‚à½²à¼‹à½‘à½–à½´à½¦à¼‹à½¢à¾Ÿà½‚à¼‹à½–à½¢à¾Ÿà½“à¼‹à½¢à½²à½“à¼‹à½”à½¼à¼‹à½†à½ºà¼‹à½‘à½ºà¼‹à½‘à½–à½´à½ à½²à¼‹à½¦à¾à¾±à½ºà½‘à¼ à½–à½¦à½˜à¼‹à½‚à½à½“à¼‹à½¦à¾’à½¼à½˜à¼‹à½”à½ à½²à¼‹à½¦à¾¤à¾±à½²à½£à¼‹à½”à½¼à¼‹à½ à½†à½²à¼‹à½˜à½ºà½‘à¼‹à½‚à½¡à½´à½„à¼‹à½‘à¾²à½´à½„à¼‹à½ à½à¾±à½²à½£à¼‹à½–à½¢à¼‹à½–à¾²à½²à½¦à¼‹à½”à¼‹à½¦à¾Ÿà½ºà¼‹à½‘à½‚à½ºà½ à½¼à¼ à¼à½¦à½¢à¾¦à¼‹à½˜à½„à¾’à¼‹à½£à½¾à¼ </p>`, fullContentChinese: `<p class="chinese-text">å£½ä¿®é‡‘å‰›çµä¹‹ç¥ˆè«‹æ–‡ã€ˆä¸æ»…ç²¾ç²¹æˆå°±ã€‰<br>å—¡é˜¿å½å•¥<br>ä¸æ»…ç²¾ç²¹æ†å¸¸å …å›ºä¹‹ï¼Œé«”æ€§å®‰ä½å¤§æ¨‚è½‰è¼ªè€…ï¼Œ<br>å‹è€…æµ·æœƒåŒ–åŸºç„¡é‡å…‰ï¼Œè–å°ŠæŒå£½æ€™ä¸»èª ç¥ˆè«‹ã€‚<br>è“®èŠ±ç¨®å§“éç›¡ä¹‹è‡³å°Šï¼Œè«¸ä½›è©è–©æ‚²æ„åˆä¸€å¾·ï¼Œ<br>è“®èŠ±æ‰‹ç‚ºèŠåš´è§€ä¸–éŸ³ï¼Œè–å°Šä¸–é–“è‡ªåœ¨èª ç¥ˆè«‹ã€‚<br>éæ–¹è«¸æ™‚å‹è€…åƒä½›é™€ï¼Œå¨åŠ›åŠ æŒåˆä¸€è‹Ÿå¡æªï¼Œ<br>è­‰å¾—è‡ªç”Ÿé‡‘å‰›èº«è“®å¸«ï¼Œè–å°Šç„¡èª¤ä¸Šå¸«èª ç¥ˆè«‹ã€‚<br>å’Œåˆé«”è‚¢å¤§æ¨‚ä¹‹èº«ç›¸ï¼Œæˆå°±è–æ¯æ™ºæ…§æªå˜‰æ¯ï¼Œ<br>ç©ºæ€§è™›ç©ºå¾€è¡Œæ‚²æ„è—ï¼Œç©ºè¡Œå¦‚æ„å¯¶ç èª ç¥ˆè«‹ã€‚<br>æ–·è­‰ç©¶ç«Ÿåœ“æˆå‹è€…ä½›ï¼Œä»»ç¾æˆç†ŸåŒ–æ©Ÿè‰²èº«ç›¸ï¼Œ<br>ä¸€åˆ‡å°å¸«å‹é¦–å¾·æ¬½æ—ï¼Œè–å°ŠæŒæ˜è¼ªåœèª ç¥ˆè«‹ã€‚<br>éš¨å­¸å…¶å°Šæ”å—ä¹‹æ„å­ï¼Œæ•™è­‰æ®Šå‹æ­£æ³•ç´¹ç¹¼è€…ï¼Œ<br>ç‘œä¼½é‡‘å‰›é•·å£½çå¯¶éƒ¨ï¼Œè–å°Šå¤§æ©ä¸Šå¸«èª ç¥ˆè«‹ã€‚<br>ç†ŸçŒæ°´æµè§£è„«ç«…è¨£è—ï¼Œå–„åŠ æˆäºˆæ©è³œå‹è§£è„«ï¼Œ<br>çœ¾ç”Ÿå‹å°ç„¡æ¯”æ©å¾·æ€™ï¼Œå‹å°æ ¹æœ¬ä¸Šå¸«èª ç¥ˆè«‹ã€‚<br>æ‰€æœ‰æœ¬å°Šå£‡åŸä¹‹å‹é¦–ï¼Œä¸–ä¿—å‹ç¾©ç„¡æ­»é‡‘å‰›å£½ï¼Œ<br>è³œäºˆä¸è®Šæˆå°±é•·å£½ä½›ï¼Œä½µåŒç™½è¡£è¿…æ¯èª ç¥ˆè«‹ã€‚<br>æ³¯é™¤å£½å‘½å„é›£äº‹æ¥­æˆï¼Œæ¢µå¤©å¸é‡‹è­·æ–¹å››å¤©ç‹ï¼Œ<br>å·±æ–¹ä½‘ç¥ç™½å–„è­·æ³•ç¥ï¼Œå…·èª“è­·æ³•æµ·æœƒèª ç¥ˆè«‹ã€‚<br>å¦‚æ˜¯å£½å‘½å£‡åŸä¸Šå¸«å°Šï¼Œå°ˆä¸€é€²è¡Œç¥ˆè«‹åŠ æŒåŠ›ï¼Œ<br>å¾ç­‰å£«å¤«ä¸€åˆ‡ç”Ÿä¸–ä¸­ï¼Œå–„è¶£åŠŸå¾·ä¸ƒå‹è²¡å¯Œè¶³ã€‚<br>ç²å¾—æš‡æ»¿èƒ½ä¾å¸«æ”å—ï¼Œä¸‰å­¸æ¸…æ·¨å¤§ä¹˜åœ°é“é€”ï¼Œ<br>åŠŸå¾·ç„¡é¤˜é€Ÿå¾—åœ“å¤§åŠ›ï¼ŒäºŒåˆ©åœ“æ»¿å‹è€…çœŸæ·¨è™•ã€‚<br>æ‘§æ»…å››é­”ç„¡æ­»é‡‘å‰›èº«ï¼Œå…·å…­ç¦ç·£ç„¡é‚Šçœ¾ç”Ÿç¦ï¼Œ<br>è¶…è¶Šæœ‰å¯‚å–„é€å¦‚ä¾†è™•ï¼Œå®‰ç½®å¤§æ¨‚æ€™ä¸»ä¹‹æœä½ã€‚</p><div class="colophon">å¦‚æ˜¯ç„¡é‡æ™ºå£½ä½›ä¹‹å£è¨£ï¼Œç«‹é¡Œæ›°ç„¡æ­»é‡‘å‰›çµä¹‹å‚³æ‰¿ç¥ˆè«‹æ–‡ä¸æ»…åœ“æˆä¹ƒä¾å¤é­¯æ¯”ä¸˜å¤šå‚‘çå·´ä»æ¬½è”£è²ç§‹é”å±¢å±¢ä»¥èªå‹¸è«‹æ•…ï¼Œä»çæ‰æ—ºè«¾å¸ƒ(æŒæ˜å£½è‡ªåœ¨å¯¶)æ–¼å¨çŒ›éµçŒ´å¹´ç¥è®Šæœˆä¹‹ä¸‹å¼¦åˆåä¸€åº§éƒ¨ä»½é–“ï¼Œæ–¼æ´›è·¯è¾²ç‰§å€äº¤ç•Œä¸­å¤®ï¼Œä¿®å®šä¹‹ç„¡æ­»å …å›ºèŒ…èŒ¨ä¸­æ‰€æ›¸ï¼Œå–„å“‰ï¼èŠ’å˜æœ—ï¼</div>`},
            { id: 'prayer2', tibetanTitle: 'à¼ˆ à½¢à¾«à½¼à½‚à½¦à¼‹à½†à½ºà½“à¼‹à½‘à½€à½¼à½“à¼‹à½˜à½†à«‹à½‚à¼‹à½¦à¾¤à¾±à½²à¼‹à½ à½‘à½´à½¦à¼‹à½–à½¢à¾’à¾±à½´à½‘à¼‹à½”à½ à½²à¼‹à½‚à½¦à½¼à½£à¼‹à½ à½‘à½ºà½–à½¦à¼‹à½¢à¾’à¾±à½´à½“à¼‹à½à¾±à½ºà½¢à¼‹à½¡à½²à½‘à¼‹à½–à½à½²à½“à¼‹à½‚à½à½ºà½¢à¼‹à½¦à¾¦à¾±à½²à½“à¼‹à½à½ºà½¦à¼‹à½–à¾±à¼‹à½–à¼‹à½–à½à½´à½‚à½¦à¼‹à½¦à½¼à¼ à¼', chineseTitle: 'å¤§åœ“æ»¿ä¸‰å¯¶ç¸½é›†å‚³æ‰¿ç¥ˆè«‹æ—¥ä¿®è³œå¦‚æ„è—', author: 'æ‰æ—ºè«¾å¸ƒ', category: 'ç¥ˆè«‹æ–‡', preview: '', tags: ['å¤§åœ“æ»¿', 'ä¸‰å¯¶ç¸½é›†', 'å‚³æ‰¿ç¥ˆè«‹'], meta: { words: '', pages: '', readTime: '' }, status: 'published', fullContentTibetan: `<p class="tibetan-text">à¼ˆ à½¢à¾«à½¼à½‚à½¦à¼‹à½†à½ºà½“à¼‹à½‘à½€à½¼à½“à¼‹à½˜à½†à½¼à½‚à¼‹à½¦à¾¤à¾±à½²à¼‹à½ à½‘à½´à½¦à¼‹à½–à½¢à¾’à¾±à½´à½‘à¼‹à½”à½ à½²à¼‹à½‚à½¦à½¼à½£à¼‹à½ à½‘à½ºà½–à½¦à¼‹à½¢à¾’à¾±à½´à½“à¼‹à½à¾±à½ºà½¢à¼‹à½¡à½²à½‘à¼‹à½–à½à½²à½“à¼‹à½‚à½à½ºà½¢à¼‹à½¦à¾¦à¾±à½²à½“à¼‹à½à½ºà½¦à¼‹à½–à¾±à¼‹à½–à¼‹à½–à½à½´à½‚à½¦à¼‹à½¦à½¼à¼ à¼<br>à½‚à½´à¼‹à½¢à½´à¼‹à½”à½‘à¾¨à¼‹à½¦à½²à½‘à¾¡à¾·à½²à¼‹à½§à½±à½´à¾ƒà¼‹à½§à¾²à½±à½²à¼” à½‚à½‘à½¼à½‘à¼‹à½“à½¦à¼‹à½–à¾±à½„à¼‹à½†à½´à½–à¼‹à½¦à¾¤à¾²à½¼à½¦à¼‹à½–à¾²à½£à¼‹à½–à½‘à½ºà¼‹à½–à¼‹à½†à½ºà¼ à¼à½€à½´à½“à¼‹à½–à½Ÿà½„à¼‹à½ à½¼à½‘à¼‹à½‘à½”à½‚à¼‹à½˜à½ºà½‘à¼‹à½£à¼‹à½‚à½¦à½¼à½£à¼‹à½–à¼‹à½ à½‘à½ºà½–à½¦à¼ à¼à½šà½‘à¼‹à½˜à½ºà½‘à¼‹à½¦à¾™à½²à½„à¼‹à½¢à¾—à½ºà½ à½²à¼‹à½‚à½à½ºà½¢à¼‹à½†à½ºà½“à¼‹à½€à½´à½“à¼‹à½à½´à¼‹à½¢à¾’à¾±à½¦à¼ à¼à½ à½•à½‚à½¦à¼‹à½˜à½†à½¼à½‚à¼‹à½“à½˜à¼‹à½˜à½à½ à½²à¼‹à½¢à¾’à¾±à½£à¼‹à½”à½¼à½¢à¼‹à½‚à½¦à½¼à½£à¼‹à½–à¼‹à½ à½‘à½ºà½–à½¦à¼ à¼à½¢à¾’à¾±à½£à¼‹à½€à½´à½“à¼‹à½¡à½ºà¼‹à½¤à½ºà½¦à¼‹à½ à½•à¾²à½²à½“à¼‹à½£à½¦à¼‹à½‚à½…à½²à½‚à¼‹à½–à½¦à¾¡à½´à½¦à¼‹à½”à¼ à¼à½¦à½„à½¦à¼‹à½¢à¾’à¾±à½¦à¼‹à½”à½‘à¾¨à¼‹à½ à½–à¾±à½´à½„à¼‹à½£à¼‹à½‚à½¦à½¼à½£à¼‹à½–à¼‹à½ à½‘à½ºà½–à½¦à¼ à¼à½–à½‘à½ºà¼‹à½†à½ºà½“à¼‹à½‚à½‰à½´à½‚à¼‹à½˜à½ à½²à¼‹à½†à½¼à½¦à¼‹à½‘à½–à¾±à½²à½„à½¦à¼‹à½à½²à½„à¼‹à½‚à½²à¼‹à½–à½‘à½‚ à¼à½¡à½ºà¼‹à½¤à½ºà½¦à¼‹à½˜à½šà½¼à¼‹à½¢à¾’à¾±à½£à¼‹à½à½–à½¦à¼‹à½£à¼‹à½‚à½¦à½¼à½£à¼‹à½–à¼‹à½ à½‘à½ºà½–à½¦à¼ à¼à½‘à¾²à½²à¼‹à½˜à½ºà½‘à¼‹à½ à½¼à½‘à¼‹à½‚à½¦à½£à¼‹à½¢à¾’à¾±à½¦à¼‹à½”à½ à½²à¼‹à½¢à½„à¼‹à½‚à½Ÿà½´à½‚à½¦à¼‹à½‰à½²à½‘à¼ à¼à½¢à½²à½‚à¼‹à½ à½›à½²à½“à¼‹à½ à½‡à½ à¼‹à½šà½¼à½“à¼‹à½¦à¾™à½²à½„à¼‹à½”à½¼à½¢à¼‹à½‚à½¦à½¼à½£à¼‹à½–à¼‹à½ à½‘à½ºà½–à½¦à¼ à¼à½à½¼à½‚à¼‹à½˜à½ºà½‘à¼‹à½Ÿà½„à¼‹à½à½£à¼‹à½–à½¢à¾Ÿà½´à½£à¼‹à½à½´à½‚à½¦à¼‹à½¦à¾¤à¾±à½¼à½‘à¼‹à½”à½ à½²à¼‹à½‘à½”à½£à¼ à¼à½¢à½²à½‚à¼‹à½ à½›à½²à½“à¼‹à½–à½‘à½´à½‘à¼‹à½ à½‘à½´à½£à¼‹à½¢à¾¡à½¼à¼‹à½¢à¾—à½ºà½¢à¼‹à½‚à½¦à½¼à½£à¼‹à½–à¼‹à½ à½‘à½ºà½–à½¦à¼ à¼à½¢à¾’à¾±à½´à½“à¼‹à½˜à½à½ à½²à¼‹à½¦à½¢à¼‹à½–à½à½´à½‚à½¦à¼‹à½–à¾±à½„à¼‹à½¦à½ºà½˜à½¦à¼‹à½ à½‚à¾²à½¼à¼‹à½–à½ à½²à¼‹à½˜à½‚à½¼à½“à¼ à¼à½¢à½²à½‚à¼‹à½ à½›à½²à½“à¼‹à½€à¾³à½¼à½„à¼‹à½‚à½¦à½£à¼‹à½¦à¾™à½²à½„à¼‹à½”à½¼à½¢à¼‹à½‚à½¦à½¼à½£à¼‹à½–à¼‹à½ à½‘à½ºà½–à½¦à¼ à¼à½¦à¾²à½²à½‘à¼‹à½à½²à¼‹à½¦à¾¤à¾±à½²à¼‹à½‘à½”à½£à¼‹à½€à½´à½“à¼‹à½–à½Ÿà½„à¼‹à½¦à¾’à¾±à½´à¼‹à½ à½•à¾²à½´à½£à¼‹à½‚à½¢à¼ à¼à½”à½‘à¾¨à¼‹à½–à½‘à½ºà¼‹à½†à½ºà½“à¼‹à½‚à¾³à½²à½„à¼‹à½”à½¢à¼‹à½‚à½¦à½¼à½£à¼‹à½–à¼‹à½ à½‘à½ºà½–à½¦à¼ à¼à½¦à¾™à½²à½‚à½¦à¼‹à½‘à½´à½¦à¼‹à½ à½‚à¾²à½¼à¼‹à½ à½‘à½´à½£à¼‹à½‘à½£à¼‹à½–à½ à½²à¼‹à½ à½•à¾²à½²à½“à¼‹à½£à½¦à¼‹à½”à¼ à¼à½¢à½²à½‚à¼‹à½ à½›à½²à½“à¼‹à½šà½ºà¼‹à½‘à½–à½„à¼‹à½“à½¼à½¢à¼‹à½–à½´à½¢à¼‹à½‚à½¦à½¼à½£à¼‹à½–à¼‹à½ à½‘à½ºà½–à½¦à¼ à¼à½–à½‘à½‚à¼‹à½¢à¾’à¾±à½´à½‘à¼‹à½¦à¾¨à½²à½“à¼‹à½‚à¾²à½¼à½£à¼‹à½˜à½›à½‘à¼‹à½”à½ à½²à¼‹à½–à½€à½ à¼‹à½‘à¾²à½²à½“à¼‹à½…à½“à¼ à¼à½ à½‘à¾²à½ºà½“à¼‹à½˜à½†à½¼à½‚à¼‹à½¢à¾©à¼‹à½–à½ à½²à¼‹à½–à¾³à¼‹à½˜à½¢à¼‹à½‚à½¦à½¼à½£à¼‹à½–à¼‹à½ à½‘à½ºà½–à½¦à¼ à¼à½¡à½²à¼‹à½‘à½˜à¼‹à½‘à½€à¾±à½²à½£à¼‹à½ à½à½¼à½¢à¼‹à½¢à¾’à¾±à¼‹à½˜à½šà½¼à½ à½²à¼‹à½‚à½™à½¼à¼‹à½–à½¼à¼‹à½˜à½†à½¼à½‚ à¼à½‚à½´à¼‹à½¢à½´à¼‹à½à½²à¼‹à½‘à½„à¼‹à½‘à¾²à½‚à¼‹à½”à½¼à½¢à¼‹à½‚à½¦à½¼à½£à¼‹à½–à¼‹à½ à½‘à½ºà½–à½¦à¼ à¼à½‚à½“à½¦à¼‹à½‚à½¦à½´à½˜à¼‹à½˜à½à½ à¼‹à½ à½‚à¾²à½¼à¼‹à½¡à½¼à½„à½¦à¼‹à½€à¾±à½²à¼‹à½¦à¾¤à¾±à½²à¼‹à½‘à½”à½£à¼‹à½†à½ºà¼ à¼à½Œà½±à½€à¾à½²à¼‹à½¦à½²à½‘à¾¡à¾·à¼‹à½˜à½´à¼‹à½à½¢à¼‹à½‚à½¦à½¼à½£à¼‹à½–à¼‹à½ à½‘à½ºà½–à½¦à¼ à¼à½‘à½ºà¼‹à½£à¾Ÿà½¢à¼‹à½–à¾³à¼‹à½–à½¦à¾’à¾²à½´à½–à¼‹à½‘à½€à½¼à½“à¼‹à½˜à½†à½¼à½‚à¼‹à½¦à¾¤à¾±à½²à¼‹à½ à½‘à½´à½¦à¼‹à½€à¾±à½²à¼ à¼à½¢à¾©à¼‹à½–à½¢à¾’à¾±à½´à½‘à¼‹à½–à¾³à¼‹à½˜à¼‹à½¡à½²à¼‹à½‘à½˜à¼‹à½˜à½à½ à¼‹à½ à½‚à¾²à½¼à¼‹à½˜à½¢à¼ à¼à½¢à¾©à½ºà¼‹à½‚à½…à½²à½‚à¼‹à½‚à½¦à½¼à½£à¼‹à½–à¼‹à½–à½à½–à¼‹à½˜à½à½´à½¦à¼‹à½¢à¾£à½£à¼‹à½ à½–à¾±à½¼à½¢à¼‹à½–à½‘à½‚ à¼à½‘à½´à½¦à¼‹à½ à½‘à½²à¼‹à½“à½¦à¼‹à½–à½¢à¾©à½˜à½¦à¼‹à½¦à¾à¾±à½ºà¼‹à½–à¼‹à½‡à½²à¼‹à½¦à¾²à½²à½‘à¼‹à½‘à½´à¼ à¼à½‘à½‘à¼‹à½‚à½´à½¦à¼‹à½¤à½ºà½¦à¼‹à½¢à½–à¼‹à½£à½¦à¼‹à½ à½–à¾²à½¦à¼‹à½¡à½²à½‘à¼‹à½†à½ºà½¦à¼‹à½£à¾¡à½“à¼ à¼à½‘à½˜à¼‹à½”à½¦à¼‹à½¢à¾—à½ºà½¦à¼‹à½–à½Ÿà½´à½„à¼‹à½‘à½–à½„à¼‹à½à¾²à½²à½‘à¼‹à½‚à½‘à½˜à½¦à¼‹à½”à¼‹à½¢à¾«à½¼à½‚à½¦à¼ à¼à½‘à½˜à¼‹à½šà½²à½‚à¼‹à½¢à¾£à½˜à¼‹à½‘à½‚à¼‹à½–à½¦à¾à¾±à½ºà½‘à¼‹à½¢à¾«à½¼à½‚à½¦à¼‹à½¡à½¼à½“à¼‹à½à½“à¼‹à½¢à¾’à¾±à½¦à¼ à¼à½˜à½à½¼à½„à¼‹à½à½¼à½¦à¼‹à½‘à¾²à½“à¼‹à½¢à½ºà½‚à¼‹à½ à½‚à¾²à½¼à¼‹à½€à½´à½“à¼‹à½à½¢à¼‹à½£à½˜à¼‹à½£à¼ à¼à½ à½‘à¾²à½ºà½“à¼‹à½”à½ à½²à¼‹à½–à¾±à½ºà½‘à¼‹à½”à½¼à½¢à¼‹à½–à½‘à½‚à¼‹à½‰à½²à½‘à¼‹à½ à½‚à¾±à½´à½¢à¼‹à½–à¼‹à½‘à½„à¼‹à¼ à¼à½˜à½à½¢à¼‹à½à½´à½‚à¼‹à½¢à½„à¼‹à½‘à½¼à½“à¼‹à½†à½¼à½¦à¼‹à½€à¾±à½²à¼‹à½¦à¾à½´à½¢à¼‹à½‚à¾²à½¼à½£à¼‹à½“à½¦à¼ à¼à½‚à½à½“à¼‹à½‘à½¼à½“à¼‹à½‚à½Ÿà½´à½‚à½¦à¼‹à½¦à¾à½´à¼‹à½¢à¾’à¾±à½´à½“à¼‹à½˜à½²à¼‹à½†à½‘à¼‹à½”à¼‹à½¡à½²à¼ à¼à½“à½˜à¼‹à½˜à½à½ à½²à¼‹à½˜à½à½ à¼‹à½€à¾³à½¦à¼‹à½ à½‚à¾²à½¼à¼‹à½–à¼‹à½ à½‘à¾²à½ºà½“à¼‹à½–à¾±à½ºà½‘à¼‹à½”à¼ à¼à½˜à½‚à½¼à½“à¼‹à½”à½¼à¼‹à½ à½¼à½‘à¼‹à½‘à½”à½‚à¼‹à½˜à½ºà½‘à¼‹à½‘à½„à¼‹à½˜à½šà½´à½„à½¦à¼‹à½”à½¢à¼‹à½¤à½¼à½‚ à¼<br>à½‘à½ºà¼‹à½£à¾Ÿà½¢à¼‹à½–à¾³à¼‹à½–à½¦à¾’à¾²à½´à½–à¼‹à½‚à½¦à½¼à½£à¼‹à½ à½‘à½ºà½–à½¦à¼‹à½¡à½²à½‘à¼‹à½–à½à½²à½“à¼‹à½‚à½à½ºà½¢à¼‹à½¦à¾¦à¾±à½²à½“à¼‹à½à½ºà½¦à¼‹à½–à¾±à¼‹à½–à¼‹à½ à½‘à½²à¼‹à½¡à½„à¼‹à½¦à¼‹à½•à½¼à¼‹à½¢à¾Ÿà¼‹à½¡à½²à¼‹à½£à½¼à¼‹à½†à½¼à¼‹à½ à½•à¾²à½´à½£à¼‹à½Ÿà¾³à¼‹à½–à½ à½²à¼‹à½‘à½˜à½¢à¼‹à½•à¾±à½¼à½‚à½¦à¼‹à½‚à½„à¼‹à½–à¼‹à½–à½¼à½‘à¼‹à½¡à½´à½£à¼‹à½‘à½–à½´à½¦à¼‹à½ à½‚à¾±à½´à½¢à¼‹à½–à½¦à½˜à¼‹à½¡à½¦à¼‹à½£à¾·à½´à½“à¼‹à½‚à¾±à½²à½¦à¼‹à½‚à¾²à½´à½–à¼‹à½”à½ à½²à¼‹à½‚à½™à½´à½‚à¼‹à½£à½‚à¼‹à½à½„à¼‹à½‘à½–à½´à½¦à¼‹à½¦à½´à¼‹à½¢à½²à½‚à¼‹à½ à½›à½²à½“à¼‹à½šà½ºà¼‹à½‘à½–à½„à¼‹à½“à½¼à½¢à¼‹à½–à½´à½¦à¼‹à½¦à¾¤à½¼à½˜à¼‹à½¢à½¼à½„à¼‹à½¢à¾—à½ºà¼‹à½ à½–à½„à½¦à¼‹à½‘à½‘à¼‹à½”à¼‹à½…à½“à¼‹à½‚à¾±à½²à¼‹à½„à½¼à½¢à¼‹à½–à½¢à¾—à½¼à½‘à¼‹à½”à¼‹à½‘à½‚à½ºà½ à½¼à¼ à¼à½‘à½‚à½ºà½ à½¼à¼ à¼à½‘à½‚à½ºà½ à½¼à¼ à¼à½–à½€à¾²à¼‹à½¤à½²à½¦à¼</p>`, fullContentChinese: `<p class="chinese-text">å¤§åœ“æ»¿ä¸‰å¯¶ç¸½é›†å‚³æ‰¿ç¥ˆè«‹æ—¥ä¿®è³œå¦‚æ„è—<br>å¤é­¯è²ç‘ªæ‚‰åœ°å½å•¥<br>æœ¬åˆè©æé›¢æˆ²å¤§å®‰æ¨‚ï¼Œæ™®è³¢ç„¡é‡å…‰å‰æˆ‘ç¥ˆè«‹ã€‚<br>ç„¡é‡æ…ˆæ‚²å¤§è—éå……æ»¿ï¼Œè–å°Šè™›ç©ºç‹å‰æˆ‘ç¥ˆè«‹ã€‚<br>è«¸ä½›æ™ºæ…§äº‹æ¥­ç¸½é›†è€…ï¼Œä½›é™€è“®èŠ±ç”Ÿå‰æˆ‘ç¥ˆè«‹ã€‚<br>å¤§æ¨‚æœ¬æ·¨æ³•ç•Œå‰åœŸä¸»ï¼Œæ™ºæ…§æµ·ç”Ÿå¦ƒå‰æˆ‘ç¥ˆè«‹ã€‚<br>ç„¡å¢å…‰æ˜é¡¯ç¾è‡ªå½¢ç›¸ï¼ŒæŒæ˜è™¹å…‰è—å‰æˆ‘ç¥ˆè«‹ã€‚<br>ç„¡å§‹é€šé”ç‘œä¼½è¡Œä¹‹ç›¸ï¼ŒæŒæ˜é™é­”é‡‘å‰›æˆ‘ç¥ˆè«‹ã€‚<br>ç©¶ç«Ÿåœ°ä½è©è–©åº¦çœ¾æ€™ï¼ŒæŒæ˜æœ—è–©è—å‰æˆ‘ç¥ˆè«‹ã€‚<br>è¼ªæ¶…ç¸½åš´æ™®è³¢å¹»åŒ–èˆï¼Œè“®å¸«å¤§æ¨‚è—å‰æˆ‘ç¥ˆè«‹ã€‚<br>æ¿ä¸–èª¿ä¼ç·©è¡Œäº‹æ¥­è€…ï¼ŒæŒæ˜æ‰æ—ºè«¾å¸ƒæˆ‘ç¥ˆè«‹ã€‚<br>ä»¤æˆ‘æˆç†Ÿè§£è„«å¤§æ©è€…ï¼Œå‹å°æ ¹æœ¬ä¸Šå¸«æˆ‘ç¥ˆè«‹ã€‚<br>æ‰€æœ‰æœ¬å°Šå£‡åŸä¹‹å‹é¦–ï¼Œä¸Šå¸«å¯‚å¿¿å°Šå‰æˆ‘ç¥ˆè«‹ã€‚<br>ä¸‰è™•ç©ºè¡Œç¸½é›†å¤§èŠåš´ï¼Œç©ºè¡Œæˆå°±æ¯å‰æˆ‘ç¥ˆè«‹ã€‚<br>å¦‚æ˜¯ä¸Šå¸«ä¸‰å¯¶ç¸½é›†ä¹‹ï¼Œæ ¹å‚³ä¸Šå¸«æœ¬å°Šè«¸ç©ºè¡Œã€‚<br>ä¸€å¿ƒç¥ˆè«‹åŠ æŒç‘œä¼½æˆ‘ï¼Œå¾ä»Šä¹ƒè‡³ç”Ÿç”Ÿä¸–ä¸–ä¸­ã€‚<br>ä¿¡æ•¬æ™ºæ…§æ¥­æœå…·ä¿¡è§£ï¼Œè’™å—è–è€…æ”å—çŒé ‚åœ“ã€‚<br>æˆ’å¾‹æ¸…æ·¨ç”Ÿåœ“åŠŸå¾·å¢ï¼Œè¦‹èæ†¶è§¸çœ¾ç”Ÿè§£è„«é“ã€‚<br>é¡˜æˆå¼•å°ä¹‹äººè‡ªæˆå°±ï¼Œç©¶ç«Ÿè‡ªåˆ©æ³•èº«è§£è„«å·²ã€‚<br>åˆ©ä»–è‰²èº«ç›¸çºŒç„¡é–“æ–·ï¼Œå¦‚åŒè™›ç©ºç„¡é‚Šåº¦çœ¾ç”Ÿã€‚<br>é¡˜åŒæ€™ä¸»ç„¡é‡å…‰ä½›é™€ã€‚</p><div class="colophon">æ­¤ä¸Šå¸«ä¿®æŒç¥ˆè«‹æ–‡åç‚ºè³œå¦‚æ„è—è€…ï¼Œæ–¼é™½åœŸé¦¬å¹´ç¥è®Šæœˆä¸‹å¼¦åœ“æ»¿æ—¥ï¼Œæ–¼å‰è—æ¡‘è€¶è‡ªæˆæ®¿ä¸­å¤®ï¼ŒæŒæ˜æ‰æ—ºè«¾å¸ƒç‚ºå´©çµ¨ç‹è‡£ä¿¡çœ¾å®£èªªã€‚å–„å“‰ï¼å–„å“‰ï¼å–„å“‰ï¼å‰ç¥¥ï¼</div>` },
            { id: 'prayer3', tibetanTitle: 'à¼„à¼…à¼ à¼à½ à½‡à½˜à¼‹à½‘à½”à½£à¼‹à½“à½‚à¼‹à½”à½¼à¼‹à½à½´à½‚à½¦à¼‹à½€à¾±à½²à½¦à¼‹à½¡à½„à¼‹à½à½´à½“à¼‹à½‚à¾±à½²à¼‹à½–à¾³à¼‹à½˜à¼‹à½–à½¢à¾’à¾±à½´à½‘à¼‹à½”à½ à½²à¼‹à½‚à½¦à½¼à½£à¼‹à½ à½‘à½ºà½–à½¦à¼‹à½¦à½¼à¼ à¼', chineseTitle: 'é»‘æ–‡æ®Šæ„ç²¾æ»´ä¹‹ä¸Šå¸«å‚³æ‰¿ç¥ˆè«‹æ–‡', author: 'æ‰æ—ºè«¾å¸ƒ', category: 'ç¥ˆè«‹æ–‡', preview: '', tags: ['é»‘æ–‡æ®Š', 'ä¸Šå¸«å‚³æ‰¿', 'ç¥ˆè«‹'], meta: { words: '', pages: '', readTime: '' }, status: 'published', fullContentTibetan: `<p class="tibetan-text">à¼„à¼…à¼ à¼à½ à½‡à½˜à¼‹à½‘à½”à½£à¼‹à½“à½‚à¼‹à½”à½¼à¼‹à½à½´à½‚à½¦à¼‹à½€à¾±à½²à½¦à¼‹à½¡à½„à¼‹à½à½´à½“à¼‹à½‚à¾±à½²à¼‹à½–à¾³à¼‹à½˜à¼‹à½–à½¢à¾’à¾±à½´à½‘à¼‹à½”à½ à½²à¼‹à½‚à½¦à½¼à½£à¼‹à½ à½‘à½ºà½–à½¦à¼‹à½¦à½¼à¼ à¼<br>à½¨à½¼à½¾à¼‹à½¨à½±à½¿à½§à½±à½´à¾ƒà¼ à½€à½´à½“à¼‹à½–à½Ÿà½„à¼‹à½ à½‡à½˜à¼‹à½‘à½”à½£à¼‹à½”à½‘à¾¨à¼‹à½à½¼à½‘à¼‹à½•à¾²à½ºà½„à¼‹à½¢à¾©à½£à¼ à¼à½˜à½„à½ à¼‹à½–à½‘à½‚à¼‹à½¡à½–à¼‹à½¦à¾²à½¦à¼‹à½¡à½ºà¼‹à½¤à½ºà½¦à¼‹à½˜à½šà½¼à¼‹à½¢à¾’à¾±à½£à¼‹à½˜à¼ à¼à½Ÿà½–à¼‹à½‚à½à½ºà½¢à¼‹à½˜à½„à½ à¼‹à½–à½‘à½‚à¼‹à½¨à½¼à¼‹à½¢à¾’à¾±à½“à¼‹à½¦à½„à½¦à¼‹à½¢à¾’à¾±à½¦à¼‹à½‚à¾³à½²à½„à¼‹à¼ à¼à½¢à½„à¼‹à½¦à¾²à½¦à¼‹à½–à½‘à½´à½“à¼‹à½–à½¢à¾’à¾±à½´à½‘à¼‹à½–à½‘à½ºà¼‹à½†à½ºà½“à¼‹à½‘à½¢à¼‹à½¢à¾’à¾±à½¦à¼‹à½‘à½„à¼‹à¼ à¼à½–à½€à½ à¼‹à½‘à¾²à½²à½“à¼‹à½˜à½šà½´à½„à½¦à¼‹à½˜à½ºà½‘à¼‹à½–à½‘à½ºà¼‹à½†à½ºà½“à¼‹à½¢à½–à¼‹à½‚à½¦à½£à¼‹à½à½–à½¦à¼ à¼à½¢à¾©à¼‹à½–à½ à½²à¼‹à½–à¾³à¼‹à½˜à¼‹à½‘à¾²à½“à¼‹à½†à½¼à½‚à¼‹à½ à½à½¼à½¢à¼‹à½£à½¼à½ à½²à¼‹à½˜à½‚à½¼à½“à¼ à¼à½ à½‡à½˜à¼‹à½‘à½”à½£à¼‹à½¡à½„à¼‹à½à½´à½“à¼‹à½¦à¾¨à½²à½“à¼‹à½‚à¾²à½¼à½£à¼‹à½–à½¢à¾’à¾±à½´à½‘à¼‹à½”à¼‹à½¡à½²à¼ à¼à½–à¾³à¼‹à½˜à¼‹à½¢à¾£à½˜à¼‹à½‘à½„à¼‹à½¡à½²à¼‹à½‘à½˜à¼‹à½£à¾·à½‚à¼‹à½”à½ à½²à¼‹à½£à¾·à½¢à¼ à¼à½¢à¾©à½ºà¼‹à½‚à½…à½²à½‚à¼‹à½‚à½¦à½¼à½£à¼‹à½–à¼‹à½–à½à½–à¼‹à½”à½ à½²à¼‹à½˜à½à½´à¼‹à½¦à¾Ÿà½¼à½–à½¦à¼‹à½€à¾±à½²à½¦à¼ à¼à½£à½¦à¼‹à½–à½à½²à¼‹à½£à¾·à½´à½“à¼‹à½‚à¾²à½´à½–à¼‹à½‚à¾²à½´à½–à¼‹à½”à¼‹à½†à½ºà¼‹à½–à½¢à¾’à¾±à½‘à¼‹à½à½¼à½–à¼ à¼à½à¾±à½‘à¼‹à½”à½¢à¼‹à½šà½ºà¼‹à½‘à½–à½„à¼‹à½•à¾±à½‚à¼‹à½¢à¾’à¾±à¼‹à½†à½ºà¼‹à½˜à½†à½¼à½‚à¼‹à½‚à¾²à½´à½–à¼ à¼à½ à½‡à½˜à¼‹à½‘à½”à½£à¼‹à½‚à½¼à¼‹à½ à½•à½„à¼‹à½šà½ºà¼‹à½ à½‘à½²à½¢à¼‹à½à½¼à½–à¼‹à½–à¾±à½²à½“à¼‹à½¢à¾³à½¼à½–à½¦à¼ à¼<br>à½à½ºà½¦à¼‹à½ à½‡à½˜à¼‹à½‘à½”à½£à¼‹à½“à½‚à¼‹à½”à½¼à¼‹à½à½´à½‚à½¦à¼‹à½€à¾±à½²à¼‹à½¡à½„à¼‹à½à½´à½“à¼‹à½‚à¾±à½²à¼‹à½–à¾³à¼‹à½˜à¼‹à½–à½¢à¾’à¾±à½´à½‘à¼‹à½”à½ à½²à¼‹à½‚à½¦à½¼à½£à¼‹à½ à½‘à½ºà½–à½¦à¼‹à½ à½‘à½²à¼‹à½¡à½„à¼‹à½¢à½²à½‚à¼‹à½”à¼‹à½ à½›à½²à½“à¼‹à½”à¼‹à½šà½ºà¼‹à½‘à½–à½„à¼‹à½“à½¼à½¢à¼‹à½–à½´à½¦à¼‹à½¦à¾¦à¾±à½¢à¼‹à½–à½ à½¼à¼ à¼à½¦à½¢à¾¦à¼‹à½˜à½„à¾’à¼‹à½£à½¾à¼ à¼</p>`, fullContentChinese: `<p class="chinese-text">é»‘æ–‡æ®Šæ„ç²¾æ»´ä¹‹ä¸Šå¸«å‚³æ‰¿ç¥ˆè«‹æ–‡<br>å—¡é˜¿å½<br>æ™®è³¢æ–‡æ®Šè“®å¸«é¡±é¬˜åŠ›ï¼Œä¸»å°Šçˆ¶å­è€¶å–œæªå˜‰æ¯ï¼Œ<br>æ·±ä¼è—ä¸»é„”é‡‘æ¡‘å‚‘æ—ï¼Œè‡ªå­ä¸ƒå‚³å¾·æ¬½é”å‰å°Šã€‚<br>æ©å¾·ç„¡æ¯”å¾·æ¬½ç¹è–©å°Šï¼Œæ ¹æœ¬ä¸Šå¸«æ†¶èµ·è¼ªæ€™ä¸»ï¼Œ<br>æ–‡æ®Šç²¾æ»´æˆç†Ÿè§£è„«å‚³ï¼Œä¸Šå¸«çœ¾èˆ‡æœ¬å°Šå‹å¤©å°Šã€‚<br>ä¸€å¿ƒç¥ˆè«‹åŠ æŒå¨åŠ›æ•…ï¼Œå››æ¥­ä»»é‹æˆå°±å…«å¤§å¾—ï¼Œ<br>å°¤ä»¥å£½å‘½æ‰‹å°å¤§å‹æˆï¼ŒåŠ æŒæ­¤ç”Ÿè­‰å¾—æ–‡æ®Šä½ã€‚</p><div class="colophon">æ­¤é»‘æ–‡æ®Šå¿ƒç²¾è¯ä¸Šå¸«å‚³æ‰¿ç¥ˆè«‹æ–‡ä¹ƒæŒæ˜æ‰æ—ºè«¾å¸ƒæ‰€é€ ã€‚èŠ’å˜æœ—ï¼</div>` },
            { id: 'prayer4', tibetanTitle: 'à¼ˆ à½¦à¾™à½“à¼‹à½–à½¢à¾’à¾±à½´à½‘à¼‹à½–à¾³à¼‹à½˜à¼‹à½¡à½„à¼‹à½‚à½¦à½„à¼‹à½”à½‘à¾¨à¼‹à½ à½¼à½‘à¼‹à½ à½–à½¢à¼‹à½‚à¾±à½²à¼‹à½–à½¢à¾’à¾±à½´à½‘à¼‹à½”à½ à½²à¼‹à½‚à½¦à½¼à½£à¼‹à½ à½‘à½ºà½–à½¦à¼‹à½¡à½²à½‘à¼‹à½–à½à½²à½“à¼‹à½à½¼à½‚à¼‹à½‚à½²à¼‹à½•à¾²à½ºà½„à¼‹à½–à¼‹à½–à½à½´à½‚à½¦à¼‹à½¦à½¼à¼ à¼', chineseTitle: 'è€³å‚³ä¸Šå¸«æ¥µå¯†è“®èŠ±å…‰ç„°å‚³æ‰¿ç¥ˆè«‹æ–‡ å¦‚æ„é ‚åš´é¬˜', author: 'æ‰æ—ºè«¾å¸ƒ', category: 'ç¥ˆè«‹æ–‡', preview: '', tags: ['è€³å‚³', 'è“®èŠ±å…‰ç„°', 'å‚³æ‰¿ç¥ˆè«‹'], meta: { words: '', pages: '', readTime: '' }, status: 'published', fullContentTibetan: `<p class="tibetan-text">[Full Tibetan P4 Content Here...]</p>`, fullContentChinese: `<p class="chinese-text">[Full Chinese P4 Content Here...]</p><div class="colophon">[Colophon P4 Here...]</div>` },
            { id: 'prayer5', tibetanTitle: 'à¼ˆ à½¢à¾«à½¼à½‚à½¦à¼‹à½†à½ºà½“à¼‹à½˜à½à½ à¼‹à½ à½‚à¾²à½¼à¼‹à½¦à¾™à½²à½„à¼‹à½à½²à½‚à¼‹à½‚à½²à¼‹à½–à½¢à¾’à¾±à½´à½‘à¼‹à½”à¼‹à½–à¾³à¼‹à½˜à½ à½²à¼‹à½‚à½¦à½¼à½£à¼‹à½ à½‘à½ºà½–à½¦à¼‹à½„à½ºà½¦à¼‹à½‘à½¼à½“à¼‹à½¦à¾™à½²à½„à¼‹à½”à½¼à½ à½²à¼‹à½–à½…à½´à½‘à¼‹à½£à½ºà½“à¼‹à½à½ºà½¦à¼‹à½–à¾±à¼‹à½–à¼‹à½–à½à½´à½‚à½¦à¼‹à½¦à½¼à¼ à¼', chineseTitle: 'å¤§åœ“æ»¿ç©ºè¡Œå¿ƒè¦å‚³æ‰¿ä¸Šå¸«ç¥ˆè«‹æ–‡å®šè§£å¿ƒé«“ç”˜éœ²æ»´', author: 'æ‰æ—ºè«¾å¸ƒ', category: 'ç¥ˆè«‹æ–‡', preview: '', tags: ['å¤§åœ“æ»¿', 'ç©ºè¡Œå¿ƒè¦', 'å‚³æ‰¿ç¥ˆè«‹'], meta: { words: '', pages: '', readTime: '' }, status: 'published', fullContentTibetan: `<p class="tibetan-text">[Full Tibetan P5 Content Here...]</p>`, fullContentChinese: `<p class="chinese-text">[Full Chinese P5 Content Here...]</p><div class="colophon">[Colophon P5 Here...]</div>` },
            { id: 'prayer6', tibetanTitle: 'à¼ˆà½¢à¾«à½¼à½‚à½¦à¼‹à½†à½ºà½“à¼‹à½˜à½à½ à¼‹à½ à½‚à¾²à½¼à¼‹à½¡à½„à¼‹à½à½´à½“à¼‹à½‚à¾±à½²à¼‹à½‚à½¦à½¼à½£à¼‹à½ à½‘à½ºà½–à½¦à¼‹à½¢à¾©à¼‹à½‚à½¦à½´à½˜à¼‹à½–à¾±à½²à½“à¼‹à½¢à¾³à½–à½¦à¼‹à½ à½‘à¾²à½ºà½“à¼‹à½”à½ à½²à¼‹à½£à¾•à½‚à½¦à¼‹à½€à¾±à½´à¼‹à½à½ºà½¦à¼‹à½–à¾±à¼‹à½–à¼‹à½–à½à½´à½‚à½¦à¼‹à½¦à½¼à¼ à¼', chineseTitle: 'å¤§åœ“æ»¿ç©ºè¡Œç²¾è¯ç¥ˆè«‹æ–‡ ä¸‰æ ¹æœ¬åŠ æŒæ”å¬éµé‰¤', author: 'æ‰æ—ºè«¾å¸ƒ', category: 'ç¥ˆè«‹æ–‡', preview: '', tags: ['å¤§åœ“æ»¿', 'ç©ºè¡Œç²¾è¯', 'ä¸‰æ ¹æœ¬'], meta: { words: '', pages: '', readTime: '' }, status: 'published', fullContentTibetan: `<p class="tibetan-text">[Full Tibetan P6 Content Here...]</p>`, fullContentChinese: `<p class="chinese-text">[Full Chinese P6 Content Here...]</p><div class="colophon">[Colophon P6 Here...]</div>` },
            { id: 'prayer7', tibetanTitle: 'à¼ˆ à½–à¾³à¼‹à½˜à¼‹à½‘à½‚à½¼à½„à½¦à¼‹à½”à¼‹à½ à½‘à½´à½¦à¼‹à½”à½ à½²à¼‹à½‘à½–à½„à¼‹à½£à½´à½„à¼‹à½˜à½“à¼‹à½„à½‚à¼‹à½‚à½²à¼‹à½¢à¾’à¾±à½´à½‘à¼‹à½”à½ à½²à¼‹à½–à¾³à¼‹à½˜à½¢à¼‹à½‚à½¦à½¼à½£à¼‹à½–à¼‹à½ à½‘à½ºà½–à½¦à¼‹à½”à¼‹à½–à¾±à½²à½“à¼‹à½¢à¾³à½–à½¦à¼‹à½¦à¾™à½²à½„à¼‹à½”à½¼à½ à½²à¼‹à½–à½…à½´à½‘à¼‹à½£à½ºà½“à¼‹à½à½ºà½¦à¼‹à½–à¾±à¼‹à½–à¼‹à½–à½à½´à½‚à½¦à¼‹à½¦à½¼à¼ à¼', chineseTitle: 'ä¸Šå¸«æ„é›†çŒé ‚æ•™è¨€ç«…è¨£å‚³æ‰¿ä¸Šå¸«ç¥ˆè«‹æ–‡ åŠ æŒå¿ƒè¦ç”˜éœ²æ»´', author: 'æ‰æ—ºè«¾å¸ƒ', category: 'ç¥ˆè«‹æ–‡', preview: '', tags: ['ä¸Šå¸«æ„é›†', 'çŒé ‚æ•™è¨€', 'å‚³æ‰¿ç¥ˆè«‹'], meta: { words: '', pages: '', readTime: '' }, status: 'published', fullContentTibetan: `<p class="tibetan-text">[Full Tibetan P7 Content Here...]</p>`, fullContentChinese: `<p class="chinese-text">[Full Chinese P7 Content Here...]</p><div class="colophon">[Colophon P7 Here...]</div>` },
            { id: 'prayer8', tibetanTitle: ' à¼ˆ à½–à¾±à½„à¼‹à½‚à½à½ºà½¢à¼‹à½à½´à½‚à½¦à¼‹à½–à½¦à¾’à¾²à½´à½–à¼‹à½¡à½„à¼‹à½à½²à½‚à¼‹à½‚à½…à½ºà½¦à¼‹à½¦à¾’à¾²à½¼à½“à¼‹à½‚à¾±à½²à¼‹à½à¾²à½²à½‘à¼‹à½€à¾±à½²à¼‹à½‚à½¦à½¼à½£à¼‹à½ à½‘à½ºà½–à½¦à¼‹à½–à¾±à½²à½“à¼‹à½¢à¾³à½–à½¦à¼‹à½ à½‘à¾²à½ºà½“à¼‹à½”à½ à½²à¼‹à½£à¾•à½‚à½¦à¼‹à½€à¾±à½´à¼‹à½à½ºà½¦à¼‹à½–à¾±à¼‹à½–à¼‹à½–à½à½´à½‚à½¦à¼‹à½¦à½¼à¼ à¼', chineseTitle: 'åŒ—ä¼è—æ„ä¿®ç²¾è¦å¯¶ç‡ˆå¼•å°ç¥ˆè«‹æ–‡æ”å¬éµé‰¤', author: 'æ‰æ—ºè«¾å¸ƒ', category: 'ç¥ˆè«‹æ–‡', preview: '', tags: ['åŒ—ä¼è—', 'æ„ä¿®ç²¾è¦', 'å¯¶ç‡ˆå¼•å°'], meta: { words: '', pages: '', readTime: '' }, status: 'published', fullContentTibetan: `<p class="tibetan-text">[Full Tibetan P8 Content Here...]</p>`, fullContentChinese: `<p class="chinese-text">[Full Chinese P8 Content Here...]</p><div class="colophon">[Colophon P8 Here...]</div>` }
        ];

        const documentsGridEl = document.getElementById('documentsGridEl');
        const searchInputEl = document.getElementById('searchInputEl');
        const totalCountEl = document.getElementById('totalCountEl');
        const documentModalEl = document.getElementById('documentModalEl');
        const modalTitleEl = document.getElementById('modalTitleEl');
        const modalTitleTibetanEl = document.getElementById('modalTitleTibetanEl');
        const modalTibetanContentEl = document.getElementById('modalTibetanContentEl');
        const modalChineseContentEl = document.getElementById('modalChineseContentEl');
        const adminLoginModalEl = document.getElementById('adminLoginModalEl');
        const adminLoginFormEl = document.getElementById('adminLoginFormEl');
        const userSectionEl = document.getElementById('userSectionEl');
        const messageAreaEl = document.getElementById('messageAreaEl');
        const articleFormModalEl = document.getElementById('articleFormModalEl');
        const articleFormEl = document.getElementById('articleFormEl');
        const articleFormModalTitleEl = document.getElementById('articleFormModalTitleEl');
        const courseMenuContainerEl = document.getElementById('courseMenuContainer');
        const utilitySidebarEl = document.getElementById('utilitySidebarEl');
        const favoritesListContainerEl = document.getElementById('favoritesListContainerEl');
        const utilityModalEl = document.getElementById('utilityModalEl');
        const utilityModalTitleEl = document.getElementById('utilityModalTitleEl');
        const utilityModalBodyEl = document.getElementById('utilityModalBodyEl');
        const modeSelectorScreenEl = document.getElementById('modeSelectorScreen');
        const appContainerEl = document.getElementById('appContainer');
        const mainContentAreaEl = document.getElementById('mainContentArea');
        const leftSidebarEl = document.getElementById('sidebar');
        const leftSidebarToggleEl = document.getElementById('leftSidebarToggle');
        const breadcrumbPathEl = document.getElementById('breadcrumbPath');
        const currentDocCategoryEl = document.getElementById('currentDocCategory');
        const currentDocTitleEl = document.getElementById('currentDocTitle');

        let currentView = 'grid'; 
        let isAdminLoggedIn = false;
        let currentOpenDocId = null;
        let currentMode = ''; 
        let guestFavorites = [];

        function enterMode(mode) {
            currentMode = mode;
            modeSelectorScreenEl.style.display = 'none';
            document.body.classList.add('app-active');
            document.body.classList.remove('read-mode', 'edit-mode');
            document.body.classList.add(mode + '-mode');

            if (mode === 'edit') {
                adminLoginModalEl.classList.add('active');
            } else { 
                isAdminLoggedIn = false; 
                setupReadModeUI();
                loadInitialContent();
            }
        }

        function showModeSelectorScreen() {
            modeSelectorScreenEl.style.display = 'flex';
            document.body.classList.remove('app-active', 'read-mode', 'edit-mode');
            if (currentMode === 'edit' && isAdminLoggedIn) {
                adminLogout(false); 
            }
            currentMode = '';
            updateUserSectionUI(); 
        }
        
        function setupReadModeUI() {
            document.body.classList.remove('edit-mode');
            document.body.classList.add('read-mode');
            mainContentAreaEl.classList.remove('no-left-sidebar');
            if (utilitySidebarEl.classList.contains('open')) {
                 mainContentAreaEl.classList.add('with-right-sidebar');
            } else {
                 mainContentAreaEl.classList.remove('with-right-sidebar');
            }
            leftSidebarEl.style.transform = 'translateX(0)';
            updateUserSectionUI();
        }

        function setupEditModeUI() {
            document.body.classList.remove('read-mode');
            document.body.classList.add('edit-mode');
            mainContentAreaEl.classList.remove('with-right-sidebar');
            mainContentAreaEl.classList.remove('no-left-sidebar'); 
            leftSidebarEl.style.transform = 'translateX(0)';
            updateUserSectionUI();
        }

        function updateDocumentMeta(doc) {
            const plainTibetan = doc.fullContentTibetan.replace(/<[^>]+>/g, "");
            const plainChinese = doc.fullContentChinese.replace(/<[^>]+>/g, "");
            const tibetanSyllables = plainTibetan.split(/[à¼‹\s]+/).filter(s => s.trim().length > 0).length;
            const chineseChars = plainChinese.replace(/[^\u4e00-\u9fa5]/g, "").length;
            doc.meta.words = `è— ${tibetanSyllables} éŸ³ç¯€ | ä¸­ ${chineseChars} å­—`;
            const readTimeMinutes = Math.ceil((chineseChars / 250) + (tibetanSyllables / 150));
            doc.meta.readTime = `é–±è®€ç´„ ${readTimeMinutes} åˆ†é˜`;
            doc.meta.pages = `${Math.ceil(readTimeMinutes / 5)} é  (ä¼°ç®—)`; 
            doc.preview = plainTibetan.substring(0, 80) + (plainTibetan.length > 80 ? '...' : '');
        }

        function processAllDocumentMeta() {
            documentsData.forEach(doc => {
                if (!doc.meta) doc.meta = {};
                updateDocumentMeta(doc);
            });
        }

        function loadDocumentsData() {
            const storedDocs = localStorage.getItem('sunbumDocuments');
            if (storedDocs) {
                documentsData = JSON.parse(storedDocs);
                // Backward compatibility for status
                documentsData.forEach(doc => {
                    if (typeof doc.status === 'undefined') {
                        doc.status = 'published'; // Default older docs to published
                    }
                });
            } else {
                documentsData = JSON.parse(JSON.stringify(initialDocuments));
            }
            processAllDocumentMeta();
            saveDocumentsData();
        }
        function saveDocumentsData() {
            localStorage.setItem('sunbumDocuments', JSON.stringify(documentsData));
        }
        function loadGuestFavorites() {
            const storedFavorites = localStorage.getItem('guestFavorites');
            guestFavorites = storedFavorites ? JSON.parse(storedFavorites) : [];
        }
        function saveGuestFavorites() {
            localStorage.setItem('guestFavorites', JSON.stringify(guestFavorites));
        }

        function updateBreadcrumb(category, title) {
            currentDocCategoryEl.textContent = category || 'æœªçŸ¥åˆ†é¡';
            currentDocTitleEl.textContent = title || 'æœªé¸æ–‡ç»';
        }

        function renderDocuments() {
            documentsGridEl.innerHTML = '';
            let docsToDisplay = [...documentsData]; // Create a mutable copy

            if (currentMode === 'read') {
                docsToDisplay = docsToDisplay.filter(doc => doc.status === 'published');
            }

            const searchTerm = searchInputEl.value.toLowerCase().trim();
            if (searchTerm) {
                docsToDisplay = docsToDisplay.filter(doc => 
                    doc.tibetanTitle.toLowerCase().includes(searchTerm) ||
                    doc.chineseTitle.toLowerCase().includes(searchTerm) ||
                    doc.author.toLowerCase().includes(searchTerm) ||
                    (doc.tags && doc.tags.some(tag => tag.toLowerCase().includes(searchTerm))) ||
                    doc.fullContentTibetan.toLowerCase().includes(searchTerm) ||
                    doc.fullContentChinese.toLowerCase().includes(searchTerm)
                );
            }
            
            totalCountEl.textContent = docsToDisplay.length;

            docsToDisplay.forEach(doc => {
                const card = document.createElement('div');
                card.className = 'document-card';
                
                let actionButtonsHTML = `<button class="btn btn-primary" onclick="openDocumentModal('${doc.id}')">ğŸ“– é–±è®€å…¨æ–‡</button>`;
                
                if (currentMode === 'edit' && isAdminLoggedIn) {
                    actionButtonsHTML += `<button class="btn btn-secondary admin-only" onclick="openArticleFormModal('${doc.id}')">âœï¸ ç·¨è¼¯</button>`;
                    actionButtonsHTML += `<button class="btn btn-danger admin-only" onclick="deleteDocument('${doc.id}')">ğŸ—‘ï¸ åˆªé™¤</button>`;
                    if (doc.status === 'published') {
                        actionButtonsHTML += `<button class="btn btn-warning admin-only" onclick="togglePublishStatus('${doc.id}')">ğŸ“¥ æ’¤ç¨¿</button>`;
                    } else {
                        actionButtonsHTML += `<button class="btn btn-success admin-only" onclick="togglePublishStatus('${doc.id}')">ğŸš€ ç™¼å¸ƒ</button>`;
                    }
                } else if (currentMode === 'read') {
                     const isFavorited = guestFavorites.includes(doc.id);
                    actionButtonsHTML += `<button class="btn btn-secondary reader-only" onclick="toggleFavorite('${doc.id}', this)">${isFavorited ? 'ğŸ’– å·²æ”¶è—' : 'â¤ï¸ åŠ å…¥æ”¶è—'}</button>`;
                }

                card.innerHTML = `
                    <h3 class="document-title">${doc.tibetanTitle.split('à¼')[0]}</h3>
                    <div class="document-subtitle">${doc.chineseTitle}</div>
                    <div class="document-meta">
                        <div class="meta-item"><span>ğŸ‘¤</span><span>${doc.author}</span></div>
                        <div class="meta-item"><span>ğŸ“„</span><span>${doc.meta.words}</span></div>
                        <div class="meta-item"><span>ğŸ“„</span><span>${doc.meta.pages}</span></div>
                        <div class="meta-item"><span>â±ï¸</span><span>${doc.meta.readTime}</span></div>
                        ${doc.tags && doc.tags.length > 0 ? `<div class="meta-item"><span>ğŸ·ï¸</span><span>${doc.tags.join(', ')}</span></div>` : ''}
                        ${(currentMode === 'edit' && isAdminLoggedIn) ? `<div class="meta-item"><span>ğŸš¦</span><span>ç‹€æ…‹: ${doc.status === 'published' ? 'å·²ç™¼å¸ƒ' : 'è‰ç¨¿'}</span></div>` : ''}
                    </div>
                    <div class="document-preview">${doc.preview}</div>
                    <div class="document-actions">${actionButtonsHTML}</div>
                `;
                documentsGridEl.appendChild(card);
            });
        }
        
        function openDocumentModal(docId) {
            const doc = documentsData.find(d => d.id === docId);
            if (doc) {
                 if (currentMode === 'read' && doc.status !== 'published') {
                    showMessage('æ­¤æ–‡ç»ç‚ºè‰ç¨¿ç‹€æ…‹ï¼Œç„¡æ³•åœ¨é–±è®€æ¨¡å¼ä¸‹æŸ¥çœ‹ã€‚', 'info');
                    return;
                }
                currentOpenDocId = docId;
                modalTitleEl.textContent = doc.chineseTitle;
                modalTitleTibetanEl.textContent = doc.tibetanTitle.split('à¼')[0];
                modalTibetanContentEl.innerHTML = `<h3>è—æ–‡åŸæ–‡</h3>${doc.fullContentTibetan}`;
                modalChineseContentEl.innerHTML = `<h3>ä¸­æ–‡ç¿»è­¯</h3>${doc.fullContentChinese}`;
                documentModalEl.classList.add('active');
                updateBreadcrumb(doc.category, doc.chineseTitle);
                setActiveSidebarItem(docId);
            }
        }

        function closeModal(modalId) {
            const modalToClose = document.getElementById(modalId);
            if (modalToClose) modalToClose.classList.remove('active');
            if (modalId === 'documentModalEl') {
                // currentOpenDocId = null; // Keep currentOpenDocId for breadcrumb logic
            }
            if (modalId === 'articleFormModalEl') {
                articleFormEl.reset(); 
                document.getElementById('articleId').value = '';
            }
        }
        
        adminLoginFormEl.addEventListener('submit', function(e) {
            e.preventDefault();
            const username = document.getElementById('adminUsername').value;
            const password = document.getElementById('adminPassword').value;
            if (username === 'admin' && password === 'password123') {
                isAdminLoggedIn = true;
                closeModal('adminLoginModalEl');
                showMessage('ç®¡ç†å“¡ç™»å…¥æˆåŠŸï¼', 'success');
                setupEditModeUI();
                loadInitialContent(); 
            } else {
                showMessage('ç”¨æˆ¶åæˆ–å¯†ç¢¼éŒ¯èª¤ã€‚', 'error');
            }
        });

        function adminLogout(switchToReadMode = true) {
            isAdminLoggedIn = false;
            if (switchToReadMode) {
                currentMode = 'read';
                setupReadModeUI();
                loadInitialContent(); 
                showMessage('ç®¡ç†å“¡å·²ç™»å‡ºã€‚å·²åˆ‡æ›è‡³é–±è®€æ¨¡å¼ã€‚', 'info');
            } else {
                updateUserSectionUI(); 
            }
        }

        function updateUserSectionUI() {
            userSectionEl.innerHTML = ''; 
            if (currentMode === 'edit' && isAdminLoggedIn) {
                userSectionEl.innerHTML = `
                    <button class="admin-btn admin-only" onclick="openArticleFormModal()">âœ¨ æ–°å¢æ–‡ç»</button>
                    <div class="user-info admin-only">
                        <span>ç®¡ç†å“¡</span>
                        <div class="user-avatar" title="ç®¡ç†å“¡å·²ç™»å…¥">A</div>
                    </div>
                    <button class="login-btn admin-only" onclick="adminLogout()">ç™»å‡ºç®¡ç†</button>
                `;
            } else if (currentMode === 'read') {
                 userSectionEl.innerHTML = `
                    <button class="utility-toggle-btn reader-only" onclick="toggleSidebar('utilitySidebarEl')">ğŸ› ï¸ å·¥å…·</button>
                 `;
            }
            if (currentMode) {
                const backButton = document.createElement('button');
                backButton.className = 'login-btn'; 
                backButton.textContent = 'è¿”å›æ¨¡å¼é¸æ“‡';
                backButton.onclick = showModeSelectorScreen;
                userSectionEl.appendChild(backButton);
            }
        }

        function showMessage(msg, type = 'info') {
            const messageEl = document.createElement('div');
            messageEl.className = `message ${type}`;
            messageEl.textContent = msg;
            messageAreaEl.appendChild(messageEl);
            setTimeout(() => {
                messageEl.remove();
            }, 3000);
        }
        
        function openArticleFormModal(docIdToEdit = null) {
            articleFormEl.reset();
            document.getElementById('articleId').value = ''; 
            if (docIdToEdit) {
                const doc = documentsData.find(d => d.id === docIdToEdit);
                if (doc) {
                    articleFormModalTitleEl.textContent = 'âœï¸ ç·¨è¼¯æ–‡ç»';
                    document.getElementById('articleId').value = doc.id;
                    document.getElementById('articleTibetanTitle').value = doc.tibetanTitle;
                    document.getElementById('articleChineseTitle').value = doc.chineseTitle;
                    document.getElementById('articleAuthor').value = doc.author;
                    document.getElementById('articleCategory').value = doc.category;
                    document.getElementById('articleTags').value = doc.tags.join(', ');
                    document.getElementById('articleFullContentTibetan').value = doc.fullContentTibetan.replace(/<p class="tibetan-text"[^>]*>/gi, '').replace(/<\/p>/gi, '').replace(/<br\s*\/?>/gi, '\n').trim();
                    document.getElementById('articleFullContentChinese').value = doc.fullContentChinese.replace(/<p class="chinese-text"[^>]*>/gi, '').replace(/<\/p>/gi, '').replace(/<div class="colophon"[^>]*>/gi, '\n<div class="colophon">\n').replace(/<\/div>/gi, '\n</div>\n').replace(/<br\s*\/?>/gi, '\n').trim();
                } else {
                    showMessage('æ‰¾ä¸åˆ°è¦ç·¨è¼¯çš„æ–‡ç»ã€‚', 'error');
                    return;
                }
            } else {
                articleFormModalTitleEl.textContent = 'ğŸ“ æ–°å¢æ–‡ç»';
            }
            articleFormModalEl.classList.add('active');
        }

        articleFormEl.addEventListener('submit', function(e) {
            e.preventDefault();
            const articleId = document.getElementById('articleId').value;
            const tibetanContentRaw = document.getElementById('articleFullContentTibetan').value;
            const chineseContentRaw = document.getElementById('articleFullContentChinese').value;
            let finalChineseContent = chineseContentRaw.replace(/\n/g, '<br>');
            const colophonMarker = "---COLOPHON---"; 
            const colophonIndex = finalChineseContent.indexOf(colophonMarker);
            if (colophonIndex !== -1) {
                const mainText = finalChineseContent.substring(0, colophonIndex);
                const colophonText = finalChineseContent.substring(colophonIndex + colophonMarker.length);
                finalChineseContent = `<p class="chinese-text">${mainText.trim()}</p><div class="colophon">${colophonText.trim()}</div>`;
            } else {
                finalChineseContent = `<p class="chinese-text">${finalChineseContent}</p>`;
            }

            const docPayload = {
                id: articleId || 'doc_' + Date.now(),
                tibetanTitle: document.getElementById('articleTibetanTitle').value,
                chineseTitle: document.getElementById('articleChineseTitle').value,
                author: document.getElementById('articleAuthor').value,
                category: document.getElementById('articleCategory').value,
                tags: document.getElementById('articleTags').value.split(',').map(tag => tag.trim()).filter(tag => tag),
                fullContentTibetan: `<p class="tibetan-text">${tibetanContentRaw.replace(/\n/g, '<br>')}</p>`,
                fullContentChinese: finalChinese