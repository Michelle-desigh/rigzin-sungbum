<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>才旺諾布全集閱讀系統</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
            display: flex;
        }

        /* Left Sidebar */
        .sidebar {
            width: 280px;
            background: rgba(255,255,255,0.98);
            backdrop-filter: blur(20px);
            overflow-y: auto;
            position: fixed;
            height: 100vh;
            left: 0;
            top: 0;
            z-index: 100;
            box-shadow: 2px 0 15px rgba(0,0,0,0.1);
            border-right: 1px solid rgba(255,255,255,0.2);
        }

        .sidebar-header {
            padding: 2rem 1.5rem;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            text-align: center;
        }

        .sidebar-title {
            font-size: 1.2rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .sidebar-subtitle {
            font-size: 0.9rem;
            opacity: 0.9;
            font-style: italic;
        }

        .course-menu {
            padding: 1rem 0;
        }

        .course-category {
            margin-bottom: 1rem;
        }

        .category-header {
            padding: 1rem 1.5rem;
            background: linear-gradient(90deg, rgba(102, 126, 234, 0.1) 0%, rgba(102, 126, 234, 0.05) 100%);
            font-weight: 600;
            color: #4c51bf;
            font-size: 0.9rem;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s ease;
            border-left: 4px solid transparent;
        }

        .category-header:hover {
            background: linear-gradient(90deg, rgba(102, 126, 234, 0.15) 0%, rgba(102, 126, 234, 0.08) 100%);
            border-left-color: #667eea;
        }

        .category-toggle {
            font-size: 0.8rem;
            transition: transform 0.3s ease;
        }

        .category-header.collapsed .category-toggle {
            transform: rotate(-90deg);
        }

        .course-list {
            background: white;
            max-height: 500px; /* Adjust as needed */
            overflow-y: auto; /* Allow scrolling within list if it exceeds max-height */
            overflow-x: hidden;
            transition: max-height 0.3s ease;
        }


        .course-list.collapsed {
            max-height: 0;
            overflow: hidden;
        }

        .course-item {
            padding: 0.8rem 1.5rem 0.8rem 2rem;
            cursor: pointer;
            transition: all 0.3s ease;
            border-left: 3px solid transparent;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.85rem;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
         .course-item span:first-child {
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            flex-grow: 1;
            margin-right: 10px; /* space before status */
        }


        .course-item:hover {
            background: rgba(102, 126, 234, 0.05);
            border-left-color: #667eea;
            transform: translateX(5px);
        }

        .course-item.active {
            background: rgba(102, 126, 234, 0.1);
            border-left-color: #667eea;
            font-weight: 600;
            color: #4c51bf;
        }

        .course-status {
            font-size: 0.7rem;
            padding: 0.2rem 0.5rem;
            border-radius: 12px;
            font-weight: 500;
            flex-shrink: 0; /* Prevent status from shrinking */
        }

        .course-status.completed {
            background: #d1fae5;
            color: #065f46;
        }

        .course-status.current {
            background: #dbeafe;
            color: #1e40af;
        }

        .course-status.pending {
            background: #f3f4f6;
            color: #6b7280;
        }

        /* Main content area */
        .main-content {
            flex: 1;
            margin-left: 280px;
            min-height: 100vh;
        }

        .top-bar {
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(20px);
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            color: white;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            position: sticky;
            top: 0;
            z-index: 50;
        }

        .breadcrumb {
            font-size: 0.9rem;
            opacity: 0.9;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .user-section {
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        
        .admin-btn { /* For Add New Article button */
            padding: 0.6rem 1.2rem;
            background: rgba(255, 255, 255, 0.25);
            border: 1px solid rgba(255, 255, 255, 0.35);
            color: white;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
            font-size: 0.85rem;
        }
        .admin-btn:hover {
            background: rgba(255,255,255,0.9);
            color: #333;
        }


        .login-btn {
            padding: 0.6rem 1.5rem;
            background: rgba(255,255,255,0.2);
            border: 1px solid rgba(255,255,255,0.3);
            color: white;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            text-decoration: none;
        }

        .login-btn:hover {
            background: rgba(255,255,255,0.9);
            color: #333;
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 1rem;
            color: white;
        }

        .user-avatar {
            width: 35px;
            height: 35px;
            border-radius: 50%;
            background: linear-gradient(45deg, #667eea, #764ba2);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid rgba(255,255,255,0.3);
        }

        .user-avatar:hover {
            transform: scale(1.1);
            border-color: rgba(255,255,255,0.6);
        }

        .container {
            padding: 2rem;
            max-width: 1200px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            margin-bottom: 3rem;
            color: white;
        }

        .header h1 {
            font-size: 3rem;
            font-weight: 800;
            margin-bottom: 1rem;
            text-shadow: 0 4px 20px rgba(0,0,0,0.3);
            background: linear-gradient(45deg, #fff, #f0f0f0);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .header p {
            font-size: 1.2rem;
            opacity: 0.9;
            margin-bottom: 2rem;
            font-style: italic;
        }

        .search-section {
            max-width: 600px;
            margin: 0 auto 3rem;
            position: relative;
        }

        .search-input {
            width: 100%;
            padding: 1rem 1.5rem 1rem 3rem;
            border: none;
            border-radius: 50px;
            font-size: 1.1rem;
            background: rgba(255,255,255,0.95);
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .search-input:focus {
            outline: none;
            box-shadow: 0 12px 40px rgba(0,0,0,0.2);
            transform: translateY(-2px);
        }

        .search-icon {
            position: absolute;
            left: 1rem;
            top: 50%;
            transform: translateY(-50%);
            color: #666;
            font-size: 1.2rem;
        }

        .stats-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(10px);
            padding: 1rem 1.5rem;
            border-radius: 15px;
            color: white;
        }

        .view-controls {
            display: flex;
            gap: 0.5rem;
        }

        .view-btn {
            padding: 0.5rem 1rem;
            border: none;
            border-radius: 8px;
            background: rgba(255,255,255,0.2);
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.85rem;
        }

        .view-btn.active {
            background: rgba(255,255,255,0.9);
            color: #333;
        }

        .documents-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 2rem;
            margin-bottom: 3rem;
        }

        .document-card {
            background: rgba(255,255,255,0.95);
            border-radius: 20px;
            padding: 2rem;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            transition: all 0.4s ease;
            border: 1px solid rgba(255,255,255,0.2);
            position: relative;
            overflow: hidden;
        }

        .document-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #667eea, #764ba2);
        }

        .document-card:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 20px 60px rgba(0,0,0,0.15);
        }

        .document-title { /* For Tibetan title on card */
            font-family: "Tibetan Machine Uni", "Noto Sans Tibetan", "Noto Serif Tibetan", serif;
            font-size: 1.3rem; /* Adjusted for Tibetan script */
            font-weight: 600; /* Tibetan often looks better slightly less bold */
            margin-bottom: 0.5rem; /* Reduced margin */
            color: #2d3748;
            line-height: 1.6; /* Adjusted for Tibetan */
        }

        .document-subtitle { /* For Chinese title on card */
            font-family: "Noto Serif TC", "Songti SC", serif;
            font-size: 1.1rem; /* Adjusted for Chinese */
            color: #4a5568;
            margin-bottom: 1rem;
            font-style: normal; /* Removed italic for prayer titles */
        }


        .document-meta {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
            margin-bottom: 1.5rem;
            font-size: 0.9rem;
            color: #666;
        }

        .meta-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .document-preview { /* For Tibetan preview on card */
            font-family: "Tibetan Machine Uni", "Noto Sans Tibetan", "Noto Serif Tibetan", serif;
            font-size: 1rem; /* Adjusted for preview */
            line-height: 1.8;
            color: #4a5568;
            margin-bottom: 1.5rem;
            max-height: 100px; /* Slightly reduced */
            overflow: hidden;
            position: relative;
            background: rgba(249, 250, 251, 0.5);
            padding: 0.8rem; /* Adjusted padding */
            border-radius: 8px;
            border-left: 3px solid #667eea;
        }

        .document-preview::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 30px;
            background: linear-gradient(transparent, rgba(255,255,255,0.95));
        }

        .document-actions {
            display: flex;
            gap: 1rem;
            justify-content: space-between;
            align-items: center;
        }

        .btn {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 12px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.9rem;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
        }

        .btn-secondary {
            background: rgba(0,0,0,0.05);
            color: #666;
            border: 1px solid rgba(0,0,0,0.1);
        }

        .btn-secondary:hover {
            background: rgba(0,0,0,0.1);
            transform: translateY(-1px);
        }

        /* Modal styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            backdrop-filter: blur(5px);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            animation: fadeIn 0.3s ease;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: white;
            border-radius: 20px;
            max-width: 90vw;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            margin: 2rem;
            box-shadow: 0 20px 80px rgba(0,0,0,0.3);
            animation: slideIn 0.3s ease;
        }
        #addArticleModal .modal-content {
            max-width: 700px; /* Specific width for add article modal */
        }


        .modal-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 1.5rem 2rem; /* Adjusted padding */
            border-radius: 20px 20px 0 0;
            position: sticky;
            top: 0;
            z-index: 10;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-header h2 {
            margin: 0;
            font-size: 1.3rem; /* Adjusted font size */
            font-family: "Noto Serif TC", "Songti SC", serif;
        }
        .modal-header .modal-title-tibetan {
            font-family: "Tibetan Machine Uni", "Noto Sans Tibetan", "Noto Serif Tibetan", serif;
            font-size: 1.1rem;
            opacity: 0.8;
            margin-top: 0.3rem;
        }


        .close-btn {
            background: none;
            border: none;
            color: white;
            font-size: 2rem;
            cursor: pointer;
            opacity: 0.8;
            transition: opacity 0.3s ease;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .close-btn:hover {
            opacity: 1;
            background: rgba(255,255,255,0.1);
        }

        .modal-body {
            padding: 2rem;
        }
        .modal-body h3 { /* Style for subheadings within modal */
            color: #6a0dad; /* Purple */
            font-size: 1.5em;
            margin-top: 20px;
            margin-bottom: 10px;
            border-left: 4px solid #6a0dad;
            padding-left: 8px;
        }


        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: #2d3748;
        }

        .form-control, .form-select, .form-textarea {
            width: 100%;
            padding: 0.8rem;
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            font-size: 1rem;
            transition: all 0.3s ease;
        }
        .form-textarea {
            min-height: 150px;
            resize: vertical;
            font-family: "Tibetan Machine Uni", "Noto Sans Tibetan", "Noto Serif TC", serif; /* Good for mixed input */
        }


        .form-control:focus, .form-select:focus, .form-textarea:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        
        /* Styles from 05.html for prayer text content in modal */
        .text-content-base { /* Base for modal content text */
             font-family: "Noto Serif TC", "Songti SC", serif; /* Default to Chinese elegant font */
            line-height: 1.8;
            color: #333;
            /* text-align: justify; Removed for individual control */
        }

        .tibetan-text {
            font-family: "Tibetan Machine Uni", "Noto Sans Tibetan", "Noto Serif Tibetan", serif; /* Ensure Tibetan fonts */
            font-size: 1.1em;
            line-height: 2; /* Tibetan might need larger line height */
            direction: ltr; /* Ensure left to right for Tibetan Machine Uni */
            text-align: left; /* Tibetan paragraphs are usually left-aligned */
            margin-bottom: 1em;
            white-space: pre-wrap; /* Preserve line breaks from textarea */
        }

        .chinese-text {
            font-family: "Noto Serif TC", "Songti SC", serif; /* Specific for Chinese */
            font-size: 1.05em;
            text-align: justify;
            margin-bottom: 1em;
            white-space: pre-wrap; /* Preserve line breaks from textarea */
        }
        .chinese-text p { /* Ensure paragraphs within chinese-text also get styled if structure is nested */
             margin-bottom: 1em;
             text-align: justify;
        }


        .colophon {
            font-style: italic;
            font-size: 0.9em;
            color: #666;
            margin-top: 20px;
            border-top: 1px dashed #ccc;
            padding-top: 15px;
            white-space: pre-wrap;
        }
        /* End of styles from 05.html */

        .message {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 1rem 1.5rem;
            border-radius: 10px;
            color: white;
            font-weight: 500;
            z-index: 1001;
            box-shadow: 0 4px 20px rgba(0,0,0,0.2);
            animation: slideInRight 0.3s ease;
        }

        .message.success {
            background: linear-gradient(135deg, #48bb78, #38a169);
        }

        .message.error {
            background: linear-gradient(135deg, #f56565, #e53e3e);
        }

        .message.info {
            background: linear-gradient(135deg, #4299e1, #3182ce);
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideIn {
            from { 
                opacity: 0;
                transform: translateY(-50px) scale(0.95);
            }
            to { 
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        @keyframes slideInRight {
            from { 
                opacity: 0;
                transform: translateX(100px);
            }
            to { 
                opacity: 1;
                transform: translateX(0);
            }
        }

        /* Responsive design */
        @media (max-width: 768px) {
            .sidebar {
                width: 250px;
                transform: translateX(-100%);
                transition: transform 0.3s ease;
            }

            .sidebar.open {
                transform: translateX(0);
            }

            .main-content {
                margin-left: 0;
            }

            .top-bar {
                padding: 1rem;
            }

            .container {
                padding: 1rem;
            }

            .header h1 {
                font-size: 2rem;
            }

            .documents-grid {
                grid-template-columns: 1fr;
                gap: 1rem;
            }

            .stats-bar {
                flex-direction: column;
                gap: 1rem;
            }

            .modal-content {
                margin: 1rem;
                max-width: calc(100vw - 2rem);
            }
            #addArticleModal .modal-content {
                max-width: calc(100vw - 2rem);
            }


            .menu-toggle {
                display: block !important; /* Ensure it's visible on mobile */
            }
        }

        .menu-toggle {
            display: none; /* Hidden by default on larger screens */
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            padding: 0.5rem;
            border-radius: 5px;
            transition: background 0.3s ease;
        }

        .menu-toggle:hover {
            background: rgba(255,255,255,0.1);
        }

        /* Additional visual effects */
        .floating-elements {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }

        .floating-element {
            position: absolute;
            width: 20px;
            height: 20px;
            background: rgba(255,255,255,0.1);
            border-radius: 50%;
            animation: float 6s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(180deg); }
        }
    </style>
</head>
<body>
    <div class="floating-elements">
        <div class="floating-element" style="top: 20%; left: 10%; animation-delay: 0s;"></div>
        <div class="floating-element" style="top: 60%; left: 80%; animation-delay: 2s;"></div>
        <div class="floating-element" style="top: 80%; left: 20%; animation-delay: 4s;"></div>
    </div>

    <!-- Left Sidebar -->
    <aside class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <h2 class="sidebar-title">課程目錄</h2>
            <p class="sidebar-subtitle">སློབ་ཚན་གྱི་དཀར་ཆག</p>
        </div>
        <nav class="course-menu" id="courseMenuContainer">
            <!-- Sidebar content will be dynamically generated here -->
        </nav>
    </aside>

    <!-- Main content area -->
    <main class="main-content">
        <!-- Top navigation bar -->
        <div class="top-bar">
            <div style="display: flex; align-items: center; gap: 1rem;">
                <button class="menu-toggle" onclick="toggleSidebar()">☰</button>
                <div class="breadcrumb" id="breadcrumbPath">
                    <span>🏠 首頁</span>
                    <span>></span>
                    <span id="currentDocCategory"></span>
                    <span>></span>
                    <span id="currentDocTitle"></span>
                </div>
            </div>
            <div class="user-section" id="userSection">
                <!-- User section content will be dynamically generated here -->
            </div>
        </div>

        <div class="container">
            <header class="header">
                <h1>才旺諾布全集閱讀系統</h1>
                <p>ཚེ་དབང་ནོར་བུའི་གསུང་འབུམ་ཀློག་སྟེགས། | Tsewang Norbu Complete Works Reading System</p>
            </header>

            <div class="search-section">
                <div style="position: relative;">
                    <span class="search-icon">🔍</span>
                    <input type="text" class="search-input" placeholder="搜尋文獻標題、內容或作者..." id="searchInput">
                </div>
            </div>

            <div class="stats-bar">
                <div class="view-controls">
                    <button class="view-btn active" id="gridViewBtn">📇 卡片檢視</button>
                    <button class="view-btn" id="listViewBtn">📋 清單檢視</button>
                </div>
                <div style="font-size: 0.9rem; opacity: 0.9;">
                    總計 <strong id="totalCount">0</strong> 部文獻
                </div>
            </div>

            <div class="documents-grid" id="documentsGrid">
                <!-- Document cards will be loaded here by JavaScript -->
            </div>
        </div>
    </main>

    <!-- Modal for displaying full document content -->
    <div class="modal" id="documentModal">
        <div class="modal-content">
            <div class="modal-header">
                <div>
                    <h2 id="modalTitle">Document Title</h2>
                    <div id="modalTitleTibetan" class="modal-title-tibetan">Tibetan Title (Optional)</div>
                </div>
                <button class="close-btn" onclick="closeModal('documentModal')">×</button>
            </div>
            <div class="modal-body text-content-base" id="modalBody">
                 <div id="modalTibetanContent"></div>
                 <hr style="margin: 30px 0; border: 0; border-top: 1px dashed #ccc;">
                 <div id="modalChineseContent"></div>
            </div>
        </div>
    </div>

    <!-- Modal for login -->
    <div class="modal" id="loginModal">
        <div class="modal-content" style="max-width: 450px;">
            <div class="modal-header">
                <h2>👤 系統登入</h2>
                <button class="close-btn" onclick="closeModal('loginModal')">×</button>
            </div>
            <div class="modal-body">
                <form id="loginForm">
                    <div class="form-group">
                        <label for="username">用戶名</label>
                        <input type="text" id="username" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label for="password">密碼</label>
                        <input type="password" id="password" class="form-control" required>
                    </div>
                    <button type="submit" class="btn btn-primary" style="width: 100%;">登入</button>
                </form>
            </div>
        </div>
    </div>

    <!-- Modal for adding new article -->
    <div class="modal" id="addArticleModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>📝 新增文獻</h2>
                <button class="close-btn" onclick="closeModal('addArticleModal')">×</button>
            </div>
            <div class="modal-body">
                <form id="addArticleForm">
                    <div class="form-group">
                        <label for="newTibetanTitle">藏文標題</label>
                        <input type="text" id="newTibetanTitle" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label for="newChineseTitle">中文標題</label>
                        <input type="text" id="newChineseTitle" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label for="newAuthor">作者</label>
                        <input type="text" id="newAuthor" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label for="newCategory">分類</label>
                        <input type="text" id="newCategory" class="form-control" placeholder="例如：祈請文、自傳" required>
                        <!-- Or a select: <select id="newCategorySelect" class="form-select"></select> -->
                    </div>
                    <div class="form-group">
                        <label for="newTags">標籤 (逗號分隔)</label>
                        <input type="text" id="newTags" class="form-control" placeholder="例如：長壽, 金剛結">
                    </div>
                    <div class="form-group">
                        <label for="newFullContentTibetan">藏文內容</label>
                        <textarea id="newFullContentTibetan" class="form-textarea" required></textarea>
                    </div>
                    <div class="form-group">
                        <label for="newFullContentChinese">中文內容 (包含跋文請用 <div class="colophon"> 包裹)</label>
                        <textarea id="newFullContentChinese" class="form-textarea" required></textarea>
                    </div>
                    <button type="submit" class="btn btn-primary" style="width: 100%;">儲存文獻</button>
                </form>
            </div>
        </div>
    </div>


    <!-- Message display area -->
    <div id="messageArea"></div>

    <script>
        let documentsData = []; // Will be populated from localStorage or initial data

        const initialDocuments = [ // Your hardcoded initial documents
            {
                id: 'mamo_secret',
                tibetanTitle: 'མ་མོ་གསང་བ་ལས་ཀྱི་ཐིག་ལེ།',
                chineseTitle: '媽嫫秘密業之明點',
                author: '蓮花生大師 (སློབ་དཔོན་པདྨ་སཾ་བྷཱ་བ)',
                category: '自傳',
                preview: 'དཔལ་ལྡན་མཁའ་འགྲོའི་ཚོགས་བཅས་ལ། །རྣམ་པར་བཏུད་དེ་ཕྱག་འཚལ་ལོ། །དབྱིངས་དང་ཡེ་ཤེས་དབྱེར་མེད་པའི། །མཁའ་འགྲོ་དྲུག་ཅུ་རྩ་བརྒྱད་ཀྱི། །...',
                tags: ['密續', '空行母', '儀軌'],
                meta: { words: '約 2,500 字', pages: '10 頁', readTime: '閱讀需要約 25 分鐘' },
                fullContentTibetan: `<p class="tibetan-text">དཔལ་ལྡན་མཁའ་འགྲོའི་ཚོགས་བཅས་ལ། །རྣམ་པར་བཏུད་དེ་ཕྱག་འཚལ་ལོ། །དབྱིངས་དང་ཡེ་ཤེས་དབྱེར་མེད་པའི། །མཁའ་འགྲོ་དྲུག་ཅུ་རྩ་བརྒྱད་ཀྱི། །གཙོ་མོ་སྲིད་པ་བདེ་འགྲོའི་ཐུགས། །གནས་ལུགས་ཐབས་དང་ཤེས་རབ་ཀྱིས། །འགྲོ་བ་འདྲེན་མཛད་ཡུམ་ཆེན་ལ། །གསོལ་བ་འདེབས་སོ་བྱིན་གྱིས་རློབས། །</p>`,
                fullContentChinese: `<p class="chinese-text">向具德空行母及眷屬，恭敬頂禮！<br>法界與智慧無二融合中，六十八空行母之主尊，輪迴善趣心要之所在，以實相方便與智慧，引導眾生之大佛母前，祈請加持！</p>`
            },
            {
                id: 'prayer1',
                tibetanTitle: ' ༈ ཚེ་སྒྲུབ་རྡོ་རྗེ་རྒྱ་མདུད་ཀྱི་གསོལ་འདེབས་མི་ཤིགས་དྭངས་མའི་དངོས་གྲུབ་ཅེས་བྱ་བ་བཞུགས་སོ། །',
                chineseTitle: '壽修金剛結之祈請文〈不滅精粹成就〉',
                author: '仁珍才旺諾布',
                category: '祈請文',
                preview: '༈ ཚེ་སྒྲུབ་རྡོ་རྗེ་རྒྱ་མདུད་ཀྱི་གསོལ་འདེབས་མི་ཤིགས་དྭངས་མའི་དངོས་གྲུབ་ཅེས་བྱ་བ་བཞུགས་སོ། །ཨོཾ་ཨཱ་ཧཱུྃ་ཧྲཱིཿ མི་ཤིག་དྭངས་མ་རྟག་བརྟན་གཡུང་དྲུང་གི །...',
                tags: ['長壽', '金剛結', '祈請'],
                meta: { words: '約 800 字', pages: '2 頁', readTime: '閱讀約 8 分鐘' },
                fullContentTibetan: `<p class="tibetan-text">
                ༈ ཚེ་སྒྲུབ་རྡོ་རྗེ་རྒྱ་མདུད་ཀྱི་གསོལ་འདེབས་མི་ཤིགས་དྭངས་མའི་དངོས་གྲུབ་ཅེས་བྱ་བ་བཞུགས་སོ། །<br>
                ཨོཾ་ཨཱ་ཧཱུྃ་ཧྲཱིཿ མི་ཤིག་དྭངས་མ་རྟག་བརྟན་གཡུང་དྲུང་གི །ངོ་བོར་རབ་བཞུགས་བདེ་ཆེན་འཁོར་ལོས་བསྒྱུར། །རྒྱལ་བ་རྒྱ་མཚོའི་སྤྲུལ་བཞི་འོད་དཔག་མེད། །ཚེ་བདག་མགོན་པོ་མཆོག་དེར་གསོལ་བ་འདེབས། །པདྨའི་རིགས་ཅན་ཡོངས་ཀྱི་བདག་པོ་ཆེ། །རྒྱལ་བ་སྲས་བཅས་ཐུགས་རྗེ་གཅིག་བསྡུས་དཔལ། །ལག་ན་པདྨོས་བརྒྱན་པ་སྤྱན་རས་གཟིགས། །འཇིག་རྟེན་དབང་ཕྱུག་མཆོག་དེར་གསོལ་བ་འདེབས། །ཕྱོགས་དུས་རྒྱལ་བ་ཡོངས་དང་སངས་རྒྱས་སྟོང་། །མཐུ་སྟོབས་བྱིན་རླབས་གཅིག་བསྡུས་ཀོ་ཥའི་མཚོར། །རང་བྱུང་རྡོ་རྗེ་སྐུ་བརྙེས་པདྨ་འབྱུང་། །མ་ནོར་བླ་མ་མཆོག་དེར་གསོལ་བ་འདེབས། །ཁ་སྦྱོར་ཡན་ལག་བདེ་བ་ཆེན་པོའི་སྐུ། །གྲུབ་པའི་རྒྱལ་མོ་ཡེ་ཤེས་མཚོ་རྒྱལ་མ། །སྟོང་ཉིད་མཁའ་ལ་སྙིང་རྗེའི་གཏེར་འགྲོ་བ། །མཁའ་འགྲོ་ཡིད་བཞིན་ནོར་བུར་གསོལ་བ་འདེབས། །སྤང་རྟོགས་མཐར་ཕྱིན་རྒྱལ་བར་ཡོངས་གྲུབ་ཀྱང་། །གདུལ་བྱར་སྨན་པའི་གཟུགས་སྐུར་ཅིར་ཡང་འཆར། །འདྲེན་པ་ཡོངས་ཀྱི་གཙོ་མཆོག་བདེ་ཆེན་གླིང་། །རིག་འཛིན་འཁོར་ལོས་གྱུར་དེར་གསོལ་བ་འདེབས། །གང་གིས་རྗེས་བཟུང་ཐུགས་ལས་སྐྱེས་པའི་སྲས། །ལུང་རྟོགས་ཆོས་ཀྱི་དམ་པའི་གདུང་འཚོབ་བ། །རྣལ་འབྱོར་རྡོ་རྗེ་ཚེ་དཔག་ནོར་བུའི་སྡེ། །དྲིན་ཆེན་བླ་མ་མཆོག་དེར་གསོལ་བ་འདེབས། །སྨིན་དབང་ཆུ་རྒྱུན་གྲོལ་བྱེད་གདམས་པའི་གཏེར། །ལེགས་པར་སྩོལ་ནས་ཐར་པ་མཆོག་སྦྱིན་མཛད། །འགྲོ་བའི་འདྲེན་མཆོག་བཀའ་དྲིན་ཟླ་མེད་མགོན། །འདྲེན་མཆོག་རྩ་བའི་བླ་མར་གསོལ་བ་འདེབས། །ཡི་དམ་དཀྱིལ་འཁོར་ཡོངས་ཀྱི་གཙོ་བོ་མཆོག །ཀུན་རྫོབ་དོན་དམ་འཆི་མེད་རྡོ་རྗེ་ཚེ། །འགྱུར་མེད་དངོས་གྲུབ་སྩོལ་མཛད་ཚེ་དཔག་མེད། །གོས་དཀར་མགྱོགས་མར་བཅས་ལ་གསོལ་བ་འདེབས། །ཚེ་ཡི་བར་ཆད་སེལ་ཞིང་འཕྲིན་ལས་བསྒྲུབ། །ཚངས་པ་བརྒྱ་བྱིན་ཕྱོགས་སྐྱོང་རྒྱལ་ཆེན་བཞི། །བདག་སྐྱོབས་ལྷ་དང་དཀར་པོའི་ཆོས་བསྲུང་བའི། །དམ་ཅན་རྒྱ་མཚོའི་ཚོགས་ལ་གསོལ་བ་འདེབས། །དེ་ལྟར་ཚེ་ཡི་དཀྱིལ་འཁོར་བླ་མ་ལྷར། །རྩེ་གཅིག་གསོལ་བ་བཏབ་པའི་བྱིན་རླབས་ཀྱིས། །བདག་སོགས་སྐྱེ་བ་ཚེ་རབས་ཐམས་ཅད་དུ། །མཐོ་རིས་ཡོན་ཏན་འཕགས་ནོར་བདུན་གྱིས་ཕྱུག །དལ་འབྱོར་རྟེན་ཐོབ་བཤེས་གཉེན་དམ་པས་བཟུང་། །བསླབ་གསུམ་རྣམ་དག་ཐེག་ཆེན་ས་ལམ་གྱིས། །ཡོན་ཏན་མ་ལུས་མྱུར་ཐོབ་རྩལ་ཆེན་རྫོགས། །དོན་གཉིས་ཕུན་ཚོགས་རྒྱལ་བའི་གནས་དམ་པ། །བདུད་སྡེའི་བཞི་བཅོམ་འཆི་མེད་རྡོ་རྗེའི་སྐུ། །སྐལ་པ་དྲུག་ལྡན་མཐའ་ཡས་འགྲོ་བའི་དཔལ། །སྲིད་ཞི་ལས་འདས་དེ་བཞིན་གཤེགས་པའི་གནས། །བདེ་ཆེན་མགོན་པོའི་གོ་འཕང་ལ་འཁོད་ཤོག །
 དེ་ལྟར་ཚེ་དང་ཡེ་ཤེས་དཔག་ཏུ་མེད་པའི་མན་ངག་འཆི་མེད་རྡོ་རྗེའི་རྒྱ་མདུད་ཀྱི་རྒྱུད་པའི་གསོལ་འདེབས་མི་ཤིག་དང་མ་ཡོངས་འགྲུབ་ཅེས་བྱ་བ་འདི་ནི་ཞ་ལུ་དགེ་སློང་རྡོ་རྗེ་འཛིན་པ་རིན་ཆེན་འཇམ་དཔལ་ཆོས་དར་གྱིས་ཡང་ནས་ཡང་དུ་གསུང་གིས་བསྐུལ་བར་རྟེན་རིག་འཛིན་ཚེ་དབང་ནོར་བུས་དྲག་པོ་ལྕགས་སྤྲེལ་ཆོ་འཕྲུལ་ཟླ་བའི་དམར་ཕྱོགས་ཚེས་བཅུའི་ཐུན་ཆ་ཤས་གཅིག་ཏུ་གློ་ལམ་དཀར་ནག་གི་དབུས་རྟག་བརྟན་རིན་པོ་ཆེ་དེ་དབུའི་སྐྱེད། བསམ་གཏན་སྒོམ་པའི་སྤྱིལ་པོ་འཆི་མེད་གཡུང་དྲུང་འཁྱིལ་བར་བྲིས་པ་སྟེ་དགེའོ། །སརྦ་མངྒ་ལཾ། <br>
                </p>`,
                fullContentChinese: `<p class="chinese-text">
                壽修金剛結之祈請文〈不滅精粹成就〉<br>
                嗡阿吽啥<br>
                不滅精粹恆常堅固之，體性安住大樂轉輪者，<br>
                勝者海會化基無量光，聖尊掌壽怙主誠祈請。<br>
                蓮花種姓遍盡之至尊，諸佛菩薩悲意合一德，<br>
                蓮花手為莊嚴觀世音，聖尊世間自在誠祈請。<br>
                遍方諸時勝者千佛陀，威力加持合一苟卡措，<br>
                證得自生金剛身蓮師，聖尊無誤上師誠祈請。<br>
                和合體肢大樂之身相，成就聖母智慧措嘉母，<br>
                空性虛空往行悲意藏，空行如意寶珠誠祈請。<br>
                斷證究竟圓成勝者佛，任現成熟化機色身相，<br>
                一切導師勝首德欽林，聖尊持明輪圍誠祈請。<br>
                隨學其尊攝受之意子，教證殊勝正法紹繼者，<br>
                瑜伽金剛長壽珍寶部，聖尊大恩上師誠祈請。<br>
                熟灌水流解脫竅訣藏，善加授予恩賜勝解脫，<br>
                眾生勝導無比恩德怙，勝導根本上師誠祈請。<br>
                所有本尊壇城之勝首，世俗勝義無死金剛壽，<br>
                賜予不變成就長壽佛，併同白衣迅母誠祈請。<br>
                泯除壽命厄難事業成，梵天帝釋護方四天王，<br>
                己方佑神白善護法神，具誓護法海會誠祈請。<br>
                如是壽命壇城上師尊，專一進行祈請加持力，<br>
                吾等士夫一切生世中，善趣功德七勝財富足。<br>
                獲得暇滿能依師攝受，三學清淨大乘地道途，<br>
                功德無餘速得圓大力，二利圓滿勝者真淨處。<br>
                摧滅四魔無死金剛身，具六福緣無邊眾生福，<br>
                超越有寂善逝如來處，安置大樂怙主之果位。<br>
                <div class="colophon">
                   如是無量智壽佛之口訣，立題曰無死金剛結之傳承祈請文不滅圓成乃依夏魯比丘多傑珍巴仁欽蔣貝秋達屢屢以語勸請故，仁珍才旺諾布(持明壽自在寶)於威猛鐵猴年神變月之下弦初十一座部份間，於洛路農牧區交界中央，修定之無死堅固茅茨中所書，善哉！芒嘎朗！
                </div>
                </p>`
            },
            {
                id: 'prayer2',
                tibetanTitle: '༈ རྫོགས་ཆེན་དཀོན་མཆོག་སྤྱི་འདུས་བརྒྱུད་པའི་གསོལ་འདེབས་རྒྱུན་ཁྱེར་ཡིད་བཞིན་གཏེར་སྦྱིན་ཞེས་བྱ་བ་བཞུགས་སོ། །',
                chineseTitle: '大圓滿三寶總集傳承祈請日修賜如意藏',
                author: '才旺諾布',
                category: '祈請文',
                preview: '༈ རྫོགས་ཆེན་དཀོན་མཆོག་སྤྱི་འདུས་བརྒྱུད་པའི་གསོལ་འདེབས་རྒྱུན་ཁྱེར་ཡིད་བཞིན་གཏེར་སྦྱིན་ཞེས་བྱ་བ་བཞུགས་སོ། །གུ་རུ་པདྨ་སིདྡྷི་ཧཱུྃ་ཧྲཱི༔ གདོད་ནས་བྱང་ཆུབ་སྤྲོས་བྲལ་བདེ་བ་ཆེ། །...',
                tags: ['大圓滿', '三寶總集', '傳承祈請'],
                meta: { words: '約 750 字', pages: '2 頁', readTime: '閱讀約 7 分鐘' },
                fullContentTibetan: `<p class="tibetan-text">
                ༈ རྫོགས་ཆེན་དཀོན་མཆོག་སྤྱི་འདུས་བརྒྱུད་པའི་གསོལ་འདེབས་རྒྱུན་ཁྱེར་ཡིད་བཞིན་གཏེར་སྦྱིན་ཞེས་བྱ་བ་བཞུགས་སོ། །<br>
                གུ་རུ་པདྨ་སིདྡྷི་ཧཱུྃ་ཧྲཱི༔ གདོད་ནས་བྱང་ཆུབ་སྤྲོས་བྲལ་བདེ་བ་ཆེ། །ཀུན་བཟང་འོད་དཔག་མེད་ལ་གསོལ་བ་འདེབས། །ཚད་མེད་སྙིང་རྗེའི་གཏེར་ཆེན་ཀུན་ཏུ་རྒྱས། །འཕགས་མཆོག་ནམ་མཁའི་རྒྱལ་པོར་གསོལ་བ་འདེབས། །རྒྱལ་ཀུན་ཡེ་ཤེས་འཕྲིན་ལས་གཅིག་བསྡུས་པ། །སངས་རྒྱས་པདྨ་འབྱུང་ལ་གསོལ་བ་འདེབས། །བདེ་ཆེན་གཉུག་མའི་ཆོས་དབྱིངས་ཞིང་གི་བདག །ཡེ་ཤེས་མཚོ་རྒྱལ་ཞབས་ལ་གསོལ་བ་འདེབས། །དྲི་མེད་འོད་གསལ་རྒྱས་པའི་རང་གཟུགས་ཉིད། །རིག་འཛིན་འཇའ་ཚོན་སྙིང་པོར་གསོལ་བ་འདེབས། །ཐོག་མེད་ཟང་ཐལ་བརྟུལ་ཞུགས་སྤྱོད་པའི་དཔལ། །རིག་འཛིན་བདུད་འདུལ་རྡོ་རྗེར་གསོལ་བ་འདེབས། །རྒྱུན་མཐའི་སར་བཞུགས་བྱང་སེམས་འགྲོ་བའི་མགོན། །རིག་འཛིན་ཀློང་གསལ་སྙིང་པོར་གསོལ་བ་འདེབས། །སྲིད་ཞི་སྤྱི་དཔལ་ཀུན་བཟང་སྒྱུ་འཕྲུལ་གར། །པདྨ་བདེ་ཆེན་གླིང་པར་གསོལ་བ་འདེབས། །སྙིགས་དུས་འགྲོ་འདུལ་དལ་བའི་འཕྲིན་ལས་པ། །རིག་འཛིན་ཚེ་དབང་ནོར་བུར་གསོལ་བ་འདེབས། །བདག་རྒྱུད་སྨིན་གྲོལ་མཛད་པའི་བཀའ་དྲིན་ཅན། །འདྲེན་མཆོག་རྩ་བའི་བླ་མར་གསོལ་བ་འདེབས། །ཡི་དམ་དཀྱིལ་འཁོར་རྒྱ་མཚོའི་གཙོ་བོ་མཆོག །གུ་རུ་ཞི་དང་དྲག་པོར་གསོལ་བ་འདེབས། །གནས་གསུམ་མཁའ་འགྲོ་ཡོངས་ཀྱི་སྤྱི་དཔལ་ཆེ། །ཌཱཀྐི་སིདྡྷ་མུ་ཁར་གསོལ་བ་འདེབས། །དེ་ལྟར་བླ་བསྒྲུབ་དཀོན་མཆོག་སྤྱི་འདུས་ཀྱི། །རྩ་བརྒྱུད་བླ་མ་ཡི་དམ་མཁའ་འགྲོ་མར། །རྩེ་གཅིག་གསོལ་བ་བཏབ་མཐུས་རྣལ་འབྱོར་བདག །དུས་འདི་ནས་བརྩམས་སྐྱེ་བ་ཇི་སྲིད་དུ། །དད་གུས་ཤེས་རབ་ལས་འབྲས་ཡིད་ཆེས་ལྡན། །དམ་པས་རྗེས་བཟུང་དབང་ཁྲིད་གདམས་པ་རྫོགས། །དམ་ཚིག་རྣམ་དག་བསྐྱེད་རྫོགས་ཡོན་ཏན་རྒྱས། །མཐོང་ཐོས་དྲན་རེག་འགྲོ་ཀུན་ཐར་ལམ་ལ། །འདྲེན་པའི་བྱེད་པོར་བདག་ཉིད་འགྱུར་བ་དང་། །མཐར་ཐུག་རང་དོན་ཆོས་ཀྱི་སྐུར་གྲོལ་ནས། །གཞན་དོན་གཟུགས་སྐུ་རྒྱུན་མི་ཆད་པ་ཡི། །ནམ་མཁའི་མཐའ་ཀླས་འགྲོ་བ་འདྲེན་བྱེད་པ། །མགོན་པོ་འོད་དཔག་མེད་དང་མཚུངས་པར་ཤོག །
དེ་ལྟར་བླ་བསྒྲུབ་གསོལ་འདེབས་ཡིད་བཞིན་གཏེར་སྦྱིན་ཞེས་བྱ་བ་འདི་ཡང་ས་ཕོ་རྟ་ཡི་ལོ་ཆོ་འཕྲུལ་ཟླ་བའི་དམར་ཕྱོགས་གང་བ་བོད་ཡུལ་དབུས་འགྱུར་བསམ་ཡས་ལྷུན་གྱིས་གྲུབ་པའི་གཙུག་ལག་ཁང་དབུས་སུ་རིག་འཛིན་ཚེ་དབང་ནོར་བུས་སྤོམ་རོང་རྗེ་འབངས་དད་པ་ཅན་གྱི་ངོར་བརྗོད་པ་དགེའོ། །དགེའོ། །དགེའོ། །བཀྲ་ཤིས།<br>
                </p>`,
                fullContentChinese: `<p class="chinese-text">
                大圓滿三寶總集傳承祈請日修賜如意藏<br>
                古魯貝瑪悉地吽啥<br>
                本初菩提離戲大安樂，普賢無量光前我祈請。<br>
                無量慈悲大藏遍充滿，聖尊虛空王前我祈請。<br>
                諸佛智慧事業總集者，佛陀蓮花生前我祈請。<br>
                大樂本淨法界剎土主，智慧海生妃前我祈請。<br>
                無垢光明顯現自形相，持明虹光藏前我祈請。<br>
                無始通達瑜伽行之相，持明降魔金剛我祈請。<br>
                究竟地住菩薩度眾怙，持明朗薩藏前我祈請。<br>
                輪涅總嚴普賢幻化舞，蓮師大樂藏前我祈請。<br>
                濁世調伏緩行事業者，持明才旺諾布我祈請。<br>
                令我成熟解脫大恩者，勝導根本上師我祈請。<br>
                所有本尊壇城之勝首，上師寂忿尊前我祈請。<br>
                三處空行總集大莊嚴，空行成就母前我祈請。<br>
                如是上師三寶總集之，根傳上師本尊諸空行。<br>
                一心祈請加持瑜伽我，從今乃至生生世世中。<br>
                信敬智慧業果具信解，蒙受聖者攝受灌頂圓。<br>
                戒律清淨生圓功德增，見聞憶觸眾生解脫道。<br>
                願成引導之人自成就，究竟自利法身解脫已。<br>
                利他色身相續無間斷，如同虛空無邊度眾生。<br>
                願同怙主無量光佛陀。<br>
                <div class="colophon">
                    此上師修持祈請文名為賜如意藏者，於陽土馬年神變月下弦圓滿日，於前藏桑耶自成殿中央，持明才旺諾布為崩絨王臣信眾宣說。善哉！善哉！善哉！吉祥！
                </div>
                </p>`
            },
            {
                id: 'prayer3',
                tibetanTitle: '༄༅། །འཇམ་དཔལ་ནག་པོ་ཐུགས་ཀྱིས་ཡང་ཞུན་གྱི་བླ་མ་བརྒྱུད་པའི་གསོལ་འདེབས་སོ། །',
                chineseTitle: '黑文殊意精滴之上師傳承祈請文',
                author: '才旺諾布',
                category: '祈請文',
                preview: '༄༅། །འཇམ་དཔལ་ནག་པོ་ཐུགས་ཀྱིས་ཡང་ཞུན་གྱི་བླ་མ་བརྒྱུད་པའི་གསོལ་འདེབས་སོ། །ཨོཾ་ཨཱཿཧཱུྃ། ཀུན་བཟང་འཇམ་དཔལ་པདྨ་ཐོད་ཕྲེང་རྩལ། །...',
                tags: ['黑文殊', '上師傳承', '祈請'],
                meta: { words: '約 200 字', pages: '1 頁', readTime: '閱讀約 2 分鐘' },
                fullContentTibetan: `<p class="tibetan-text">
                ༄༅། །འཇམ་དཔལ་ནག་པོ་ཐུགས་ཀྱིས་ཡང་ཞུན་གྱི་བླ་མ་བརྒྱུད་པའི་གསོལ་འདེབས་སོ། །<br>
                ཨོཾ་ཨཱཿཧཱུྃ། ཀུན་བཟང་འཇམ་དཔལ་པདྨ་ཐོད་ཕྲེང་རྩལ། །མངའ་བདག་ཡབ་སྲས་ཡེ་ཤེས་མཚོ་རྒྱལ་མ། །ཟབ་གཏེར་མངའ་བདག་ཨོ་རྒྱན་སངས་རྒྱས་གླིང་། །རང་སྲས་བདུན་བརྒྱུད་བདེ་ཆེན་དར་རྒྱས་དང་། །བཀའ་དྲིན་མཚུངས་མེད་བདེ་ཆེན་རབ་གསལ་ཞབས། །རྩ་བའི་བླ་མ་དྲན་ཆོག་འཁོར་ལོའི་མགོན། །འཇམ་དཔལ་ཡང་ཞུན་སྨིན་གྲོལ་བརྒྱུད་པ་ཡི། །བླ་མ་རྣམ་དང་ཡི་དམ་ལྷག་པའི་ལྷར། །རྩེ་གཅིག་གསོལ་བ་བཏབ་པའི་མཐུ་སྟོབས་ཀྱིས། །ལས་བཞི་ལྷུན་གྲུབ་གྲུབ་པ་ཆེ་བརྒྱད་ཐོབ། །ཁྱད་པར་ཚེ་དབང་ཕྱག་རྒྱ་ཆེ་མཆོག་གྲུབ། །འཇམ་དཔལ་གོ་འཕང་ཚེ་འདིར་ཐོབ་བྱིན་རློབས། །
ཞེས་འཇམ་དཔལ་ནག་པོ་ཐུགས་ཀྱི་ཡང་ཞུན་གྱི་བླ་མ་བརྒྱུད་པའི་གསོལ་འདེབས་འདི་ཡང་རིག་པ་འཛིན་པ་ཚེ་དབང་ནོར་བུས་སྦྱར་བའོ། །སརྦ་མངྒ་ལཾ། །<br>

                </p>`,
                fullContentChinese: `<p class="chinese-text">
                黑文殊意精滴之上師傳承祈請文<br>
                嗡阿吽<br>
                普賢文殊蓮師顱鬘力，主尊父子耶喜措嘉母，<br>
                深伏藏主鄔金桑傑林，自子七傳德欽達吉尊。<br>
                恩德無比德欽繞薩尊，根本上師憶起輪怙主，<br>
                文殊精滴成熟解脫傳，上師眾與本尊勝天尊。<br>
                一心祈請加持威力故，四業任運成就八大得，<br>
                尤以壽命手印大勝成，加持此生證得文殊位。<br>
                <div class="colophon">
                    此黑文殊心精華上師傳承祈請文乃持明才旺諾布所造。芒嘎朗！
                </div>
                </p>`
            },
            {
                id: 'prayer4',
                tibetanTitle: '༈ སྙན་བརྒྱུད་བླ་མ་ཡང་གསང་པདྨ་འོད་འབར་གྱི་བརྒྱུད་པའི་གསོལ་འདེབས་ཡིད་བཞིན་ཏོག་གི་ཕྲེང་བ་བཞུགས་སོ། །',
                chineseTitle: '耳傳上師極密蓮花光焰傳承祈請文 如意頂嚴鬘',
                author: '才旺諾布',
                category: '祈請文',
                preview: '༈སྙན་བརྒྱུད་བླ་མ་ཡང་གསང་པདྨ་འོད་འབར་གྱི་བརྒྱུད་པའི་གསོལ་འདེབས་ཡིད་བཞིན་ཏོག་གི་ཕྲེང་བ་བཞུགས་སོ། །ཨོཾ་ཨཱཿཧཱུྃ་ཧྲཱིཿ ཁྱབ་བརྡལ་ཕྱོགས་བྲལ་ཆོས་དབྱིངས་ཞིང་ཁམས་སུ། །...',
                tags: ['耳傳', '蓮花光焰', '傳承祈請'],
                meta: { words: '約 1200 字', pages: '3 頁', readTime: '閱讀約 12 分鐘' },
                fullContentTibetan: `<p class="tibetan-text">
                ༈སྙན་བརྒྱུད་བླ་མ་ཡང་གསང་པདྨ་འོད་འབར་གྱི་བརྒྱུད་པའི་གསོལ་འདེབས་ཡིད་བཞིན་ཏོག་གི་ཕྲེང་བ་བཞུགས་སོ། །<br>
                ཨོཾ་ཨཱཿཧཱུྃ་ཧྲཱིཿ ཁྱབ་བརྡལ་ཕྱོགས་བྲལ་ཆོས་དབྱིངས་ཞིང་ཁམས་སུ། །རང་བྱུང་ཡེ་སངས་རྒྱས་པ་གདོད་མའི་མགོན། །རྒྱལ་ཀུན་མེས་པོ་ཀུན་བཟང་ཡབ་ཡུམ་ལ། །གསོལ་བ་འདེབས་སོ་དབང་བསྐུར་བྱིན་གྱིས་རློབས། །ཧཱུྃ་ཧཱུྃ་ཧཱུྃཿ བདེ་ཆེན་འདུས་མ་བྱས་པའི་ཞིང་ཁམས་སུ། །སྐུ་ལྔའི་བདག་ཉིད་གསུང་གི་རྡོ་རྗེ་འཆང་། །པདྨ་རྒྱལ་པོ་འོད་དཔག་མེད་མགོན་ལ། །གསོལ་བ་འདེབས་སོ་དབང་བསྐུར་བྱིན་གྱིས་རློབས། །ཧཱུྃ་ཧཱུྃ་ཧཱུྃཿ འོད་ལྔ་ཐིག་ལེ་འདུས་པའི་ཞིང་ཁམས་སུ། །རིགས་རྣམས་ཀུན་འདུས་སྒྱུ་འཕྲུལ་དྲ་བའི་གཙོ། །རིག་པ་ཡེ་ཤེས་རྡོ་རྗེ་སེམས་མཆོག་ལ། །གསོལ་བ་འདེབས་སོ་དབང་བསྐུར་བྱིན་གྱིས་རློབས། །ཧཱུྃ་ཧཱུྃ་ཧཱུྃཿ འགྱུར་མེད་པདྨ་འོད་ཀྱི་ཞིང་ཁམས་སུ། །དུས་གསུམ་སངས་རྒྱས་ཡོངས་ཀྱི་ངོ་བོ་ཉིད། །མཚོ་སྐྱེས་སངས་རྒྱས་པདྨ་འབྱུང་གནས་ལ། །གསོལ་བ་འདེབས་སོ་དབང་བསྐུར་བྱིན་གྱིས་རློབས། །ཧཱུྃ་ཧཱུྃ་ཧཱུྃཿ འཕོ་མེད་དགའ་བཞིའི་དངས་མའི་ཞིང་ཁམས་སུ། །རྒྱལ་ཀུན་སྐྱེད་མཛད་ཤེས་རབ་ཕ་རོལ་ཕྱིན། །བདེ་ཆེན་རྒྱལ་ཡུམ་ཡེ་ཤེས་མཚོ་རྒྱལ་ལ། །གསོལ་བ་འདེབས་སོ་དབང་བསྐུར་བྱིན་གྱིས་རློབས། །ཧཱུྃ་ཧཱུྃ་ཧཱུྃཿ ཟག་བྲལ་གཉུག་མ་རང་གསལ་ཞིང་ཁམས་སུ། །རིག་པའི་རྩལ་རྫོགས་རྒྱལ་བ་ཀུན་གྱི་སྲས། །བདུད་འདུལ་ནུས་ལྡན་རྡོ་རྗེ་རྩལ་འཆང་ལ། །གསོལ་བ་འདེབས་སོ་དབང་བསྐུར་བྱིན་གྱིས་རློབས། །ཧཱུྃ་ཧཱུྃ་ཧཱུྃཿ མ་ཚོགས་མཁའ་འགྲོ་འདུ་བའི་ཞིང་ཁམས་སུ། །འགྲོ་བ་ཡོངས་འདུལ་བརྟུལ་ཞུགས་ནུས་པའི་བདག །པདྨ་ནོར་བུ་རྡོ་རྗེ་གཟི་བརྗིད་ལ། །གསོལ་བ་འདེབས་སོ་དབང་བསྐུར་བྱིན་གྱིས་རློབས། །ཧཱུྃ་ཧཱུྃ་ཧཱུྃཿ སྐལ་ལྡན་སྨིན་ཅིང་གྲོལ་བའི་ཞིང་ཁམས་སུ། །རིག་འཛིན་ཆེན་པོ་ཡོངས་ཀྱི་འཁོར་ལོས་བསྒྱུར། །དྲན་མཆོག་དང་མ་པདྨ་བདེ་ཆེན་ལ། །གསོལ་བ་འདེབས་སོ་དབང་བསྐུར་བྱིན་གྱིས་རློབས། །ཧཱུྃ་ཧཱུྃ་ཧཱུྃཿ ཕྱོགས་མེད་འགྲོ་དོན་སྐྱོངས་པའི་ཞིང་ཁམས་སུ། །འབྲེལ་ཚད་དོན་ལྡན་མཆོག་གི་སྤྲུལ་བའི་སྐུ། །རིག་པ་འཛིན་པ་ཚེ་དབང་ནོར་བུ་ལ། །གསོལ་བ་འདེབས་སོ་དབང་བསྐུར་བྱིན་གྱིས་རློབས། །ཧཱུྃ་ཧཱུྃ་ཧཱུྃཿ སྤྱི་གཙུག་བདེ་ཆེན་དག་པའི་ཞིང་ཁམས་སུ། །བཀའ་དྲིན་གསུམ་ལྡན་འཁོར་ལོའི་དབང་ཕྱུག་ཆེ། །རྩ་བའི་བླ་མ་རྡོ་རྗེ་འཆང་ཆེན་ལ། །གསོལ་བ་འདེབས་སོ་དབང་བསྐུར་བྱིན་གྱིས་རློབས། །ཧཱུྃ་ཧཱུྃ་ཧཱུྃཿ སྣང་བ་དག་པ་ཆོས་ཀྱི་ཞིང་ཁམས་སུ། །རྡོ་རྗེ་སློབ་དཔོན་དབང་ཁྲིད་ལྟ་སྤྱོད་མཐུན། །དམ་ཚིག་ཆིག་འདྲེས་རྡོ་རྗེ་མཆེད་ལྕམ་ལ། །གསོལ་བ་འདེབས་སོ་དབང་བསྐུར་བྱིན་གྱིས་རློབས། །ཧཱུྃ་ཧཱུྃ་ཧཱུྃཿ འཇའ་ལུས་མེ་དཔུང་ཐིག་ལེའི་ཞིང་ཁམས་སུ། །ཡི་དམ་དཀྱིལ་འཁོར་ཀུན་གྱི་གཙོ་བོ་མཆོག །གཏུམ་དྲག་མེ་འཕྲེང་རྡོ་རྗེ་གྲོ་ལོད་ལ། །གསོལ་བ་འདེབས་སོ་དབང་བསྐུར་བྱིན་གྱིས་རློབས། །ཧཱུྃ་ཧཱུྃ་ཧཱུྃཿ གནས་གསུམ་དག་པ་ལྷ་ཡི་ཞིང་ཁམས་སུ། །སྒྲུབ་མཆོག་རྟག་ཏུ་སྐྱོང་ལ་གཡེལ་མེད་པ། །མ་མོ་མཁའ་འགྲོ་དཔའ་བོའི་ཚོགས་བཅས་ལ། །གསོལ་བ་འདེབས་སོ་དབང་བསྐུར་བྱིན་གྱིས་རློབས། །ཧཱུྃ་ཧཱུྃ་ཧཱུྃཿ མཁའ་སྤྱོད་རྔམ་པ་སྒྲ་སྒྲོག་ཞིང་ཁམས་སུ། །ལས་དང་ཡེ་ཤེས་སྲུང་མ་ཀུན་གྱི་མཐུ། །གཅིག་འདུས་ཉེ་མགོན་གཟི་ལྡན་ཡབ་ཡུམ་ལ། །གསོལ་བ་འདེབས་སོ་དབང་བསྐུར་བྱིན་གྱིས་རློབས། །ཧཱུྃ་ཧཱུྃ་ཧཱུྃཿ དེ་ལྟར་སྙིང་ཐིག་བླ་བསྒྲུབ་བརྒྱུད་པ་ཡི། །བླ་མ་ལྷ་དང་མཁའ་འགྲོ་ཆོས་སྐྱོང་ལ། །རྩེ་གཅིག་གུས་པ་དྲག་པོས་གསོལ་བཏབ་མཐུས། །ཁྱེད་ཀྱི་བརྩེ་ཆེན་ཐུགས་རྗེ་གཟི་བྱིན་གྱིས། །ནུས་པའི་ཤུགས་ཕྱུང་སྐད་ཅིག་ད་ལྟ་འདིར། །བདག་གི་ཉོན་མོངས་འཁྲུལ་རྟོག་ཀུན་བཅོམ་ནས། །འཇིག་རྟེན་འཇིག་རྟེན་ལས་འདས་དངོས་གྲུབ་ཀུན། །རྩ་བའི་བླ་མའི་བྱིན་རླབས་ཡོངས་ཞུགས་ཏེ། །ཨ་ཏི་རྫོགས་ཆེན་ཉམས་རྟོགས་རྩལ་རྫོགས་ཤིང་། །ཕུང་ཁམས་འཕོ་ཆེན་འཇའ་ལུས་རྡོ་རྗེའི་སྐུ། །མངོན་གྱུར་ཡེ་ཤེས་ཡོན་ཏན་ཡོངས་རྫོགས་ཤོག །དེ་ལྟར་མ་ཐོབ་བར་དུ་སྐྱེ་བ་ཀུན། །ཁམས་དྲུག་མངོན་མཐོ་ངེས་ལེགས་བརྒྱན་ཐོབ་ཅིང་། །འཇིགས་ཞི་འབྱོར་རྒྱས་ཆོས་མིན་རྣམ་རྟོག་འགག །དམ་ཚིག་སེལ་མེད་བླ་མའི་དགྱེས་དགུ་འགྲུབ། །ས་ལམ་ཡོན་ཏན་གོང་ནས་གོང་འཕེལ་ཤོག །སྣང་སྲིད་ཐམས་ཅད་འོད་གསལ་གཞོམ་མེད་ཅིང་། །སྒྲ་གྲགས་ནཱ་ད་དྲན་རྟོག་གཟུང་འཛིན་བྲལ། །འུབ་ཆུབ་ཀུན་བཟང་དགོངས་པའི་དབྱིངས་ཉིད་དུ། །ཁམས་གསུམ་འགྲོ་འདྲེན་བྱེད་པོར་བདག་གྱུར་ཅིག །
ཅེས་སྙིང་ཐིག་སྙན་བརྒྱུད་བླ་བསྒྲུབ་ཀྱི་གསོལ་འདེབས་འདི་ནི་དད་ལྡན་སྦྱིན་བདག་དཔོན་དྲུང་ཚེ་དབང་དཔལ་འབྱོར་རབ་རྒྱས་དང་ཆོས་མཛད་ཡེ་ཤེས་པད་དཀར་ཆོས་ཉིད་རང་བྱུང་སྙན་གྲགས་ལྔའི་ཡང་ཡང་བསྐུལ་ངོར། མདོ་ཁམས་ཀཿཐོག་ལྷོ་ཕྱོགས་འོད་གསལ་ལྷ་རིས་སྐྱེས་པའི་རིག་པ་འཛིན་པ་ཚེ་དབང་ནོར་བུ་འགྲོ་བ་ཡོངས་འདུལ་རྩལ་གྱིས་སྟོད་མངའ་རིས་གློ་བོ་སྨད་རྒྱ་གར་དང་བོད་ཀྱི་མཚམས་བཀག་པའི་ས་མཐའ་བསམ་འགྲུབ་ཆོས་ལྡིངས་སུ་ས་བྱ་རྒྱལ་ཟླ་དམར་ཕྱོགས་ཉ་ལ་༸བླ་མའི་དུས་མཆོད་སྐབས་སུ་ཐུན་གཅིག་བྲིས་པའོ། །མངྒ་ལཾ། བཀྲ་ཤིས།<br>
                </p>`,
                fullContentChinese: `<p class="chinese-text">
                耳傳上師極密蓮花光焰傳承祈請文<br>
                如意頂嚴鬘<br>
                嗡阿吽啥<br>
                遍滿離方法界剎土中，自生本淨佛陀本初尊，<br>
                諸佛祖師普賢父母前，祈請賜予灌頂作加持。<br>
                吽吽吽<br>
                大樂無為清淨剎土中，五身自性語金剛持尊，<br>
                蓮華王與無量光怙前，祈請賜予灌頂作加持。<br>
                吽吽吽<br>
                五光明點融聚剎土中，諸部總集幻化網中尊，<br>
                明覺智慧金剛勝心前，祈請賜予灌頂作加持。<br>
                吽吽吽<br>
                不變蓮花光明剎土中，三世諸佛總集體性尊，<br>
                蓮生佛陀蓮花生處前，祈請賜予灌頂作加持。<br>
                吽吽吽<br>
                無遷四喜精華剎土中，諸佛生主般若到彼岸，<br>
                大樂佛母耶喜措嘉前，祈請賜予灌頂作加持。<br>
                吽吽吽<br>
                離垢本性自明剎土中，明覺力圓諸佛勝子尊，<br>
                降魔具力金剛力持前，祈請賜予灌頂作加持。<br>
                吽吽吽<br>
                母眾空行聚集剎土中，普度眾生瑜伽力自在，<br>
                蓮花寶珠金剛威嚴前，祈請賜予灌頂作加持。<br>
                吽吽吽<br>
                具緣成熟解脫剎土中，持明大尊一切轉輪王，<br>
                憶勝丹瑪蓮花大樂前，祈請賜予灌頂作加持。<br>
                吽吽吽<br>
                無方利生守護剎土中，結緣具義殊勝化身尊，<br>
                持明自在才旺諾布前，祈請賜予灌頂作加持。<br>
                吽吽吽<br>
                頂嚴大樂清淨剎土中，具三恩德輪迴自在王，<br>
                根本上師大金剛持前，祈請賜予灌頂作加持。<br>
                吽吽吽<br>
                顯相清淨法界剎土中，金剛阿闍梨灌頂見行合，<br>
                戒律一味金剛兄妹前，祈請賜予灌頂作加持。<br>
                吽吽吽<br>
                虹身火聚明點剎土中，本尊壇城一切勝主尊，<br>
                忿怒火鬘金剛卓洛前，祈請賜予灌頂作加持。<br>
                吽吽吽<br>
                三處清淨天界剎土中，修勝恆時守護不放逸，<br>
                瑪摩空行勇士眾等前，祈請賜予灌頂作加持。<br>
                吽吽吽<br>
                空行威猛雷鳴剎土中，事業智慧護法眾力量，<br>
                一體近怙具威父母前，祈請賜予灌頂作加持。<br>
                吽吽吽<br>
                如是心滴上師修持傳，上師本尊空行護法前，<br>
                一心敬信猛厲作祈請，蒙汝大悲慈愛威光加，<br>
                發起力用此刻剎那間，摧滅我之煩惱諸迷念，<br>
                世間出世間諸悉地中，根本上師加持悉融入，<br>
                阿底大圓證悟力圓滿，蘊界大遷虹身金剛體，<br>
                現證智慧功德皆圓滿，未得此前所有諸生中，<br>
                六界增上決定莊嚴得，怖除富盛非法分別斷，<br>
                戒律不離上師歡喜成，地道功德轉復增上進，<br>
                顯有一切光明堅固中，聲響那達離諸能所執，<br>
                覺悟普賢密意界中時，願成三界導師我自身。<br>
                <div class="colophon">
                此心滴耳傳上師修持祈請文，乃應具信施主官長才旺班覺饒傑與法師耶喜白蓮法性自生聲譽五者再三勸請，由東康噶陀南方光明天繪生持明才旺諾布調伏眾生尊，於上芒日阿波朵印藏邊界桑珠秋丁，木雞年十二月下弦望日上師薦福時一座間所書。吉祥圓滿。
                </div>
                </p>`
            },
            {
                id: 'prayer5',
                tibetanTitle: '༈ རྫོགས་ཆེན་མཁའ་འགྲོ་སྙིང་ཐིག་གི་བརྒྱུད་པ་བླ་མའི་གསོལ་འདེབས་ངེས་དོན་སྙིང་པོའི་བཅུད་ལེན་ཞེས་བྱ་བ་བཞུགས་སོ། །',
                chineseTitle: '大圓滿空行心要傳承上師祈請文定解心髓甘露滴',
                author: '才旺諾布',
                category: '祈請文',
                preview: '༈ རྫོགས་ཆེན་མཁའ་འགྲོ་སྙིང་ཐིག་གི་བརྒྱུད་པ་བླ་མའི་གསོལ་འདེབས་ངེས་དོན་སྙིང་པོའི་བཅུད་ལེན་ཞེས་བྱ་བ་བཞུགས་སོ། །ཨ་ཧོ། མ་བཅོས་མཐའ་བྲལ་གདོད་ནས་སྣང་བའི་མགོན། །...',
                tags: ['大圓滿', '空行心要', '傳承祈請'],
                meta: { words: '約 1500 字', pages: '4 頁', readTime: '閱讀約 15 分鐘' },
                fullContentTibetan: `<p class="tibetan-text">
                ༈ རྫོགས་ཆེན་མཁའ་འགྲོ་སྙིང་ཐིག་གི་བརྒྱུད་པ་བླ་མའི་གསོལ་འདེབས་ངེས་དོན་སྙིང་པོའི་བཅུད་ལེན་ཞེས་བྱ་བ་བཞུགས་སོ། །<br>
                ཨ་ཧོ། མ་བཅོས་མཐའ་བྲལ་གདོད་ནས་སྣང་བའི་མགོན། །གཡོ་མེད་ཡེ་ཤེས་རྒྱལ་བ་ཀུན་གྱི་དཔྱིད། །མ་སྐྱེ་འགག་མེད་བརྡལ་ཁྱབ་ཀུན་ཏུ་བཟང་། །གསོལ་བ་འདེབས་སོ་མཆོག་གི་དངོས་གྲུབ་སྩོལ། ། ༡ དམིགས་མེད་སྤྲོས་བྲལ་འོད་གསལ་མི་འགྱུར་ཡུམ། །རྒྱལ་ཀུན་ཐུགས་མཆོག་རྡོར་སེམས་གསང་བའི་བདག །མཚན་དཔེ་ཡོངས་རྫོགས་མཆོག་སྤྲུལ་དགའ་རབ་རྗེ། །གསོལ་བ་འདེབས་སོ་མཆོག་གི་དངོས་གྲུབ་སྩོལ། ། ༢ རང་རིག་དབང་ཐོབ་རིག་འཛིན་ཤྲཱི་སེང་། །རྫོགས་སངས་རྒྱས་དངོས་གུ་རུ་པདྨ་འབྱུང་། །ཟག་མེད་འཇའ་ལུས་མཁའ་འགྲོ་མཚོ་རྒྱལ་ལ། །གསོལ་བ་༝ གསང་གཏེར་སྙིང་ཐིག་སྒོ་འབྱེད་ལས་འབྲེལ་སྩལ། །བསྟན་པའི་སྒྲོན་མེ་རྒྱལ་སྲས་ལེགས་ལྡན་པ། །རྒྱལ་བ་གཉིས་པ་རང་བྱུང་རྡོ་རྗེ་འཆང་། །གསོལ་བ་༝ གསང་སྔགས་གྲུབ་པའི་དབང་ཕྱུག་གཡུང་སྟོན་དཔལ། །ཐམས་ཅད་མཁྱེན་གཟིགས་ཀརྨ་ཀ་རོལ་རྡོར། །གསོལ་བ་༝ རྟོགས་ལྡན་རྒྱལ་པོ་ནམ་མཁའ་རྡོ་རྗེ་མཆོག །ལུང་རྟོགས་བསྟན་པའི་གསལ་བྱེད་ཚུལ་ཁྲིམས་འབུམ། །ཡང་དག་དོན་བརྙེས་ཚུལ་ཁྲིམས་རྒྱལ་བའི་མཚན། །གསོལ་བ་འདེབས་སོ་ ༝ ངེས་གསང་འཕྲིན་ལས་སྤེལ་མཁས་ཆོས་འབུམ་ཞབས། །འདུལ་དཀའ་ཡོངས་འདུལ་ཡེ་ཤེས་རྒྱལ་བའི་མཚན། །འགྲོ་ལ་བརྩེ་གཟིགས་ཆོས་རྗེ་བྱང་ཆུབ་སེང་། །རྫ་ཡིག་ཀུན་མཁྱེན་ཆེན་པོ་ཚུལ་ཁྲིམས་རྒྱལ། །རྩེ་ལེ་རིག་འཛིན་བསོད་ནམས་རྣམ་པར་རྒྱལ། །རྒྱལ་བའི་ཐུགས་སྲས་བསྟན་འཛིན་མཆོག་དབྱངས་ཞབས། །གསོལ་བ་༝ ཆོས་ཉིད་མངོན་གྱུར་ཀུན་བཟང་དཔལ་འབྱོར་བ། །གསང་སྔགས་གྲུབ་བརྙེས་མདོ་སྔགས་བསྟན་འཛིན་བཟང་། །རིམ་གཉིས་མངོན་འགྱུར་འཕྲིན་ལས་ལྷུན་གྲུབ་ལ། །གསོལ་བ་༝ གསང་ཆེན་སྟོན་པ་འགྱུར་མེད་རྡོ་རྗེ་སྩལ། །ཐུགས་ཀྱི་སྲས་མཆོག་ཨོ་རྒྱན་རྣམ་གྲོལ་བཟང་། །སྙིང་པོའི་དོན་གཏེར་དཔལ་ལྡན་བླ་མ་རྗེ། །གསོལ་བ་༝ རབ་འབྱམས་རིགས་དང་དཀྱིལ་འཁོར་ཀུན་གྱི་གཙོ། །བྱིན་རླབས་རྩ་བ་བརྒྱུད་པའི་བླ་མ་དང་། །ཡི་དམ་ཞི་ཁྲོ་མཁའ་འགྲོ་ཆོས་སྐྱོང་ལ། །རྩེ་གཅིག་གུས་པའི་སེམས་ཀྱིས་གསོལ་བ་འདེབས། །བདག་ནི་དེང་ནས་རྫོགས་སངས་མ་རྒྱས་བར། །ངན་སོང་གནས་སྤོང་བདེ་འགྲོ་རྟག་ཐོབ་ཅིང་། །མཐོ་རིས་ཡོན་ཏན་འཕགས་ནོར་བདུན་གྱིས་ཕྱུག །ཡང་དག་ལམ་ནས་ཕྱིར་མི་ལྡོག་པར་ཤོག །སྐྱེ་ཀུན་མཚན་ཉིད་ཀུན་ཚང་བླ་མ་དང་། །ལེགས་འཕྲད་ཐུགས་ཀྱི་དགྱེས་དགུ་བདག་གིས་གྲུབ། །ཟབ་གསང་འོད་གསལ་རྡོ་རྗེ་སྙིང་པོའི་དོན། །མ་འདུས་ཡོངས་རྫོགས་བདག་གིས་ཐོབ་པར་ཤོག །ཆོས་མིན་ལས་ལ་སྐད་ཅིག་མི་འཇུག་ཅིང་། །ཆོས་བཞིན་སྤྱོད་པར་ཉིན་མཚན་དུས་འདའ་ནས། །ས་ལམ་དྲོད་ཚད་མ་ལུས་ཚེ་གཅིག་རྫོགས། །རང་གཞན་དོན་གཉིས་འབད་མེད་ལྷུན་གྲུབ་ཤོག །ཁྲེགས་ཆོད་ལྟ་བའི་གནས་ལུགས་མཐར་ཐུག་རྟོགས། །ཐོད་བརྒལ་མངོན་གསུམ་སྒོམ་པ་ཟད་པར་འཁྱོལ། །རྣམ་དག་སྤྱོད་པས་འགྲོ་ལ་ཕན་ཆེན་འགྲུབ། །མི་སློབ་ས་མཆོག་ཚེ་འདི་ཉིད་བརྙེས་ཤོག །ཆོས་ཀུན་གདོད་མའི་གནས་ལུགས་སྤྲོས་དང་བྲལ། །མཐའ་རྒྱས་ལས་འདས་ཐེག་དགུའི་ཡོངས་རྩེ་མཆོག །ཡིད་དཔྱོད་བྱར་མེད་འོད་གསལ་རྫོགས་པ་ཆེ། །མངོན་འགྱུར་གདོས་བཅས་འོད་སྐུར་ཡལ་བར་ཤོག །དམིགས་བསམ་བློ་ཡིས་བཅོས་མས་མ་གོས་པ། །ཡིད་བྱེད་ཀུན་བྲལ་ཆོས་ཉིད་མངོན་སུམ་དུ། །སྣང་བ་བརྡ་དོན་རྟགས་གསུམ་དབྱེར་མེད་ལམ། །རྩོད་བྲལ་ཨ་ཏིའི་རྟོགས་པ་མངོན་གྱུར་ཤོག །དུས་ཀུན་རྒྱུ་འབྲས་ལས་ལ་ཡིད་ཆེས་ཤིང་། །རྒྱུ་འབྲས་ལས་འདས་ལྟ་བའི་གདེངས་ཚད་ཐོབ། །ནམ་ཡང་གསང་སྔགས་དམ་ཚིག་ཉམས་མེད་བསྟན། །ཡེ་བསྲུང་སྤྲོས་བྲལ་ཆེན་པོར་རྟག་གནས་ཤོག །ཚེ་འདིའི་བསླུ་བྲིད་ཆོས་ལ་མི་ཞེན་པར། །ངེས་གསང་བླ་མེད་ལམ་མཆོག་ལ་ཞུགས་ནས། །རང་གཞན་དོན་གཉིས་འགྲུབ་པའི་དབང་ཕྱུག་ཆེ། །སྐུ་གསུམ་རྒྱལ་བའི་གོ་འཕང་མཆོག་བརྙེས་ཤོག །ཚེ་རབས་རྟག་ཏུ་ཡང་གསང་རྫོགས་ཆེན་དོན། །དབང་འབྱོར་རྒྱལ་བསྟན་འགྲོ་ལ་ཕན་ཆེན་གྲུབ། །འཕགས་ནོར་བདུན་ལྡན་རྒྱུད་འཛིན་སློབ་སྲིད་རྒྱས། །ཚོམ་བུ་གཅིག་ཏུ་འགྲོ་ཀུན་བྱང་ཆུབ་ཤོག །
 ཅེས་རྫོགས་ཆེན་མཁའ་འགྲོ་སྙིང་ཐིག་གི་གསོལ་འདེབས་སུ་རྣམ་པར་དཀར་བའི་ལས་ལ་མཆོག་ཏུ་བརྩོན་ཞིང་ངེས་གསང་རྫོགས་པ་ཆེན་པོར་མི་ཕྱེད་པའི་དད་གུས་ཅན་སྐལ་ལྡན་མི་མཆོག་ལྕགས་བྲག་སྡེ་པ་ལྟ་བུ་ཚེ་རིང་དོན་ལྡན་ནམ་ཀུན་བཟང་ངེས་དོན་རང་གྲོལ་དབང་པོའི་གསུང་གིས་བསྐུལ་ངོར་མདོ་ཁམས་ཀཿཐོག་གི་ལྷོ་ཕྱོགས་ལྷ་བན་ཚེ་དབང་ནོར་བུས་མང་ཡུལ་སྐྱིད་གྲོང་གྲ་ཕུ་ཆོས་གླིང་རི་ཁྲོད་དུ་མེ་ལུག་སྟོན་རའི་ཚེས་བཟང་པོར་བྲིས་པ་དགེའོ། །སརྦ་མངྒ་ལཾ་ཀུརྦནྟུ།<br>
                </p>`,
                fullContentChinese: `<p class="chinese-text">
                大圓滿空行心要傳承上師祈請文定解心髓甘露滴<br>
                阿吙<br>
                無作離邊本來現前怙，無動智慧諸佛春明尊，<br>
                無生無滅周遍普賢前，祈請賜我殊勝諸悉地。<br>
                無緣離戲光明不變母，諸佛勝心金剛密主尊，<br>
                相好圓滿勝化歡喜主，祈請賜我殊勝諸悉地。<br>
                自明得權持明吉祥獅，圓滿正覺上師蓮花生，<br>
                無垢虹身空行措嘉前，祈請賜我殊勝諸悉地。<br>
                密藏心要開啟緣授尊，教法明燈勝子具賢者，<br>
                第二勝者自生金剛持，祈請賜我殊勝諸悉地。<br>
                密咒成就自在雍敦華，一切遍知噶瑪嘎若杵，<br>
                祈請賜我殊勝諸悉地。<br>
                證得王者虛空金剛尊，經證教法明闡戒律尊，<br>
                證得實義戒律勝者名，祈請賜我殊勝諸悉地。<br>
                密義事業善弘法藏尊，難調普度智慧勝者名，<br>
                慈視眾生法主覺獅尊，扎文遍知大尊戒律勝，<br>
                澤列持明福德遍勝尊，佛子勝者丹增妙音足，<br>
                祈請賜我殊勝諸悉地。<br>
                法性現證普賢吉祥者，密咒得成經咒教持善，<br>
                二次現證事業任運成，祈請賜我殊勝諸悉地。<br>
                大密導師不變金剛賜，心子勝者鄔金南卓善，<br>
                心要義藏具德上師尊，祈請賜我殊勝諸悉地。<br>
                廣遍部類壇城一切主，加持根本傳承諸上師，<br>
                本尊寂忿空行護法前，一心敬信意中作祈請。<br>
                我從今起至未成佛時，捨離惡趣常得善趣生，<br>
                天界功德七聖財具足，正道之中願不退轉進。<br>
                生生世世具相上師遇，善緣圓滿上師歡喜成，<br>
                甚深光明金剛心要義，無餘圓滿願我得證得。<br>
                非法諸業剎那不入中，如法而行日夜盡時過，<br>
                地道暖相無餘一生圓，自他二利無勤任運成。<br>
                頓斷見解法性究竟證，頓超現前修證徹底圓，<br>
                清淨行為利生大事成，無學勝地此生願證得。<br>
                諸法本來法性離諸戲，遍邊超越九乘最極頂，<br>
                意觀難行光明大圓滿，現證有身願入光明身。<br>
                緣想心意造作不染污，離諸作意法性現量前，<br>
                顯相表義三相無別道，離諍阿底證悟願現前。<br>
                恆時因果業力具信解，超越因果見解量得成，<br>
                恆時密咒戒律無缺持，本守離戲大護恆安住。<br>
                此生誑惑法中不貪著，密密無上勝道入已後，<br>
                自他二利成就大自在，三身佛陀勝位願證得。<br>
                生生世世極密大圓義，得授佛教利生大事成，<br>
                七聖財具持續眷屬廣，一聚之中眾生願成覺。<br>
                <div class="colophon">
               此大圓滿空行心要祈請文，乃應於極淨業勤修且於極密大圓滿具不退信敬之具緣勝者如昌札德巴久視義成或普賢定解自解自在之勸請，由東康噶陀南方天僧才旺諾布，於芒域吉隆札普寺閒居，於火羊年孟秋吉日書。薩瓦芒嘎朗 固本督！
                </div>
                </p>`
            },
            {
                id: 'prayer6',
                tibetanTitle: '༈རྫོགས་ཆེན་མཁའ་འགྲོ་ཡང་ཞུན་གྱི་གསོལ་འདེབས་རྩ་གསུམ་བྱིན་རླབས་འདྲེན་པའི་ལྕགས་ཀྱུ་ཞེས་བྱ་བ་བཞུགས་སོ། །',
                chineseTitle: '大圓滿空行精華祈請文 三根本加持攝召鐵鉤',
                author: '才旺諾布',
                category: '祈請文',
                preview: '༈ རྫོགས་ཆེན་མཁའ་འགྲོ་ཡང་ཞུན་གྱི་གསོལ་འདེབས་རྩ་གསུམ་བྱིན་རླབས་འདྲེན་པའི་ལྕགས་ཀྱུ་ཞེས་བྱ་བ་བཞུགས་སོ། །ཨོཾ་ཨཱ་ཧཱུྃ་ཧྲཱི༔ ཁྱབ་བརྡལ་ཡེ་ཤེས་གཡོ་མེད་ཞིང་ཁམས་ནས། །...',
                tags: ['大圓滿', '空行精華', '三根本'],
                meta: { words: '約 950 字', pages: '2 頁', readTime: '閱讀約 10 分鐘' },
                fullContentTibetan: `<p class="tibetan-text">
                ༈ རྫོགས་ཆེན་མཁའ་འགྲོ་ཡང་ཞུན་གྱི་གསོལ་འདེབས་རྩ་གསུམ་བྱིན་རླབས་འདྲེན་པའི་ལྕགས་ཀྱུ་ཞེས་བྱ་བ་བཞུགས་སོ། །<br>
                ཨོཾ་ཨཱ་ཧཱུྃ་ཧྲཱི༔ ཁྱབ་བརྡལ་ཡེ་ཤེས་གཡོ་མེད་ཞིང་ཁམས་ནས། །རིག་པ་རང་བྱུང་སངས་རྒྱས་ཀུན་གྱི་ཡབ། །གདོད་མའི་མགོན་པོ་འོད་དཔག་མེད་པ་ལ། །གསོལ་བ་འདེབས་སོ་དབང་བསྐུར་མཆོག་མཐུན་སྩོལ། །ཡེ་ཤེས་ལྔ་ལྡན་རང་འོད་ཐིག་ལེ་ཀློང་། །སྒྱུ་འཕྲུལ་ཞི་ཁྲོ་འདུས་པའི་ངོ་བོ་ཉིད། །ཧེ་རུ་ཀ་དཔལ་རྟ་ཕག་ཡབ་ཡུམ་ལ། །གསོལ་བ་༝ རྒྱལ་བའི་ཞིང་ཁམས་མུ་མཐའ་མེད་པ་རུ། །སྔགས་ཀྱི་སྟོན་པ་མཚོ་སྐྱེས་རྡོ་རྗེ་སེམས། །འགྱུར་མེད་ཡེ་ཤེས་པདྨ་འབྱུང་གནས་ལ། །གསོལ་བ་༝ མཁའ་སྤྱོད་གསང་བ་མཆོག་གི་དུར་ཁྲོད་དུ། །བདེ་སྟོང་དབང་ཕྱུག་རྒྱལ་བ་ཀུན་གྱི་ཡུམ། །བདུད་འདུལ་དྲག་མོ་ཡེ་ཤེས་མཚོ་རྒྱལ་ལ། །གསོལ་བ་༝ ཤཱཀྱའི་ཞིང་ཁམས་བོད་ཆེན་ཤར་ཕྱོགས་སུ། །རྒྱལ་ཀུན་ཡེ་ཤེས་འདུས་པའི་སྲས་གཅིག་པུ། །དྲན་མཆོག་པདྨ་བདེ་ཆེན་གླིང་པ་ལ། །གསོལ་བ་༝ ཕྱོགས་མེད་འགྲོ་དོན་སྐྱོང་བའི་གནས་མཆོག་ནས། །གུ་རུའི་ལུང་བསྟན་འབྲེལ་ཚད་དོན་དང་ལྡན། །རིག་པ་འཛིན་པ་ཚེ་དབང་ནོར་བུ་ལ། །གསོལ་བ་༝ མོན་ཡུལ་དབེན་པའི་གནས་མཆོག་རྟ་གྲུ་ནས། །རིམ་གཉིས་མངོན་གྱུར་གྲུབ་པའི་དབང་ཕྱུག་ཆེ། །རྡོ་རྗེ་སློབ་དཔོན་ཨོ་རྒྱན་བསྟན་འཛིན་ལ། །གསོལ་བ་༝ སྤྱི་གཙུག་བདེ་བ་ཆེན་པོའི་ཕོ་བྲང་དུ། །བཀའ་དྲིན་མཚུངས་མེད་རིགས་ཀུན་འདུས་པའི་གཙོ། །རྩ་བའི་བླ་མ་རྡོ་རྗེ་འཆང་ཆེན་ལ། །གསོལ་བ་༝ ཧྲཱི༔ དབང་ཆེན་མེ་རླུང་འཁྲུལ་དཀྱིལ་ཟླ་གམ་དབུས། །ཡི་དམ་དཀྱིལ་འཁོར་ཀུན་གྱི་སྤྱི་དཔལ་གཙོ། །པདྨ་གར་དབང་གསུང་དམར་ཞི་ཁྲོ་ལ། །གསོལ་བ་༝ གནས་གསུམ་དག་པ་རྩ་རླུང་ཐིག་ཞིང་དུ། །བདེ་ཆེན་ཕོ་ཉ་ཡོངས་ཀྱི་དབང་ཕྱུག་སྐུར། །བཅོམ་ལྡན་འདས་མ་རྡོ་རྗེ་རྣལ་འབྱོར་ལ། །གསོལ་བ་༝ དུར་ཁྲོད་མེ་རི་འབར་བའི་ཕོ་བྲང་དུ། །རྫོགས་སངས་རྒྱས་ཉིད་བསྟན་པ་བསྲུང་ཕྱིར་སྐུ། །སྟོན་གྱུར་ཡེ་ཤེས་མགོན་པོ་མ་ནིང་ལ། །གསོལ་བ་༝ གཏེར་གནས་སྨུ་རྡོ་མཁའ་འགྲོ་འབུམ་འདུས་ནས། །ཟབ་མོའི་གཏེར་མཆོག་མཁའ་འགྲོ་སྙིང་ཏི་ཀ །གཏེར་སྲུང་མ་གཟའ་རྡོར་གསུམ་བཅས་པ་ལ། །གསོལ་བ་༝ སྨོན་ལམ་ལས་འཕྲོ་དག་པའི་ཞིང་ཁམས་སུ། །རྡོ་རྗེ་ཐེག་པའི་དམ་ཚིག་གིས་བསྡུས་པའི། །དག་སྣང་ཆིག་འདྲེས་མཆེད་དང་ལྕམ་དྲལ་ལ། །གསོལ་བ་༝ དེ་ལྟར་སྙིང་ཐིག་བླ་མ་དཀྱིལ་འཁོར་ལྷ། །བཀའ་བསྟོད་བཅས་ལ་གུས་པས་གསོལ་བཏབ་མཐུས། །ཆོས་ཀྱི་ཕྱག་རྒྱ་བསྐྱེད་རིམ་སྣང་སྟོང་འབྱོངས། །དམ་ཚིག་ཕྱག་རྒྱ་གཏུམ་མོའི་བདེ་དྲོད་འབར། །ལས་ཀྱི་ཕྱག་རྒྱ་དབབ་ལྡོག་དགའ་བཞི་རྫོགས། །ཕྱག་ཆེན་བདེ་གཤེགས་སྙིང་པོའི་གནས་ལུགས་རྟོགས། །འོད་གསལ་ཐོད་བརྒལ་སྣང་བཞི་མཐའ་རུ་ཕྱིན། །ཟུང་འཇུག་རྡོར་སེམས་ཚེ་འདིར་ཐོབ་པར་ཤོག །
ཞེས་རྫོགས་ཆེན་མཁའ་འགྲོ་ཡང་ཞུན་གྱི་གསོལ་འདེབས་འདི་ནི། གློ་བོ་དོམ་པོའི་བླ་མ་རིན་པོ་ཆེ་དཔལ་ལྡན་གྲུབ་པའི་དབང་ཕྱུག་ཨོ་རྒྱན་བསྟན་འཛིན་མཆོག་གི་ཞལ་སྔ་ནས་བསྐུལ་བའི་ངོར། །མདོ་ཁམས་པ་རིག་འཛིན་ཚེ་དབང་ནོར་བུ་ཡིས་ལྕགས་ཀྱི་ཆུ་ཟླའི་དམར་ཕྱོགས་གང་བའི་ཚེས་ཀྱི་ཉི་མ་རྩེ་ཤར་ལ་མོན་ཡུལ་རྟ་གྲུ་གནས་མཆོག་ཏུ་སྨྲས་པ་སརྦ་མངྒ་ལཾ།<br>
                </p>`,
                fullContentChinese: `<p class="chinese-text">
                大圓滿空行精華祈請文<br>
                三根本加持攝召鐵鉤<br>
                嗡阿吽啥<br>
                遍滿智慧無動剎土中，明覺自生諸佛總集父，<br>
                本初怙主無量光佛前，祈請賜予灌頂勝相應。<br>
                五智具足自光明點界，幻化寂忿總集體性尊，<br>
                吙魯嘎尊馬豬父母前，祈請賜予灌頂勝相應。<br>
                佛土剎土無有邊際中，密咒導師海生金剛心，<br>
                不變智慧蓮花生師前，祈請賜予灌頂勝相應。<br>
                空行秘密勝妙屍陀林，樂空自在諸佛總集母，<br>
                降魔忿母耶喜措嘉前，祈請賜予灌頂勝相應。<br>
                釋迦剎土大藏東方中，諸佛智慧總集獨子尊，<br>
                憶勝蓮師大樂藏前前，祈請賜予灌頂勝相應。<br>
                無偏利生守護勝處中，上師授記結緣具義者，<br>
                持明自在才旺諾布前，祈請賜予灌頂勝相應。<br>
                門地寂靜勝處札谷中，二次現證成就大自在，<br>
                金剛阿闍鄔金丹增前，祈請賜予灌頂勝相應。<br>
                頂嚴大樂宮殿聖處中，恩德無比諸部總集主，<br>
                根本上師大金剛持前，祈請賜予灌頂勝相應。<br>
                啥<br>
                大力火風幻輪月輪中，本尊壇城一切總嚴主，<br>
                蓮花舞王語紅寂忿前，祈請賜予灌頂勝相應。<br>
                三處清淨脈風明點界，大樂使者一切自在身，<br>
                薄伽梵母金剛瑜伽前，祈請賜予灌頂勝相應。<br>
                屍陀火山熾燃宮殿中，正等正覺護教所現身，<br>
                示現智慧護法中身前，祈請賜予灌頂勝相應。<br>
                伏藏聖地穆多空行聚，甚深伏藏空行心要典，<br>
                伏藏護法瑪扎杵三前，祈請賜予灌頂勝相應。<br>
                願力淨善清淨剎土中，金剛乘中戒律所攝聚，<br>
                淨相一味金剛兄妹前，祈請賜予灌頂勝相應。<br>
                如是心要上師壇城尊，護法眷屬敬信祈請力，<br>
                法印生圓顯空善修習，誓印猛火樂暖自熾然，<br>
                業印降提四喜得圓滿，印契如來心要義通達，<br>
                光明頓超四相至究竟，雙運金心此生願證得。<br>
                <div class="colophon">
                此大圓滿空行精華祈請文，乃應洛波東波上師仁波切具德成就自在鄔金丹增前之勸請，由東康持明才旺諾布於鐵水月下弦圓滿之日旭升時，於門地札谷勝處所說。願一切吉祥！
                </div>
                </p>`
            },
            {
                id: 'prayer7',
                tibetanTitle: '༈ བླ་མ་དགོངས་པ་འདུས་པའི་དབང་ལུང་མན་ངག་གི་རྒྱུད་པའི་བླ་མར་གསོལ་བ་འདེབས་པ་བྱིན་རླབས་སྙིང་པོའི་བཅུད་ལེན་ཞེས་བྱ་བ་བཞུགས་སོ། །',
                chineseTitle: '上師意集灌頂教言竅訣傳承上師祈請文 加持心要甘露滴',
                author: '才旺諾布',
                category: '祈請文',
                preview: '༈བླ་མ་དགོངས་པ་འདུས་པའི་དབང་ལུང་མན་ངག་གི་རྒྱུད་པའི་བླ་མར་གསོལ་བ་འདེབས་པ་བྱིན་རླབས་སྙིང་པོའི་བཅུད་ལེན་ཞེས་བྱ་བ་བཞུགས་སོ། །ན་མོ་གུ་རུ་དྷེ་ཝ་དྷཱ་ཀི་ནི་བྷྱ༔ གདོད་ནས་རྣམ་དག་བྲི་གང་ཡོངས་བྲལ་བ། །...',
                tags: ['上師意集', '灌頂教言', '傳承祈請'],
                meta: { words: '約 1800 字', pages: '5 頁', readTime: '閱讀約 18 分鐘' },
                fullContentTibetan: `<p class="tibetan-text">
                ༈བླ་མ་དགོངས་པ་འདུས་པའི་དབང་ལུང་མན་ངག་གི་རྒྱུད་པའི་བླ་མར་གསོལ་བ་འདེབས་པ་བྱིན་རླབས་སྙིང་པོའི་བཅུད་ལེན་ཞེས་བྱ་བ་བཞུགས་སོ། །<br>
                ན་མོ་གུ་རུ་དྷེ་ཝ་དྷཱ་ཀི་ནི་བྷྱ༔ གདོད་ནས་རྣམ་དག་བྲི་གང་ཡོངས་བྲལ་བ། །ཆོས་སྐུ་ཀུན་བཟང་མཐའ་ཡས་ཡབ་ཡུམ་ལ། །གསོལ་བ་འདེབས་སོ་སྨིན་གྲོལ་དངོས་གྲུབ་སྩོལ། །དོན་གཉིས་ལྷུན་གྱི་གྲུབ་པར་བྱིན་གྱིས་རློབས། །རབ་འབྱམས་ཞིང་ཁམས་སྤྲུལ་མཛད་གངས་ཅན་གཙོ། །ལོངས་སྐུ་འཁོར་ལོས་བསྒྱུར་བ་རིགས་ལྔ་ལ། །གསོལ་བ་འདེབས་སོ་སྨིན་གྲོལ་དངོས་གྲུབ་སྩོལ། །དོན་གཉིས་ལྷུན་གྱི་གྲུབ་པར་བྱིན་གྱིས་རློབས། །འགྲོ་འདུལ་རྒྱལ་ཀུན་སྤྲུལ་བཞི་སྤྲུལ་སྐུ་ཆེ། །རྒྱལ་བ་རྒྱ་མཚོ་སྤྱན་རས་གཟིགས་དབང་ལ། །གསོལ་བ་འདེབས་སོ་༝ དོན་གཉིས་༝ སངས་རྒྱས་ཀུན་འདུས་སྐུ་གསུམ་ངོ་བོ་ཉིད། །བདེ་ཆེན་རྡོ་རྗེ་པདྨ་འབྱུང་གནས་ལ། །གསོལ་བ་འདེབས་སོ་༝ དོན་གཉིས་༝ གསུང་རབ་རྒྱ་མཚོ་ཡོངས་འཆང་ཤེར་ཕྱིན་མ། །འཁོར་ལོའི་བདག་མོ་ཡེ་ཤེས་མཚོ་རྒྱལ་ལ། །གསོལ་བ་འདེབས་སོ་༝ དོན་གཉིས་༝ འཇམ་དཔལ་དཔའ་བོ་གངས་ཅན་མི་རྗེའི་ཚུལ། །བསྟན་པའི་སྒྲོན་མེ་ཁྲི་སྲོང་ལྡེའུ་བཙན་ལ། །གསོལ་བ་༝ དོན་གཉིས་༝ སྤྱན་རས་གཟིགས་དབང་སྨོན་ལམ་གྱིས་བསྐྲུན་སྐུ། །ལྷ་སྲས་ཚུལ་བཟུང་མུ་ཏིག་བཙན་པོ་ལ། །གསོལ་བ་༝ དོན་གཉིས་༝ གུ་རུས་རྒྱལ་ཚབ་དབང་བསྐུར་ཟབ་གཏེར་བདག །མཆོག་གྱུར་སྤྲུལ་སྐུ་སངས་རྒྱས་གླིང་པ་ལ། །གསོལ་བ་༝ དོན་གཉིས་༝ ཆོས་བདག་ཡོངས་གཙོ་དངོས་གྲུབ་གཉིས་བརྙེས་པ། །སྲས་མཆོག་འགྲོ་འདུལ་ཡེ་ཤེས་རྡོ་རྗེ་ལ། །གསོལ་༝ དོན་གཉིས་༝ དབང་ཆེན་སྤྲུལ་པ་སྤྱི་བོར་རྟ་སྐད་སྒྲོགས། །གྲུབ་པའི་དབང་ཕྱུག་སངས་རྒྱས་བློ་གྲོས་ལ། །གསོལ་༝ དོན་གཉིས་༝ སྐྱེས་མཆོག་གདུང་འཛིན་སྨིན་གྲོལ་ཡོངས་སུ་རྫོགས། །རིགས་སྔགས་འཆང་བ་བསོད་ནམས་ལྷུན་གྲུབ་ལ། །གསོལ་བ་༝ དོན་གཉིས་༝ སྦས་པའི་ཚུལ་གྱིས་གསང་སྔགས་ཡོན་ཏན་བརྙེས། །རྣལ་འབྱོར་དབང་ཕྱུག་ཀརྨ་བཟང་པོ་ལ། །གསོལ་བ་༝ དོན་གཉིས་༝ གུ་རུའི་བཀའ་གསང་གསེར་ཆོས་ཟབ་དགུ་ཡི། །སྐལ་ལྡན་གསོས་མཛད་ཀརྨ་སྔགས་འཆང་ལ། །གསོལ་༝ དོན་གཉིས་༝ གདམས་པའི་རྒྱུད་ཀྱིས་འགྲོ་ཕན་བསམ་མི་ཁྱབ། །ཡེ་ཤེས་ཆེས་བརྙེས་གྲུབ་མཆོག་བཟང་པོ་ལ། །གསོལ་བ་༝ དོན་གཉིས་༝ གཏེར་སྲས་བདུན་རྫོགས་གདུང་མཐར་མཁས་གྲུབ་མཆོག །ལྷ་སྲས་སྐྱེ་མཐའ་རིག་འཛིན་སྙིང་པོ་ལ། །གསོལ་བ་འདེབས་སོ་༝ དོན་གཉིས་༝ ཟབ་མོའི་ལམ་ལ་གཡེལ་མེད་རིག་འཛིན་གཙོ། །མངོན་པར་གྲུབ་པ་བདེ་ཆེན་དར་རྒྱས་ལ། །གསོལ་བ་༝ དོན་གཉིས་༝ གུ་རུའི་ལུང་ཟིན་འབྲེལ་ཚད་སྨིན་གྲོལ་སྦྱོར། །མཚུངས་མེད་རྗེ་བཙུན་བདེ་ཆེན་རབ་གསལ་ལ། །གསོལ་བ་༝ དོན་གཉིས་༝ པདྨ་དབང་བསྐུར་དེས་སྟོན་བསྟན་པའི་བདག །རྒྱལ་སྲས་རིག་འཛིན་ཚེ་དབང་ནོར་བུ་ལ། །གསོལ་བ་༝ དོན་གཉིས་༝ ཚེ་གཅིག་ཉམས་ལ་གཏན་བདེ་སངས་རྒྱས་སར། །དཀྲི་མཛད་དྲིན་ཆེན་རྩ་བའི་བླ་མ་ལ། །གསོལ་བ་༝ དོན་གཉིས་༝ བླ་མའི་རང་བཞིན་པདྨ་བཛྲ་རྩལ། །ཚོམ་བུ་དགུ་རྫོགས་ཡི་དམ་རབ་འབྱམས་ལ། །གསོལ་བ་༝ དོན་གཉིས་༝ བླ་མའི་རོལ་རྩལ་དཔའ་བོ་མཁའ་འགྲོ་མ། །བཀའ་སྲུང་གཏེར་བདག་གྲངས་མེད་འཆར་བ་ལ། །གསོལ་བ་༝ དོན་གཉིས་༝ དེ་ལྟར་བླ་མ་དགོངས་པ་སྤྱི་འདུས་ཀྱི། །རྩ་བརྒྱུད་བླ་མ་ཡི་དམ་མཁའ་འགྲོ་མར། །རྩེ་གཅིག་གསོལ་བ་བཏབ་པའི་མཐུ་ནུས་ཀྱིས། །རྩ་གསུམ་ལྷ་ཡི་བྱིན་རླབས་སྙིང་ལ་ཞུགས། །དབང་བཞིས་བདག་རྒྱུད་ཡོངས་སུ་སྨིན་གྱུར་ཅིང་། །བསྐྱེད་རིམ་ཡེ་ཤེས་དབང་ཕྱུག་མྱུར་ཐོབ་ཤོག །ལས་ཕྲན་ལས་ཆེན་མཐའ་དག་ཐོགས་མེད་གྲུབ། །རྡོ་རྗེ་འཛིན་པའི་ས་མཆོག་ཡོངས་བརྙེས་ཤོག །རྫོགས་རིམ་མཐར་ཐུག་རྒྱལ་ཀུན་བསྒྲོད་ཅིག་ལམ། །ཆེས་གསང་ཐེག་དགུའི་རྩེ་རྒྱལ་རྫོགས་པ་ཆེ། །ཁྲེག་ཆོད་ལྟ་བུའི་ཕུ་ཐག་གཏིང་ནས་ཆོས། །ཐོད་བརྒལ་སྣང་བཞི་ཟད་པར་འཁྱོལ་བར་ཤོག །རྫོགས་རིམ་གདུལ་བྱ་བྱེ་བྲག་ལ་སྣང་ཆོས། །མཐའ་བྲལ་ཕྱག་ཆེན་ཆོས་ཀུན་རང་རྒྱལ་ཐོབ། །ཕར་ཕྱིན་ཡུལ་འཁྲུལ་སྣང་གྲག་གྲོགས་སུ་གཅེས། །ཚུལ་དེས་འཕགས་པའི་བདེན་པ་མངོན་གྱུར་ཤོག །ཟུང་འཇུག་ཡེ་ཤེས་མཁའ་འགྲོའི་གསེང་ལམ་མཆོག །ཕོ་ཉ་མྱུར་མགྱོགས་སྟེང་འོག་སྒོ་གཉིས་ཀྱི། །རྩ་རླུང་ཐིག་ལེ་གནད་དུ་བསྣུན་པ་ཡི། །ཟུང་འཇུག་བདེ་ཆེན་སྐུ་མཆོག་མྱུར་འགྲུབ་ཤོག །དེ་ལྟར་ཚེ་འདི་ཉིད་ལ་མངོན་སངས་རྒྱས། །སྐལ་བརྩོན་དམན་པས་དེ་ལྟར་མ་འགྲུབ་ཀྱང་། །རིགས་དྲུག་འཁོར་བའི་སྐྱེ་སྒོ་ཡོངས་ཆད་དེ། །སྤྲུལ་སྐུའི་ཞིང་དུ་དབུགས་དབྱུང་བྱང་ཆུབ་ཤོག །གལ་ཏེ་སྲིད་པར་སྐྱེས་ཀྱང་ལས་སྨོན་མཐུས། །དལ་འབྱོར་ལུས་ཐོབ་བླ་མ་དམ་པ་མཇལ། །དགེ་བའི་བཤེས་གཉེན་བསྟེན་ཚུལ་ལ་མཁས་ཤིང་། །སྨིན་གྲོལ་ཡོངས་རྫོགས་དོན་གཉིས་ལྷུན་གྲུབ་ཤོག །མདོར་ན་བདག་ནི་དུས་འདི་ནས་ཙམ་སྟེ། །བྱང་ཆུབ་སྙིང་པོ་ཐོབ་ཀྱི་བར་དུ་ནི། །བླ་མ་སངས་རྒྱས་དངོས་སུ་མཐོང་བ་དང་། །རྒྱུ་འབྲས་ཡིད་ཆེས་འདོར་ལེན་མཁས་པར་ཤོག །ཁྱད་པར་གསང་སྔགས་དམ་ཚིག་སྙིང་པོ་ནི། །སྐྱིད་སྡུག་ལེགས་ཉེས་ཇི་ལྟར་གྱུར་ཀྱང་རུང་། །མ་ཉམས་རང་སྲོག་ལ་ཡང་ལྟོས་མེད་པར། །རྒྱལ་བ་ཀུན་ལམ་མཆོག་དེར་འབད་བརྩོན་ཤོག །དེ་ལྟར་བླ་མར་མོས་གུས་རྣམ་དག་གི །ཡོངས་དྲངས་སྟོང་ཉིད་སྙིང་རྗེ་ཟུང་འཇུག་གི །ཚོགས་གཉིས་ཡོངས་རྫོགས་མཐའ་ཡས་འགྲོ་བའི་མགོན། །བདག་གྱུར་བླ་མའི་ཕྲིན་ལས་ཡོངས་བསྒྲུབ་ཤོག །
    ཅེས་བླ་མ་དགོངས་འདུས་ཀྱི་དབང་ཁྲིད་ལུང་བཅས་ཀྱི་གཏེར་སྲས་ནས་བརྒྱུད་པའི་གསོལ་འདེབས་སྨོན་ལམ་བཅས་པ་འདི་ནི། ལོང་པོ་གྱིང་གི་ཞལ་ངོ་ཉང་རྗེ་གཙོས་པའི་རིགས་རྒྱུད་དད་གུས་དཔལ་གྱིས་འཚོ་བ་བསྟན་འཛིན་འབྲུག་གྲགས་ཡབ་སྲས་ཀྱིས་ཡང་ཡང་ནན་ཏན་ཆེན་པོའི་གསོལ་བ་བཏབ་པའི་ངོར་ཤར་ཕྱོགས་བོད་ཆེན་དུ་སྐྱེས་པའི་རིག་པ་འཛིན་པ་སྔགས་ཀྱི་པཎྜི་ཏ་དཔལ་ཚེ་དབང་ནོར་བུས་མེ་སྦྲུལ་ཁྲུམས་ཟླའི་དམར་ཕྱོགས་གང་བའི་དུས་ཆེན་པོར་དགོངས་འདུས་གཏེར་གནས་རིན་ཆེན་འབར་བར་ཐུན་བར་ཡུད་ཙམ་ཅིག་ལ་བྲིས་པ་དགེའོ། །<br>

                </p>`,
                fullContentChinese: `<p class="chinese-text">
                上師意集灌頂教言竅訣傳承上師祈請文<br>
                加持心要甘露滴<br>
                南無咕如德瓦達姬涅貝<br>
                本來清淨離諸增減中，法身普賢無邊父母前，<br>
                祈請賜予成熟解脫果，二利任運成就作加持。<br>
                無邊剎土化現雪域主，報身轉輪王尊五部前，<br>
                祈請賜予成熟解脫果，二利任運成就作加持。<br>
                調生諸佛四身化身尊，佛海聖眾觀自在前前，<br>
                祈請賜予成熟解脫果，二利任運成就作加持。<br>
                諸佛總集三身體性尊，大樂金剛蓮花生師前，<br>
                祈請賜予成熟解脫果，二利任運成就作加持。<br>
                經海總持般若佛母尊，輪王佛母耶喜措嘉前，<br>
                祈請賜予成熟解脫果，二利任運成就作加持。<br>
                文殊勇士雪域人王身，教法明燈赤松德贊前，<br>
                祈請賜予成熟解脫果，二利任運成就作加持。<br>
                觀音化現願力所成身，天子形相穆德贊波前，<br>
                祈請賜予成熟解脫果，二利任運成就作加持。<br>
                上師王位灌頂密藏主，勝化身尊桑傑林巴前，<br>
                祈請賜予成熟解脫果，二利任運成就作加持。<br>
                法主總勝二種悉地得，勝子調眾智慧金剛前，<br>
                祈請賜予成熟解脫果，二利任運成就作加持。<br>
                大力化身頂上馬聲震，成就自在桑傑羅珠前，<br>
                祈請賜予成熟解脫果，二利任運成就作加持。<br>
                勝者種持成熟解脫圓，密咒持明索南倫珠前，<br>
                祈請賜予成熟解脫果，二利任運成就作加持。<br>
                密行成就密咒功德得，瑜伽自在噶瑪桑波前，<br>
                祈請賜予成熟解脫果，二利任運成就作加持。<br>
                上師密意金法甚深九，具緣護育噶瑪密咒前，<br>
                祈請賜予成熟解脫果，二利任運成就作加持。<br>
                教言流傳利眾難思議，智慧勝得成就桑波前，<br>
                祈請賜予成熟解脫果，二利任運成就作加持。<br>
                伏藏子圓末代智成勝，天子末生持明寧波前，<br>
                祈請賜予成熟解脫果，二利任運成就作加持。<br>
                深道無懈持明尊主者，現證大樂德欽達吉前，<br>
                祈請賜予成熟解脫果，二利任運成就作加持。<br>
                上師授記結緣熟解合，無比尊者德欽繞薩前，<br>
                祈請賜予成熟解脫果，二利任運成就作加持。<br>
                蓮師灌頂善示教主尊，勝子持明才旺諾布前，<br>
                祈請賜予成熟解脫果，二利任運成就作加持。<br>
                一生修證永恆佛地中，引導恩師根本上師前，<br>
                祈請賜予成熟解脫果，二利任運成就作加持。<br>
                上師自性蓮花金剛尊，九聚圓滿本尊無邊前，<br>
                祈請賜予成熟解脫果，二利任運成就作加持。<br>
                上師遊戲勇士空行母，護法伏藏主眾顯現前，<br>
                祈請賜予成熟解脫果，二利任運成就作加持。<br>
                如是上師意集總集之，根傳上師本尊空行母，<br>
                一心祈請威力加持力，三根本尊加持入我心。<br>
                四灌令我相續圓熟已，生起次第智慧速得成。<br>
                微細廣大事業無礙成，金剛持位勝地願圓證。<br>
                圓滿究竟諸佛一道徑，極密九乘極頂大圓滿，<br>
                頓斷見解深處究竟明，頓超四相徹底圓滿成。<br>
                圓次所化別現諸法中，離邊大印諸法自成得，<br>
                波羅蜜境迷現聲伴珍，此道聖諦顯現願證得。<br>
                雙運智慧空行捷徑勝，使者迅速上下二門中，<br>
                脈風明點要處觸動已，雙運大樂勝身速成就。<br>
                如是此生即身證佛果，若因福劣勤修未成就，<br>
                六道輪迴生門悉斷盡，化身剎土解脫菩提成。<br>
                設若轉生生死願力故，暇滿身得遇見勝上師，<br>
                善知識依教理善通達，成熟解脫圓滿二利成。<br>
                總之我從此時始乃至，菩提心要得證期間中，<br>
                上師即佛真實見解生，因果深信取捨善巧成。<br>
                尤其密咒誓言心要者，苦樂好壞一切如何現，<br>
                誓言不破乃至生命憂，諸佛一道勝道願精勤。<br>
                如是上師淨信恭敬中，引生空悲雙運無二法，<br>
                二資圓滿無邊眾怙者，願成上師事業圓滿成。<br>
                <div class="colophon">
                    此上師意集灌頂教言傳承祈請發願文者，應龍波寺住持釀傑為主之具信種裔丹增竹札父子再三殷重勸請，由東方大藏生持明密咒班智達才旺諾布於火蛇秋月下弦圓滿大日，於意集伏藏處寶燃山座間頃刻所書。願善！
                </div>
                </p>`
            },
            {
                id: 'prayer8',
                tibetanTitle: ' ༈ བྱང་གཏེར་ཐུགས་བསྒྲུབ་ཡང་ཏིག་གཅེས་སྒྲོན་གྱི་ཁྲིད་ཀྱི་གསོལ་འདེབས་བྱིན་རླབས་འདྲེན་པའི་ལྕགས་ཀྱུ་ཞེས་བྱ་བ་བཞུགས་སོ། །',
                chineseTitle: '北伏藏意修精要寶燈引導祈請文攝召鐵鉤',
                author: '才旺諾布',
                category: '祈請文',
                preview: '༈བྱང་གཏེར་ཐུགས་བསྒྲུབ་ཡང་ཏིག་གཅེས་སྒྲོན་གྱི་ཁྲིད་ཀྱི་གསོལ་འདེབས་བྱིན་རླབས་འདྲེན་པའི་ལྕགས་ཀྱུ་ཞེས་བྱ་བ་བཞུགས་སོ། །ཨོཾ་ཨཱཿཧཱུྃ། རྒྱལ་བ་ཀུན་མེས་མཁའ་ཁྱབ་ཆོས་དབྱིངས་བདག་པོ་ཀུན་བཟང་ཧེ་རུ་ཀ །...',
                tags: ['北伏藏', '意修精要', '寶燈引導'],
                meta: { words: '約 1700 字', pages: '4 頁', readTime: '閱讀約 17 分鐘' },
                fullContentTibetan: `<p class="tibetan-text">
                ༈བྱང་གཏེར་ཐུགས་བསྒྲུབ་ཡང་ཏིག་གཅེས་སྒྲོན་གྱི་ཁྲིད་ཀྱི་གསོལ་འདེབས་བྱིན་རླབས་འདྲེན་པའི་ལྕགས་ཀྱུ་ཞེས་བྱ་བ་བཞུགས་སོ ༈<br>
                ཨོཾ་ཨཱཿཧཱུྃ། རྒྱལ་བ་ཀུན་མེས་མཁའ་ཁྱབ་ཆོས་དབྱིངས་བདག་པོ་ཀུན་བཟང་ཧེ་རུ་ཀ །ལྷུན་གྲུབ་དག་པའི་ཞིང་ནས་ཡེ་ཤེས་ལྔ་ལྡན་རིག་ལྔ་བདེ་བར་གཤེགས། །མེ་རི་འབར་བར་རྒྱལ་བ་ཀུན་གྱི་གསང་འཛིན་ལག་ན་རྡོ་རྗེ་འཆང་། །གསོལ་བ་འདེབས་སོ་རང་རིག་སྐུ་གསུམ་མངོན་གྱུར་དུས་འདིར་ཐོབ་བྱིན་རློབས། །ཀུན་ཏུ་བཟང་མོའི་ཐུགས་སྤྲུལ་རྒྱུད་སྡེའི་བདག་མོ་སྨུག་ནག་དབང་མཁའ་འགྲོ། །རྒྱལ་བའི་རྣམ་འཕྲུལ་ལྷ་ཀླུའི་ཚུལ་འཛིན་ཚངས་དབང་བརྒྱ་བྱིན་འཇོག་པོ་ཆེ། །མི་ཡི་རིགས་འཁྲུངས་གྲུབ་པ་ཀུན་གཙོ་གསང་བའི་བདག་པོ་རྒྱལ་པོ་ཛ། །གསོལ་བ་༝ ཟ་ཧོར་རྒྱལ་སྲས་རིམ་དགུ་ཐེག་པའི་མངའ་བདག་ཤཱཀྱ་པྲ་བྷ་ཝ། །རྒྱལ་བ་ཡོངས་ཀྱི་སྤྱི་གཟུགས་ཡེ་ཤེས་ཟླུམ་པའི་སྐུར་གྱུར་པདྨ་འབྱུང་། །ཕྱག་རྒྱ་ཆེ་མཆོག་བརྙེས་པ་དྲི་མེད་བཤེས་དང་བལ་པོ་ངང་ཚུལ་འཇམ། །གསོལ་༝ སྣ་ནམ་རིགས་འཁྲུངས་ཡི་དམ་ལྷ་ཡིས་རྗེས་བཟུང་རྡོ་རྗེ་བདུད་འཇོམས་དཔལ། །མཛོད་ལྔ་དབང་བསྒྱུར་རྒོད་སྒྲོའི་ཕུད་ཅན་དངོས་གྲུབ་རྒྱལ་མཚན་ཉི་ཟླ་འོད། །དེ་ཡི་ཐུགས་སྲས་ཟབ་དགུ་ཆོས་ཀྱི་སྡུད་པོ་སངས་རྒྱས་བྱམས་པ་བཟང་། །གསོལ་༝ སེ་ཡི་རིགས་ལས་སྦྱོར་སྒྲོལ་ནུས་པ་དཔག་མེད་ཉི་མ་བཟང་པོའི་ཞབས། །མགོན་པོ་བཟང་པོ་ལུང་རྟོགས་ཡོན་ཏན་དུ་མས་ཡོངས་ཕྱུག་སྐལ་ལྡན་དཔལ། །རིག་ཆེན་རྒྱལ་མཚན་སྔ་འགྱུར་བསྟན་པའི་སྲོག་ཤིང་འཆང་ལ་ལན་བརྒྱར་མཁས། །གསོལ་བ་༝ མགོན་པོ་ཟླ་བ་ཆོས་སྦྱིན་ཕྱོགས་ཀུན་དགྱེས་པའི་སྤྱན་རས་ཟུམ་མེད་གཟིགས། །གྲུབ་མཆོག་ནམ་སྙིང་སྤྲུལ་པར་ཞལ་བཞེས་བསྟན་པའི་སྒྲོན་མེ་བྱམས་པ་ཆོས། །གང་གི་ཆོས་སྲས་བློ་གྲོས་རྒྱལ་མཚན་ཀུན་ཏུ་རྒྱས་པ་ནུབ་དགོན་ཞབས། །གསོལ་༝ རྣམ་པར་རིག་པ་གྲོལ་བའི་སྒྲ་བརྒྱ་རབ་ཏུ་སྒྲོགས་མཛད་བྱམས་པ་བཟང་། །སྲིད་གསུམ་རྣམ་རྒྱལ་རྡོ་རྗེའི་སྤོ་ལ་ངེས་དོན་གསལ་མཛད་ཀུན་བཟང་ཉི། །རྟོགས་པའི་གར་མཁན་འོད་གསལ་རྡོ་རྗེ་སྙིང་པོ་རྒྱས་མཛད་འབྲུག་སྒྲ་བཟང་། །གསོལ་༝ རིགས་པ་སྔགས་འཆང་རིམ་གཉིས་ཡོན་ཏན་ཡོངས་བརྙེས་ཕྲིན་ལས་ལྷུན་གྲུབ་ཆེ། །སྡོམ་བརྩོན་རྒྱལ་པོའི་ཚུལ་གྱིས་གཙུག་གི་མངོན་མཆོད་ཆོས་དབྱིངས་རང་གྲོལ་ཞབས། །འཕགས་ཆེན་ས་ལ་ལེགས་བཞུགས་རྒྱལ་བས་ལུང་བསྟན་པདྨ་འཕྲིན་ལས་ཅན། །གསོལ་༝ སྤྱན་རས་གཟིགས་སྤྲུལ་སྡོམ་བརྩོན་མཁས་པའི་དབང་པོ་པདྨ་རིག་འཛིན་དབང་། །བླ་མའི་ཐུགས་སྲས་འབྲེལ་ཚད་དོན་ལྡན་རིག་འཛིན་ཚེ་དབང་ནོར་བུའི་སྡེ། །རང་རིག་དྲི་མེད་ཆོས་སྐུའི་རང་ཞལ་སྟོན་མཛད་རྩ་བའི་བླ་མ་མཆོག །གསོལ་༝ ཡི་དམ་བདེ་གཤེགས་ཀུན་འདུས་སྤྱི་དཔལ་རྡོ་རྗེ་དྲག་པོ་ལྷ་ཡི་ལྷ། །རྡོ་རྗེ་ཕག་མོ་ཡེ་ཤེས་འཇིག་རྟེན་ལས་ཀྱི་མཁའ་འགྲོ་ཡོངས་ཀྱི་གཙོ། །ཕོ་མོ་མ་ནིང་དྲེགས་པའི་རྗེ་བཙུན་བསྟན་བསྲུང་ཡོངས་རྫོགས་ནག་པོ་ཆེ། །གསོལ་༝ རང་ཉིད་ཤེས་རབ་ཕར་ཕྱིན་ཉིད་ལས་གཞན་མིན་འདུལ་བར་རག་གདོང་མ། །དམ་ལྡན་བུ་ལྟར་སྐྱོང་བ་དམ་ཅན་རྡོ་རྗེ་འབར་བ་ཐིག་ལེ་རྩལ། །མ་མོ་བསྟན་མ་སྟོང་དཔོན་གཏེར་གནས་བསྲུང་མ་ཁྲོམ་སྐྱེས་ཞིང་སྐྱོང་ཚོགས། །གསོལ་༝ དེ་ལྟར་གུ་རུའི་སྐུ་གསུང་ཐུགས་ཡོན་འཕྲིན་ལས་ཚབ་གྱུར་ཐུགས་བསྒྲུབ་ཀྱི། །ཡོངས་སྙིང་ཐུགས་ཀྱི་ཡེ་ཤེས་མངོན་བྱེད་ཐུགས་ཚབ་ཡང་ཏིག་གཅེས་སྒྲོན་གང་། །བརྒྱུད་པའི་བླ་མ་དམ་པ་རྣམས་དང་ཡི་དམ་ཆོས་སྐྱོང་བསྲུང་བ་ལ། །རྩེ་གཅིག་གསོལ་བ་བཏབ་པའི་བདེན་མཐུ་བྱིན་རླབས་ནུས་པའི་སྟོབས་དག་གིས། །བདག་གི་སྐྱེ་ཀུན་རང་གཞན་དོན་གཉིས་སྤྱོད་ལ་གཡེལ་མེད་ངེས་འབྱུང་རྒྱས། །སྐྱབས་ཀྱི་མཆོག་གྱུར་དཀོན་མཆོག་གསུམ་བཟུང་སྨོན་འཇུག་བྱང་ཆུབ་སེམས་མཆོག་བསྐྱེད། །འགལ་སྤང་མཐུན་རྐྱེན་སྒྲུབ་ལ་རབ་བསྔགས་རྡོར་སེམས་བསྒོམ་བཟླས་མཎྜལ་བརྩོན། །ཆོས་ཀུན་སྙིང་པོ་བླ་མའི་རྣལ་འབྱོར་ལ་འབད་ཐུགས་ཡིད་གཅིག་འདྲེས་ཤོག །མ་དག་དངོས་ཞེན་ཡོངས་འགོག་བདག་ལུས་སྣང་སྲིད་ལྷ་ཡི་རོལ་པར་རྒྱས། །གཉིས་མེད་ཡེ་ཤེས་རང་སྒྲས་གཉིས་སྣང་ཀུན་རྟོགས་ཚོགས་ཀུན་ཟིལ་གྱིས་གནོན། །གནད་བཞིའི་རྟེན་འབྲེལ་ལ་བརྟེན་སེམས་ཉིད་མ་བཅོས་གཉུས་མ་བཟོ་བྲལ་ཉིད། །རྟག་ཏུ་མཉམ་བཞག་སྐྱོན་ལྔ་བླ་མའི་བྱིན་རླབས་ཏིང་འཛིན་གྱིས་སེལ་ཤོག །རྡོ་རྗེ་ཧཱུྃ་ཡིག་བྱུང་གནས་འགྲོར་བརྟགས་སྒོ་གསུམ་མ་འཁྲུལ་སྲང་དུ་གཞུགས། །རྒྱལ་བ་ཀུན་གྱི་གསུང་དབྱངས་རྡོ་རྗེ་སློབ་དཔོན་གཟུགས་ཤར་པདྨ་འབྱུང་། །དེ་ཡང་རང་རིག་ཆོས་སྐུར་ངོ་སྤྲད་མཛད་པོ་བླ་མ་དབྱེར་མེད་པར། །ལྟེམ་རྐྱང་ཡིད་གཉིས་མེད་པར་ཕུར་ཚུགས་ཉིད་ཀྱི་བྱིན་རླབས་བདག་འཇུག་ཤོག །ནམ་མཁའ་ལ་བརྗེན་སྐྱེ་འགགས་གནས་བྲལ་རིག་པ་རང་ངོས་བར་དོ་སྒྲོལ། །དངས་གསལ་མན་ཤེལ་སྣང་སེམས་ཅེར་གྲོལ་ཡེ་ཤེས་མི་འགྱུར་འདུ་བྲལ་མེད། །མཛུབ་ཚུགས་གཟུང་འཛིན་གློ་བུར་དྲི་བྲལ་འོད་གསལ་རང་ངོ་བརྟན་པར་རྟོགས། །རྣམ་གསུམ་ངོ་སྤྲོད་རྒྱུད་ལ་སྦྱར་ནས་ཀ་དག་གནས་ལུགས་གཏན་ཕེབས་ཤོག །མཉམ་རྗེས་དབྱེར་མེད་ཆོས་ཉིད་རོ་གཅིག་མངོན་དུ་མ་གྱུར་བར་དུ་ནི། །པད་འབྱུང་ཞལ་གདམས་དགོངས་པར་བརྒྱད་དང་མི་འབྲེལ་ཡང་དག་འཇོག་བརྩོན་ཞིང་། །སྙིང་པོ་བླ་མར་དད་གུས་མོས་པའི་གདུང་ཤུགས་ནམ་ཡང་ལྷོད་མེད་བརྟེན། །སྤངས་བླང་གནས་རྣམས་ཀུན་བཟང་རྡོ་རྗེ་འཆང་གི་གསུང་བཞིན་སྤྱོད་པར་ཤོག །མདོར་ན་ཚེ་རབས་རྟག་ཏུ་རྫོགས་སངས་རྒྱས་ཀྱི་བསྟན་བཞུགས་དམ་པ་མཇལ། །སྨིན་བྱེད་དབང་གི་ཡོངས་སྨིན་གྲོལ་བྱེད་རིམ་གཉིས་བསྒོམ་རྩལ་ཡོན་ཏན་རྫོགས། །དོན་དམ་ནོར་འཁྲུལ་སྐྱོན་མེད་ཡིན་ལུགས་གཏན་ལ་ཕབས་པ་རང་དོན་ཆོས་སྐུ་གྲུབ། །སྙིང་རྗེའི་འབྲས་བུ་གཞན་དོན་གཟུགས་སྐུའི་འགྲོ་དོན་རྟག་ཏུ་སྤྱོད་པར་ཤོག །
    ཅེས་བྱང་གཏེར་ཐུགས་བསྒྲུབ་ཀྱི་ཡང་སྙིང་གུ་རུ་པདྨའི་དགོངས་པའི་ཚབ་རྫོགས་པ་ཆེན་པོ་ཡང་ཏིག་གཅེས་པའི་སྒྲོན་མེའི་བརྒྱུད་པའི་བླ་མ་ལ་གསོལ་བ་བཏབ་པ་འདི་ནི་རྒྱལ་བསྟན་འདྲེན་པའི་ཤིང་རྟ་གཞུང་རྣམ་གྲངས་བཅོ་བརྒྱད་ཐོགས་པ་མེད་པར་སྨྲ་བའི་རབ་འབྱམས་པ་པདྨ་རིག་འཛིན་གྱིས་ཡང་ནས་ཡང་དུ་གསོལ་བ་བཏབ་པའི་ངོར། མདོ་ཁམས་ཀཿཐོག་ལྷོ་ཕྱོགས་སུ་སྐྱེས་ཤིང་རྫོགས་པ་ཆེན་པོ་ལ་མོས་པས་སྤྱོད་པའི་རིག་འཛིན་ཚེ་དབང་ནོར་བུས་ཡོངས་འཛིན་དབྱུག་གུ་ཟླ་བའི་ཡར་ཚེས་བཞི་ལ་ལ་སྟོད་བྱང་པ་བསམ་རྫོང་དུ་་སྨྲས་པའི་ཡི་གེའི་རིས་བྱེད་ནི་ཤཱཀྱའི་དགེ་སློང་རིག་གནས་མཁན་པདྨ་གཡུང་དྲུང་གིས་བགྱིས་པའོ། །དགེའོ། །དགེའོ། །དགེའོ། །སརྦ་མངྒ་ལཾ།<br>
                </p>`,
                fullContentChinese: `<p class="chinese-text">
                北伏藏意修精要寶燈引導祈請文攝召鐵鉤<br>
                嗡阿吽<br>
                諸佛總父遍空法界主普賢黑日嘎，<br>
                任運淨土智慧五具五部如來尊，<br>
                火山熾燃諸佛密持金剛手勝尊，<br>
                祈請加持自明三身此時得證成。<br>
                普賢佛母心化續部佛母赤黑自在空，<br>
                佛陀化現天龍形相梵天帝釋黑龍王，<br>
                人中降生成就無上密主佛王雜，<br>
                祈請加持自明三身此時得證成。<br>
                薩霍王子九乘自在釋迦光明尊，<br>
                諸佛總體智慧圓身蓮花生大師，<br>
                大印勝得無垢益友尼泊爾寂靜賢，<br>
                祈請加持自明三身此時得證成。<br>
                納南族生本尊垂念金剛降魔尊，<br>
                五藏主持彩羽頂嚴悉地寶幢日月光，<br>
                彼之心子深九法主佛陀慈氏賢，<br>
                祈請加持自明三身此時得證成。<br>
                色族所生瑜解威力無量日賢足，<br>
                怙主善賢經論功德圓具吉祥尊，<br>
                大明寶幢前譯命脈持尊百藝博，<br>
                祈請加持自明三身此時得證成。<br>
                怙主月光法施諸方歡喜眼常視，<br>
                成就勝者虛空心化教燈慈氏法，<br>
                彼之法子智慧寶幢周遍增西寺尊，<br>
                祈請加持自明三身此時得證成。<br>
                清淨明了解脫百聲廣宣慈賢尊，<br>
                三界勝者金剛頂住定義明顯普賢日，<br>
                證悟舞師光明金剛心開龍音賢，<br>
                祈請加持自明三身此時得證成。<br>
                明咒持者二次功德圓證事業成，<br>
                持戒王者頂嚴飾頂法界自解尊，<br>
                大聖住地佛陀授記蓮花事業者，<br>
                祈請加持自明三身此時得證成。<br>
                觀音化現持戒智者蓮花持明王，<br>
                上師心子結緣具義持明才旺諾，<br>
                自明無垢法身真顏示我根本師，<br>
                祈請加持自明三身此時得證成。<br>
                本尊如來總集總嚴金剛忿怒尊，<br>
                金剛亥母智慧世間事業空行主，<br>
                男女中身威猛尊者護法圓滿黑，<br>
                祈請加持自明三身此時得證成。<br>
                自身般若彼岸非他調伏豬面母，<br>
                如子護持具戒金剛熾然明點尊，<br>
                瑪摩地母千官伏藏護眾生護眾，<br>
                祈請加持自明三身此時得證成。<br>
                如是上師身語意德事業代表意修之，<br>
                總心意智現證意代精要寶燈傳，<br>
                傳承諸位上師本尊護法眾等前，<br>
                一心祈請真實威力加持力。<br>
                願我生生自他二利行無懈增上出離心，<br>
                皈依勝寶三尊發勝願行菩提心，<br>
                違緣遮除順緣助成金剛薩埵修誦曼茶勵，<br>
                諸法心要上師瑜伽勤修意心融。<br>
                不淨實執永遮自身器情天眾顯，<br>
                無二智慧自聲二現遍知眾所摧，<br>
                四要緣起所依心性無為自然離，<br>
                恆時等持五過上師加持定除願。<br>
                金剛吽字生住去觀三門無迷正，<br>
                諸佛語音金剛阿闍形現蓮師尊，<br>
                彼亦自明法身示我上師無別中，<br>
                懷疑猶豫盡離堅固加持入我願。<br>
                依於虛空離生滅住明覺自解脫，<br>
                明淨水晶顯心頓脫智慧無變離，<br>
                指月能所暫離垢淨光明自住覺，<br>
                三種示道相續修習本淨法界定。<br>
                等持後得無別法性一味現前間，<br>
                蓮師口訣八義相應正等持勤修，<br>
                心要上師信敬意樂猛力恆無寬，<br>
                取捨諸事如普賢王言教行願成。<br>
                總之生生恆時正覺教住遇聖師，<br>
                成熟灌頂圓熟解脫二次修德圓，<br>
                勝義無謬離過法性究竟成就自利法身得，<br>
                悲心果實他利色身利生恆行願。<br>
                <div class="colophon">
                                此北伏藏意修精要上師蓮師意代大圓滿精要寶燈傳承上師祈請文，應佛教引導車乘十八部無礙宣說之遍智蓮花持明再三祈請，東康噶陀南方生而於大圓滿信解行之持明才旺諾布於教授杖月上弦四日，於拉朵北地桑莊所說。筆受為釋迦比丘明處師蓮花永準所作。善哉！善哉！善哉！薩瓦芒嘎朗！
                </div>
                </p>`
            }
        ];


        const documentsGrid = document.getElementById('documentsGrid');
        const searchInput = document.getElementById('searchInput');
        const totalCountEl = document.getElementById('totalCount');
        
        const documentModal = document.getElementById('documentModal');
        const modalTitleEl = document.getElementById('modalTitle');
        const modalTitleTibetanEl = document.getElementById('modalTitleTibetan');
        const modalTibetanContentEl = document.getElementById('modalTibetanContent');
        const modalChineseContentEl = document.getElementById('modalChineseContent');

        const loginModal = document.getElementById('loginModal');
        const loginForm = document.getElementById('loginForm');
        const userSection = document.getElementById('userSection');
        const messageArea = document.getElementById('messageArea');

        const addArticleModal = document.getElementById('addArticleModal');
        const addArticleForm = document.getElementById('addArticleForm');
        const courseMenuContainer = document.getElementById('courseMenuContainer');


        let currentView = 'grid'; 
        let currentUser = null;
        let currentOpenDocId = null;

        const breadcrumbPathEl = document.getElementById('breadcrumbPath');
        const currentDocCategoryEl = document.getElementById('currentDocCategory');
        const currentDocTitleEl = document.getElementById('currentDocTitle');

        function loadDocumentsData() {
            const storedDocs = localStorage.getItem('sunbumDocuments');
            if (storedDocs) {
                documentsData = JSON.parse(storedDocs);
            } else {
                documentsData = [...initialDocuments]; // Use a copy of initial if nothing in storage
                saveDocumentsData(); // Save initial to localStorage
            }
        }

        function saveDocumentsData() {
            localStorage.setItem('sunbumDocuments', JSON.stringify(documentsData));
        }


        function updateBreadcrumb(category, title) {
            currentDocCategoryEl.textContent = category || '未知分類';
            currentDocTitleEl.textContent = title || '未選文獻';
        }

        function renderDocuments(filteredDocuments) {
            documentsGrid.innerHTML = '';
            const documentsToRender = filteredDocuments || documentsData;
            
            totalCountEl.textContent = documentsToRender.length;

            documentsToRender.forEach(doc => {
                const card = document.createElement('div');
                card.className = 'document-card';
                card.innerHTML = `
                    <h3 class="document-title">${doc.tibetanTitle.split('།')[0]}</h3>
                    <div class="document-subtitle">${doc.chineseTitle}</div>
                    <div class="document-meta">
                        <div class="meta-item">
                            <span>👤</span>
                            <span>${doc.author}</span>
                        </div>
                        <div class="meta-item">
                            <span>📄</span>
                            <span>${doc.meta.words} | ${doc.meta.pages}</span>
                        </div>
                        <div class="meta-item">
                            <span>⏱️</span>
                            <span>${doc.meta.readTime}</span>
                        </div>
                        ${doc.tags && doc.tags.length > 0 ? `<div class="meta-item"><span>🏷️</span><span>${doc.tags.join(', ')}</span></div>` : ''}
                    </div>
                    <div class="document-preview">
                        ${doc.preview}
                    </div>
                    <div class="document-actions">
                        <button class="btn btn-primary" onclick="openModal('${doc.id}')">📖 閱讀全文</button>
                        <button class="btn btn-secondary" onclick="addToFavorites('${doc.id}')">❤️ 加入收藏</button>
                    </div>
                `;
                documentsGrid.appendChild(card);
            });
            applyViewMode();
        }
        
        function applyViewMode() {
            if (currentView === 'list') {
                documentsGrid.style.gridTemplateColumns = '1fr';
                document.querySelectorAll('.document-card').forEach(card => {
                    card.style.display = 'flex';
                    card.style.flexDirection = 'row';
                    card.style.alignItems = 'center';
                });
            } else { 
                documentsGrid.style.gridTemplateColumns = 'repeat(auto-fit, minmax(350px, 1fr))';
                 document.querySelectorAll('.document-card').forEach(card => {
                    card.style.display = 'block'; 
                });
            }
        }

        function openModal(docId) {
            const doc = documentsData.find(d => d.id === docId);
            if (doc) {
                currentOpenDocId = docId;
                modalTitleEl.textContent = doc.chineseTitle;
                modalTitleTibetanEl.textContent = doc.tibetanTitle.split('།')[0];
                
                modalTibetanContentEl.innerHTML = `<h3>藏文原文</h3><div class="tibetan-text">${doc.fullContentTibetan.replace(/<p class="tibetan-text">|<\/p>/g, '')}</div>`; // Keep text, remove p tags if they exist
                modalChineseContentEl.innerHTML = `<h3>中文翻譯</h3><div class="chinese-text">${doc.fullContentChinese.replace(/<p class="chinese-text">|<\/p>/g, '')}</div>`;
                
                documentModal.classList.add('active');
                updateBreadcrumb(doc.category, doc.chineseTitle);
                setActiveSidebarItem(docId);
            }
        }

        function closeModal(modalId) {
            document.getElementById(modalId).classList.remove('active');
             if (modalId === 'documentModal') {
                currentOpenDocId = null;
                 // Revert breadcrumb to the initially active item or a default state
                const activeSidebarItem = document.querySelector('.sidebar .course-item.active');
                if (activeSidebarItem && activeSidebarItem.dataset.docId) {
                    const activeDoc = documentsData.find(d => d.id === activeSidebarItem.dataset.docId);
                    if(activeDoc) updateBreadcrumb(activeDoc.category, activeDoc.chineseTitle);
                } else {
                    updateBreadcrumb('分類', '文獻'); // Default
                }
            }
            if (modalId === 'addArticleModal') {
                addArticleForm.reset(); // Reset form when closing
            }
        }
        
        function showLoginModal() {
            loginModal.classList.add('active');
        }
        
        function showAddArticleModal() {
            if (!currentUser) {
                showMessage('請先登入以新增文獻。', 'error');
                return;
            }
            addArticleModal.classList.add('active');
        }


        loginForm.addEventListener('submit', function(e) {
            e.preventDefault();
            const username = document.getElementById('username').value;
            currentUser = { username: username, avatarChar: username.charAt(0).toUpperCase() };
            updateUserSection();
            closeModal('loginModal');
            showMessage('登入成功！歡迎回來，' + username, 'success');
        });

        addArticleForm.addEventListener('submit', function(e) {
            e.preventDefault();
            const newDoc = {
                id: 'doc_' + Date.now(), // Simple unique ID
                tibetanTitle: document.getElementById('newTibetanTitle').value,
                chineseTitle: document.getElementById('newChineseTitle').value,
                author: document.getElementById('newAuthor').value,
                category: document.getElementById('newCategory').value,
                tags: document.getElementById('newTags').value.split(',').map(tag => tag.trim()).filter(tag => tag),
                fullContentTibetan: `<p class="tibetan-text">${document.getElementById('newFullContentTibetan').value.replace(/\n/g, '<br>')}</p>`,
                fullContentChinese: `<p class="chinese-text">${document.getElementById('newFullContentChinese').value.replace(/\n/g, '<br>')}</p>`,
                meta: { words: 'N/A', pages: 'N/A', readTime: 'N/A' }, // Placeholder meta
            };
            newDoc.preview = newDoc.fullContentTibetan.substring(0, 150).replace(/<br>/g, ' ') + '...'; // Basic preview

            documentsData.push(newDoc);
            saveDocumentsData();
            renderSidebar(); 
            renderDocuments(); 
            closeModal('addArticleModal');
            showMessage('文獻已成功新增！', 'success');
        });


        function updateUserSection() {
            if (currentUser) {
                userSection.innerHTML = `
                    <button class="admin-btn" onclick="showAddArticleModal()">✨ 新增文獻</button>
                    <div class="user-info">
                        <span>${currentUser.username}</span>
                        <div class="user-avatar" title="用戶設定">${currentUser.avatarChar}</div>
                    </div>
                    <button class="login-btn" onclick="logout()">登出</button>
                `;
            } else {
                userSection.innerHTML = `
                    <button class="login-btn" onclick="showLoginModal()">
                        👤 登入
                    </button>
                `;
            }
        }
        
        function logout() {
            currentUser = null;
            updateUserSection();
            showMessage('已成功登出。', 'info');
        }

        function showMessage(msg, type = 'info') {
            const messageEl = document.createElement('div');
            messageEl.className = `message ${type}`;
            messageEl.textContent = msg;
            messageArea.appendChild(messageEl);
            setTimeout(() => {
                messageEl.remove();
            }, 3000);
        }

        searchInput.addEventListener('input', function() {
            const searchTerm = searchInput.value.toLowerCase();
            const filtered = documentsData.filter(doc => 
                doc.tibetanTitle.toLowerCase().includes(searchTerm) ||
                doc.chineseTitle.toLowerCase().includes(searchTerm) ||
                doc.author.toLowerCase().includes(searchTerm) ||
                (doc.tags && doc.tags.some(tag => tag.toLowerCase().includes(searchTerm))) ||
                doc.fullContentTibetan.toLowerCase().includes(searchTerm) ||
                doc.fullContentChinese.toLowerCase().includes(searchTerm)
            );
            renderDocuments(filtered);
        });
        
        document.getElementById('gridViewBtn').addEventListener('click', () => {
            currentView = 'grid';
            document.getElementById('gridViewBtn').classList.add('active');
            document.getElementById('listViewBtn').classList.remove('active');
            applyViewMode();
        });

        document.getElementById('listViewBtn').addEventListener('click', () => {
            currentView = 'list';
            document.getElementById('listViewBtn').classList.add('active');
            document.getElementById('gridViewBtn').classList.remove('active');
            applyViewMode();
        });

        window.toggleCategory = function(headerElement) {
            headerElement.classList.toggle('collapsed');
            const list = headerElement.nextElementSibling;
            list.classList.toggle('collapsed');
        }
        
        window.toggleSidebar = function() {
            document.getElementById('sidebar').classList.toggle('open');
        }

        function addToFavorites(docId) {
            const doc = documentsData.find(d => d.id === docId);
            showMessage(`“${doc.chineseTitle}” 已加入收藏！ (此功能待實現)`, 'info');
        }
        
        function renderSidebar() {
            courseMenuContainer.innerHTML = '';
            const categories = {};
            // Predefined category order and icons
            const categoryOrder = ['傳記', '自傳', '道歌集', '信件', '祈請文'];
            const categoryIcons = {
                '傳記': '📚',
                '自傳': '🧘',
                '道歌集': '🎶', // Changed icon
                '信件': '📬',
                '祈請文': '🙏'
            };

            documentsData.forEach(doc => {
                if (!categories[doc.category]) {
                    categories[doc.category] = [];
                }
                categories[doc.category].push(doc);
            });

            // Create an ordered list of categories based on categoryOrder, then add any new ones
            const sortedCategoryNames = [...new Set([...categoryOrder, ...Object.keys(categories)])];


            sortedCategoryNames.forEach(categoryName => {
                if (!categories[categoryName]) return; // Skip if category has no docs after filtering (though unlikely here)

                const categoryDocs = categories[categoryName];
                const categoryDiv = document.createElement('div');
                categoryDiv.className = 'course-category';

                const header = document.createElement('div');
                header.className = 'category-header collapsed'; // Start collapsed
                header.onclick = function() { toggleCategory(this); };
                header.innerHTML = `
                    <span>${categoryIcons[categoryName] || '📖'} ${categoryName}</span>
                    <span class="category-toggle">▼</span>
                `;
                
                const list = document.createElement('div');
                list.className = 'course-list collapsed'; // Start collapsed

                categoryDocs.forEach(doc => {
                    const item = document.createElement('div');
                    item.className = 'course-item';
                    item.dataset.docId = doc.id;
                    // Try to show only Chinese title, or Tibetan if Chinese is very long or missing
                    let displayTitle = doc.chineseTitle;
                    if (displayTitle.length > 20 && doc.tibetanTitle.split('།')[0].length < 30) {
                        displayTitle = doc.tibetanTitle.split('།')[0];
                    }

                    item.innerHTML = `
                        <span>${displayTitle}</span>
                        <span class="course-status pending">未開始</span>
                    `;
                    item.addEventListener('click', function() {
                        openModal(doc.id);
                    });
                    list.appendChild(item);
                });
                categoryDiv.appendChild(header);
                categoryDiv.appendChild(list);
                courseMenuContainer.appendChild(categoryDiv);
            });
            // After rendering, set the active item if one is open
            if(currentOpenDocId) {
                setActiveSidebarItem(currentOpenDocId);
            } else {
                 // Try to set the first available document as active if nothing is explicitly open
                const firstAvailableDoc = documentsData.length > 0 ? documentsData[0] : null;
                if (firstAvailableDoc) {
                    setActiveSidebarItem(firstAvailableDoc.id);
                    updateBreadcrumb(firstAvailableDoc.category, firstAvailableDoc.chineseTitle);
                } else {
                    updateBreadcrumb('N/A', '無文獻');
                }
            }
        }


        function setActiveSidebarItem(docId) {
            document.querySelectorAll('.course-item').forEach(item => {
                item.classList.remove('active');
                 // Update status based on currentOpenDocId
                if (item.dataset.docId === currentOpenDocId) {
                    item.querySelector('.course-status').className = 'course-status current';
                    item.querySelector('.course-status').textContent = '進行中';
                } else {
                    // This is a placeholder; real status would come from user progress data
                    item.querySelector('.course-status').className = 'course-status pending';
                    item.querySelector('.course-status').textContent = '未開始';
                }

                if (item.dataset.docId === docId) {
                    item.classList.add('active');
                    const categoryList = item.closest('.course-list');
                    if (categoryList && categoryList.classList.contains('collapsed')) {
                        const categoryHeader = categoryList.previousElementSibling;
                        toggleCategory(categoryHeader);
                    }
                }
            });
        }

        // Initial load sequence
        loadDocumentsData();
        renderSidebar();
        renderDocuments();
        updateUserSection();

        // Set initial active item and breadcrumb if documents exist
        if (documentsData.length > 0) {
            const initialDocToDisplay = documentsData.find(d => d.id === 'mamo_secret') || documentsData[0];
            updateBreadcrumb(initialDocToDisplay.category, initialDocToDisplay.chineseTitle);
            setActiveSidebarItem(initialDocToDisplay.id);
        } else {
            updateBreadcrumb('N/A', '無文獻');
        }

    </script>
</body>
</html>